This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
assets/
  data/
    library.json
docs/
  sequence-diagrams.md
  tech-stack.md
  use-cases.md
  workflow-diagrams.md
ios/
  musicplayer/
    Images.xcassets/
      AppIcon.appiconset/
        Contents.json
      SplashScreen.imageset/
        Contents.json
      SplashScreenBackground.imageset/
        Contents.json
      Contents.json
    Supporting/
      Expo.plist
    AppDelegate.h
    AppDelegate.mm
    Info.plist
    main.m
    musicplayer-Bridging-Header.h
    musicplayer.entitlements
    noop-file.swift
    SplashScreen.storyboard
  musicplayer.xcodeproj/
    xcshareddata/
      xcschemes/
        musicplayer.xcscheme
    project.pbxproj
  musicplayer.xcworkspace/
    xcshareddata/
      IDEWorkspaceChecks.plist
    contents.xcworkspacedata
  .gitignore
  .xcode.env
  Podfile
  Podfile.lock
  Podfile.properties.json
src/
  app/
    (modals)/
      addToPlaylist.tsx
    (tabs)/
      (songs)/
        _layout.tsx
        index.tsx
      artists/
        _layout.tsx
        [name].tsx
        index.tsx
      favorites/
        _layout.tsx
        index.tsx
      playlists/
        _layout.tsx
        [name].tsx
        index.tsx
      _layout.tsx
    _layout.tsx
    player.tsx
  components/
    utils/
      StopPropagation.tsx
    ArtistTracksList.tsx
    FloatingPlayer.tsx
    MovingText.tsx
    PlayerControls.tsx
    PlayerProgressbar.tsx
    PlayerRepeatToggle.tsx
    PlayerVolumeBar.tsx
    PlaylistListItem.tsx
    PlaylistsList.tsx
    PlaylistTracksList.tsx
    QueueControls.tsx
    TrackShortcutsMenu.tsx
    TracksList.tsx
    TracksListItem.tsx
  constants/
    images.ts
    layout.ts
    playbackService.ts
    tokens.ts
  helpers/
    filter.ts
    miscellaneous.ts
    types.ts
  hooks/
    useLastActiveTrack.tsx
    useLogTrackPlayerState.tsx
    useNavigationSearch.tsx
    usePlayerBackground.tsx
    useSetupTrackPlayer.tsx
    useTrackPlayerFavorite.tsx
    useTrackPlayerRepeatMode.tsx
    useTrackPlayerVolume.tsx
  store/
    library.tsx
    queue.tsx
  styles/
    index.ts
  types/
    index.d.ts
.eslintignore
.eslintrc.json
.gitignore
.prettierignore
.prettierrc
app.json
babel.config.js
LICENSE.md
package.json
README.md
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="assets/data/library.json">
[
  {
    "url": "https://audio.jukehost.co.uk/vTRYaTEbpaYRCxiWGgL2S91mnOuMKfLw",
    "title": "Guess I'll Never Know",
    "artist": "TrackTribe",
    "artwork": "https://f4.bcbits.com/img/a3736661212_65",
    "rating": 1,
    "playlist": ["Chill ğŸŒ±"]
  },
  {
    "url": "https://audio.jukehost.co.uk/priWy2vYsWODmQiM6KevNYVLpPJGPZGd",
    "title": "Memories",
    "playlist": ["Instrumental ğŸµ"]
  },
  {
    "url": "https://audio.jukehost.co.uk/rSmGXxf0OJLipPwFRyvoFKodDOj5VuWf",
    "title": "Anxiety",
    "artist": "NEFFEX",
    "artwork": "https://i1.sndcdn.com/artworks-iCqupgQNLXSjKspS-0CGreg-t500x500.jpg",
    "playlist": ["Chill ğŸŒ±", "Instrumental ğŸµ", "Rap ğŸ¤"]
  },
  {
    "url": "https://audio.jukehost.co.uk/ZLdoXNocDAcsgeq6QKtPRHyvlqslNbke",
    "title": "As You Fade Away",
    "artist": "NEFFEX",
    "artwork": "https://i.ytimg.com/vi/JhUFfaArYk8/maxresdefault.jpg",
    "rating": 1,
    "playlist": ["Rap ğŸ¤"]
  },
  {
    "url": "https://audio.jukehost.co.uk/rZ9sshicVlki8Dnm95ps1eWhK95dYgKF",
    "title": "Cattle",
    "artist": "Telecasted",
    "artwork": "https://i.ytimg.com/vi/rxmWdkluHJ0/maxresdefault.jpg",
    "playlist": ["Chill ğŸŒ±"]
  },
  {
    "url": "https://audio.jukehost.co.uk/ZufGK11EtwQWXge8xYo5EQ02RuJqtr4s",
    "title": "Desert Brawl",
    "artist": "Vans in Japan",
    "artwork": "https://i.ytimg.com/vi/Kk0xLSNMPeQ/maxresdefault.jpg"
  },
  {
    "url": "https://audio.jukehost.co.uk/Tn0JjUOFnQXt94p3CQCA4AkB3weF51Yf",
    "title": "Changing",
    "artist": "NEFFEX",
    "artwork": "https://i1.sndcdn.com/artworks-ZaFhh1AQdO4hqdYb-ssYmcA-t500x500.jpg",
    "rating": 1,
    "playlist": ["Rap ğŸ¤"]
  },
  {
    "url": "https://audio.jukehost.co.uk/yA5v0HqEX7pRLKDkjp3XeFDcksZVv7lr",
    "title": "El Secreto",
    "artist": "Yung Logos",
    "artwork": "https://i.ytimg.com/vi/VMfrx6lbsEQ/maxresdefault.jpg"
  },
  {
    "url": "https://audio.jukehost.co.uk/BTIDaoKPirPWaPpHl8SOsIU8Ge9Zx9Mb",
    "title": "Go Down Swinging (Instrumental)",
    "artist": "NEFFEX",
    "playlist": ["Instrumental ğŸµ", "Rap ğŸ¤"]
  },
  {
    "url": "https://audio.jukehost.co.uk/nXa6f08Ojlz1V2SYJ3axYmSa7ot0hblZ",
    "title": "Hotlanta",
    "artist": "TrackTribe",
    "artwork": "https://i.ytimg.com/vi/fwuW0HpXA30/maxresdefault.jpg",
    "rating": 1
  },
  {
    "url": "https://audio.jukehost.co.uk/cbMVQp4JGHhSNEeCqRjvieiigYpUaE0s",
    "title": "Take Me Back",
    "artist": "NEFFEX",
    "artwork": "https://i1.sndcdn.com/artworks-yaXBlJOtjWvRcNnA-W6spcw-t500x500.jpg",
    "playlist": ["Rap ğŸ¤"]
  },
  {
    "url": "https://audio.jukehost.co.uk/Ge9fdTsk6Y9SWoOnC7QJH0n8pprU7rev",
    "title": "mellow-future-bass-bounce-on-it",
    "playlist": ["Chill ğŸŒ±", "Instrumental ğŸµ"]
  },
  {
    "url": "https://audio.jukehost.co.uk/KDOr4agGwHHvikLtk9zukiiDpYNzIp8w",
    "title": "Outside the Box",
    "artist": "Patrick Patrikios",
    "artwork": "https://i.ytimg.com/vi/nAXO_-eGmGY/maxresdefault.jpg",
    "rating": 1
  },
  {
    "url": "https://audio.jukehost.co.uk/K4PdyskIIfRrRotZtwF0EfHkJGjTs9Dy",
    "title": "Smokey's Lounge",
    "artist": "TrackTribe",
    "artwork": "https://i.scdn.co/image/ab67616d0000b2730efb49aab6109fe4c74d6b04"
  },
  {
    "url": "https://audio.jukehost.co.uk/5MLu9yZCOGOCpf9yhdK4uitEv2CZ9fwx",
    "title": "Sunny Days",
    "artist": "Anno Domini Beats",
    "artwork": "https://i1.sndcdn.com/artworks-fJ47RvWYE7weOhay-V5Qjyw-t500x500.jpg",
    "playlist": ["Chill ğŸŒ±"]
  },
  {
    "url": "https://audio.jukehost.co.uk/bnvYr6BoqfoZjrx72rvq3hGXyE6b7Qyz",
    "title": "Hidden Frozen Lake - Go By Ocean",
    "artist": "Ryan McCaffrey",
    "playlist": ["Chill ğŸŒ±"]
  }
]
</file>

<file path="docs/sequence-diagrams.md">
# Music Player - Sequence Diagrams (Biá»ƒu Ä‘á»“ Tuáº§n tá»±)

## Má»¥c lá»¥c

1. [Khá»Ÿi táº¡o á»©ng dá»¥ng](#1-khá»Ÿi-táº¡o-á»©ng-dá»¥ng)
2. [PhÃ¡t bÃ i hÃ¡t](#2-phÃ¡t-bÃ i-hÃ¡t)
3. [Äiá»u khiá»ƒn phÃ¡t nháº¡c](#3-Ä‘iá»u-khiá»ƒn-phÃ¡t-nháº¡c)
4. [Quáº£n lÃ½ Favorites](#4-quáº£n-lÃ½-favorites)
5. [ThÃªm vÃ o Playlist](#5-thÃªm-vÃ o-playlist)
6. [TÃ¬m kiáº¿m bÃ i hÃ¡t](#6-tÃ¬m-kiáº¿m-bÃ i-hÃ¡t)
7. [Xem chi tiáº¿t nghá»‡ sÄ©](#7-xem-chi-tiáº¿t-nghá»‡-sÄ©)
8. [Äiá»u khiá»ƒn tá»« Lock Screen](#8-Ä‘iá»u-khiá»ƒn-tá»«-lock-screen)
9. [Má»Ÿ mÃ n hÃ¬nh Player](#9-má»Ÿ-mÃ n-hÃ¬nh-player)
10. [Äiá»u chá»‰nh Ã¢m lÆ°á»£ng & Repeat](#10-Ä‘iá»u-chá»‰nh-Ã¢m-lÆ°á»£ng--repeat)

---

## 1. Khá»Ÿi táº¡o á»©ng dá»¥ng

### SD01: App Initialization Flow

```mermaid
sequenceDiagram
    autonumber
    participant App as ğŸ“± App
    participant Splash as SplashScreen
    participant TP as TrackPlayer
    participant PS as PlaybackService
    participant Hook as useSetupTrackPlayer
    participant UI as RootNavigation

    App->>Splash: preventAutoHideAsync()
    activate Splash
    Note over Splash: Giá»¯ splash screen

    App->>TP: registerPlaybackService(playbackService)
    activate TP
    TP->>PS: Initialize service
    
    PS->>PS: addEventListener(RemotePlay)
    PS->>PS: addEventListener(RemotePause)
    PS->>PS: addEventListener(RemoteStop)
    PS->>PS: addEventListener(RemoteNext)
    PS->>PS: addEventListener(RemotePrevious)
    PS-->>TP: Service registered
    deactivate TP

    App->>Hook: useSetupTrackPlayer({ onLoad })
    activate Hook
    
    Hook->>TP: setupPlayer({ maxCacheSize: 10MB })
    activate TP
    TP-->>Hook: Player created
    
    Hook->>TP: updateOptions({ capabilities, ratingType })
    TP-->>Hook: Options set
    
    Hook->>TP: setVolume(0.3)
    TP-->>Hook: Volume set
    
    Hook->>TP: setRepeatMode(Queue)
    TP-->>Hook: Repeat mode set
    deactivate TP

    Hook->>Hook: isInitialized = true
    Hook->>Splash: onLoad() â†’ hideAsync()
    deactivate Splash
    Note over Splash: áº¨n splash screen
    
    deactivate Hook

    App->>UI: Render RootNavigation
    UI-->>App: App ready
    
    Note over App,UI: âœ… á»¨ng dá»¥ng sáºµn sÃ ng sá»­ dá»¥ng
```

---

## 2. PhÃ¡t bÃ i hÃ¡t

### SD02: Play Track - New Queue

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant TL as TracksList
    participant TLI as TracksListItem
    participant QS as QueueStore
    participant TP as TrackPlayer
    participant FP as FloatingPlayer

    U->>TLI: Tap on track
    TLI->>TL: onTrackSelect(selectedTrack)
    
    TL->>TL: findIndex(track.url)
    Note over TL: trackIndex = 5

    TL->>QS: Get activeQueueId
    QS-->>TL: currentQueueId = "playlist-A"
    
    TL->>TL: Check isChangingQueue
    Note over TL: newQueueId = "songs-search"<br/>isChangingQueue = true

    rect rgb(240, 248, 255)
        Note over TL,TP: Táº¡o Queue má»›i
        TL->>TP: reset()
        TP-->>TL: Queue cleared
        
        TL->>TL: Split tracks
        Note over TL: beforeTracks = tracks[0:4]<br/>afterTracks = tracks[6:end]
        
        TL->>TP: add(selectedTrack)
        TL->>TP: add(afterTracks)
        TL->>TP: add(beforeTracks)
        Note over TP: Queue: [5,6,7,8,9,0,1,2,3,4]
        
        TL->>TP: play()
        TP-->>TL: Playing
    end

    TL->>TL: queueOffset = trackIndex
    TL->>QS: setActiveQueueId("songs-search")
    QS-->>TL: Updated

    TP-->>FP: Track changed event
    FP->>FP: Update UI
    FP-->>U: ğŸµ Show current track

    Note over U,FP: âœ… BÃ i hÃ¡t Ä‘ang phÃ¡t
```

### SD03: Play Track - Same Queue

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant TL as TracksList
    participant TLI as TracksListItem
    participant QS as QueueStore
    participant TP as TrackPlayer

    U->>TLI: Tap on different track
    TLI->>TL: onTrackSelect(selectedTrack)
    
    TL->>TL: findIndex(track.url)
    Note over TL: trackIndex = 3

    TL->>QS: Get activeQueueId
    QS-->>TL: currentQueueId = "songs-search"
    
    TL->>TL: Check isChangingQueue
    Note over TL: newQueueId = "songs-search"<br/>isChangingQueue = false

    rect rgb(255, 250, 240)
        Note over TL,TP: CÃ¹ng Queue - Chá»‰ skip
        TL->>TL: Calculate nextTrackIndex
        Note over TL: queueOffset = 5<br/>trackIndex = 3<br/>nextTrackIndex = 3 - 5 + 10 = 8
        
        TL->>TP: skip(8)
        TP-->>TL: Skipped
        
        TL->>TP: play()
        TP-->>TL: Playing
    end

    Note over U,TP: âœ… Chuyá»ƒn Ä‘áº¿n bÃ i hÃ¡t trong cÃ¹ng queue
```

### SD04: Play All / Shuffle

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant QC as QueueControls
    participant TL as TracksList
    participant TP as TrackPlayer
    participant QS as QueueStore

    alt Play All
        U->>QC: Tap "Play" button
        QC->>QC: Get tracks (original order)
    else Shuffle
        U->>QC: Tap "Shuffle" button
        QC->>QC: shuffledTracks = shuffle(tracks)
    end

    QC->>TP: reset()
    TP-->>QC: Queue cleared
    
    QC->>TP: add(tracks)
    Note over TP: All tracks added to queue
    
    QC->>TP: play()
    TP-->>QC: Playing from first track
    
    QC->>QS: setActiveQueueId(newId)
    
    Note over U,QS: âœ… PhÃ¡t toÃ n bá»™ danh sÃ¡ch
```

---

## 3. Äiá»u khiá»ƒn phÃ¡t nháº¡c

### SD05: Play/Pause Toggle

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant PC as PlayerControls
    participant Hook as useIsPlaying
    participant TP as TrackPlayer

    U->>PC: Tap Play/Pause button
    
    PC->>Hook: Get current state
    Hook->>TP: getPlaybackState()
    TP-->>Hook: { state: "playing" }
    Hook-->>PC: isPlaying = true

    alt Currently Playing
        PC->>TP: pause()
        TP-->>PC: Paused
        Note over PC: Icon: Play â–¶ï¸
    else Currently Paused
        PC->>TP: play()
        TP-->>PC: Playing
        Note over PC: Icon: Pause â¸ï¸
    end

    TP-->>Hook: State changed event
    Hook-->>PC: Update isPlaying
    PC-->>U: ğŸ”„ UI updated
```

### SD06: Skip Next / Previous

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant PC as PlayerControls
    participant TP as TrackPlayer
    participant FP as FloatingPlayer
    participant PS as PlayerScreen

    alt Skip Next
        U->>PC: Tap â­ï¸ button
        PC->>TP: skipToNext()
        
        alt Has next track
            TP->>TP: Move to next in queue
            TP-->>PC: Success
        else End of queue (Repeat: Queue)
            TP->>TP: Jump to first track
            TP-->>PC: Success
        else End of queue (Repeat: Off)
            TP-->>PC: No more tracks
        end
        
    else Skip Previous
        U->>PC: Tap â®ï¸ button
        PC->>TP: skipToPrevious()
        
        alt Has previous track
            TP->>TP: Move to previous in queue
            TP-->>PC: Success
        else Start of queue (Repeat: Queue)
            TP->>TP: Jump to last track
            TP-->>PC: Success
        end
    end

    TP-->>FP: Track changed
    TP-->>PS: Track changed
    
    FP->>FP: Update track info
    PS->>PS: Update track info & colors
    
    Note over U,PS: âœ… BÃ i hÃ¡t Ä‘Ã£ chuyá»ƒn
```

---

## 4. Quáº£n lÃ½ Favorites

### SD07: Toggle Favorite tá»« Player Screen

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant PS as PlayerScreen
    participant Hook as useTrackPlayerFavorite
    participant LS as LibraryStore
    participant TP as TrackPlayer

    U->>PS: Tap Heart icon â™¡
    PS->>Hook: toggleFavorite()
    
    Hook->>TP: getActiveTrack()
    TP-->>Hook: currentTrack
    
    Hook->>LS: toggleTrackFavorite(currentTrack)
    
    LS->>LS: Find track by URL
    LS->>LS: Toggle rating (0 â†” 1)
    
    alt Was not favorite (rating: 0)
        LS->>LS: Set rating = 1
        Note over LS: â¤ï¸ Added to favorites
    else Was favorite (rating: 1)
        LS->>LS: Set rating = 0
        Note over LS: â™¡ Removed from favorites
    end
    
    LS-->>Hook: State updated
    
    Hook->>TP: updateMetadataForTrack(index, { rating })
    TP-->>Hook: Metadata updated
    
    Hook-->>PS: isFavorite changed
    PS->>PS: Update heart icon
    PS-->>U: â¤ï¸/â™¡ Icon updated
```

### SD08: Toggle Favorite tá»« Track Menu

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant TLI as TracksListItem
    participant Menu as TrackShortcutsMenu
    participant LS as LibraryStore

    U->>TLI: Long press on track
    TLI->>Menu: Show context menu
    Menu-->>U: Display menu options

    U->>Menu: Select "Favorite"
    
    Menu->>LS: toggleTrackFavorite(track)
    LS->>LS: Update track.rating
    LS-->>Menu: State updated
    
    Menu->>Menu: Close menu
    Menu-->>U: âœ… Favorite toggled
```

---

## 5. ThÃªm vÃ o Playlist

### SD09: Add Track to Playlist

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant TLI as TracksListItem
    participant Menu as TrackShortcutsMenu
    participant Router as Expo Router
    participant Modal as AddToPlaylistModal
    participant LS as LibraryStore
    participant QS as QueueStore
    participant TP as TrackPlayer

    U->>TLI: Long press on track
    TLI->>Menu: Show context menu
    Menu-->>U: Display options

    U->>Menu: Select "Add to playlist"
    Menu->>Router: navigate("/addToPlaylist", { trackUrl })
    
    Router->>Modal: Open modal
    activate Modal
    
    Modal->>LS: useTracks()
    LS-->>Modal: All tracks
    
    Modal->>Modal: Find track by URL
    
    Modal->>LS: usePlaylists()
    LS-->>Modal: All playlists
    
    Modal->>Modal: Filter available playlists
    Note over Modal: Loáº¡i bá» playlist Ä‘Ã£ chá»©a track
    
    Modal-->>U: Show available playlists

    U->>Modal: Select playlist "Chill Vibes"
    
    Modal->>LS: addToPlaylist(track, "Chill Vibes")
    LS->>LS: Add "Chill Vibes" to track.playlist[]
    LS-->>Modal: Updated

    Modal->>QS: Get activeQueueId
    QS-->>Modal: "Chill Vibes-xyz"
    
    Modal->>Modal: Check if playing selected playlist
    
    alt Currently playing "Chill Vibes"
        Modal->>TP: add(track)
        Note over TP: Track added to end of queue
        TP-->>Modal: Added
    end

    Modal->>Router: dismiss()
    deactivate Modal
    
    Router-->>U: âœ… Modal closed, track added
```

---

## 6. TÃ¬m kiáº¿m bÃ i hÃ¡t

### SD10: Search Tracks

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant Screen as SongsScreen
    participant Hook as useNavigationSearch
    participant Nav as Navigation Header
    participant LS as LibraryStore
    participant TL as TracksList

    U->>Nav: Pull down to reveal search
    Nav-->>U: Show search bar

    U->>Nav: Type "love"
    Nav->>Hook: Update search value
    Hook-->>Screen: search = "love"

    Screen->>LS: useTracks()
    LS-->>Screen: All tracks (50 items)

    Screen->>Screen: useMemo filter
    Note over Screen: filteredTracks = tracks.filter(<br/>track.title.toLowerCase()<br/>.includes("love"))
    
    Screen-->>Screen: filteredTracks (5 items)

    Screen->>TL: Render TracksList
    TL->>TL: Generate new list ID
    Note over TL: id = "songs-love"
    
    TL-->>U: Display 5 matching tracks

    alt No results
        TL-->>U: "No songs found" + placeholder image
    end

    U->>Nav: Clear search
    Nav->>Hook: search = ""
    Hook-->>Screen: search cleared
    Screen->>Screen: Show all tracks
    Screen-->>U: Display all 50 tracks
```

---

## 7. Xem chi tiáº¿t nghá»‡ sÄ©

### SD11: View Artist Detail

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant AL as ArtistsScreen
    participant Router as Expo Router
    participant AD as ArtistDetailScreen
    participant LS as LibraryStore
    participant TL as ArtistTracksList

    U->>AL: Tap on artist "Taylor Swift"
    AL->>Router: navigate("/artists/[name]", { name: "Taylor Swift" })
    
    Router->>AD: Load screen
    activate AD
    
    AD->>AD: useLocalSearchParams()
    Note over AD: artistName = "Taylor Swift"
    
    AD->>LS: useArtists()
    LS->>LS: Group tracks by artist
    LS-->>AD: artists[]
    
    AD->>AD: Find artist by name
    Note over AD: artist = { name, tracks: [...] }

    AD->>AD: Render header
    Note over AD: Artist image + name

    AD->>TL: Render tracks
    TL->>TL: Generate list ID
    Note over TL: id = "artists-Taylor Swift"
    
    TL-->>U: Display artist tracks
    deactivate AD

    U->>TL: Tap on track
    Note over U,TL: â†’ Trigger SD02 (Play Track)
```

---

## 8. Äiá»u khiá»ƒn tá»« Lock Screen

### SD12: Remote Control Events

```mermaid
sequenceDiagram
    autonumber
    participant OS as ğŸ“± iOS/Android
    participant CC as Control Center
    participant PS as PlaybackService
    participant TP as TrackPlayer
    participant App as ğŸ“± App UI

    Note over OS,App: Äiá»‡n thoáº¡i Ä‘ang khÃ³a mÃ n hÃ¬nh

    OS->>CC: Show media controls
    CC-->>OS: Display current track info

    alt User taps Play
        OS->>PS: RemotePlay event
        PS->>TP: play()
        TP-->>PS: Playing
        TP-->>CC: Update state: playing
    end

    alt User taps Pause
        OS->>PS: RemotePause event
        PS->>TP: pause()
        TP-->>PS: Paused
        TP-->>CC: Update state: paused
    end

    alt User taps Next
        OS->>PS: RemoteNext event
        PS->>TP: skipToNext()
        TP-->>PS: Skipped
        TP-->>CC: Update track info
    end

    alt User taps Previous
        OS->>PS: RemotePrevious event
        PS->>TP: skipToPrevious()
        TP-->>PS: Skipped
        TP-->>CC: Update track info
    end

    Note over OS,App: Khi unlock vÃ  má»Ÿ app
    OS->>App: App becomes active
    App->>TP: Get current state
    TP-->>App: Current track & state
    App->>App: Sync UI with playback state
```

---

## 9. Má»Ÿ mÃ n hÃ¬nh Player

### SD13: Open Player Screen

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant FP as FloatingPlayer
    participant Router as Expo Router
    participant PS as PlayerScreen
    participant TP as TrackPlayer
    participant Hook1 as useActiveTrack
    participant Hook2 as usePlayerBackground
    participant Hook3 as useTrackPlayerFavorite

    U->>FP: Tap floating player
    FP->>Router: navigate("/player")
    
    Router->>PS: Present as card modal
    activate PS
    Note over PS: Gesture: vertical swipe down to dismiss

    PS->>Hook1: useActiveTrack()
    Hook1->>TP: Subscribe to track changes
    TP-->>Hook1: currentTrack
    Hook1-->>PS: activeTrack

    alt No active track
        PS-->>U: Show loading spinner
    else Has active track
        PS->>Hook2: usePlayerBackground(artwork)
        Hook2->>Hook2: Extract colors from image
        Hook2-->>PS: { background, primary }
        
        PS->>PS: Apply gradient background
        Note over PS: LinearGradient with extracted colors

        PS->>Hook3: useTrackPlayerFavorite()
        Hook3->>TP: Get track rating
        TP-->>Hook3: rating
        Hook3-->>PS: { isFavorite, toggleFavorite }

        PS->>PS: Render UI components
        Note over PS: Artwork, Title, Artist<br/>Progress bar, Controls<br/>Volume bar, Repeat toggle

        PS-->>U: Display full player
    end
    deactivate PS

    U->>PS: Swipe down
    PS->>Router: Gesture dismiss
    Router-->>U: Return to previous screen
```

---

## 10. Äiá»u chá»‰nh Ã¢m lÆ°á»£ng & Repeat

### SD14: Adjust Volume

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant VB as PlayerVolumeBar
    participant Hook as useTrackPlayerVolume
    participant TP as TrackPlayer

    U->>VB: Start dragging slider
    
    VB->>Hook: Get current volume
    Hook->>TP: getVolume()
    TP-->>Hook: 0.3
    Hook-->>VB: volume = 0.3

    loop While dragging
        U->>VB: Move slider
        VB->>VB: Update visual position
        VB-->>U: Show current value
    end

    U->>VB: Release slider at 0.7
    VB->>Hook: setVolume(0.7)
    Hook->>TP: setVolume(0.7)
    TP-->>Hook: Volume updated
    Hook-->>VB: Done

    Note over U,TP: ğŸ”Š Ã‚m lÆ°á»£ng Ä‘Ã£ thay Ä‘á»•i
```

### SD15: Toggle Repeat Mode

```mermaid
sequenceDiagram
    autonumber
    participant U as ğŸ‘¤ User
    participant RT as PlayerRepeatToggle
    participant Hook as useTrackPlayerRepeatMode
    participant TP as TrackPlayer

    U->>RT: Tap repeat button
    
    RT->>Hook: Get current mode
    Hook->>TP: getRepeatMode()
    TP-->>Hook: RepeatMode.Queue
    Hook-->>RT: repeatMode = Queue

    RT->>RT: Calculate next mode
    Note over RT: Queue â†’ Off â†’ Track â†’ Queue

    alt Current: Off
        RT->>Hook: setRepeatMode(Track)
        Note over RT: Icon: ğŸ”‚ (repeat one)
    else Current: Track
        RT->>Hook: setRepeatMode(Queue)
        Note over RT: Icon: ğŸ” (active)
    else Current: Queue
        RT->>Hook: setRepeatMode(Off)
        Note over RT: Icon: ğŸ” (dim)
    end

    Hook->>TP: setRepeatMode(newMode)
    TP-->>Hook: Updated
    Hook-->>RT: Done

    RT->>RT: Update icon
    RT-->>U: ğŸ”„ Icon changed
```

---

## Tá»•ng há»£p cÃ¡c Sequence Diagrams

| ID | TÃªn | MÃ´ táº£ |
|----|-----|-------|
| SD01 | App Initialization | Khá»Ÿi táº¡o app, TrackPlayer, PlaybackService |
| SD02 | Play Track - New Queue | PhÃ¡t bÃ i hÃ¡t, táº¡o queue má»›i |
| SD03 | Play Track - Same Queue | PhÃ¡t bÃ i hÃ¡t trong cÃ¹ng queue |
| SD04 | Play All / Shuffle | PhÃ¡t táº¥t cáº£ hoáº·c ngáº«u nhiÃªn |
| SD05 | Play/Pause Toggle | Báº­t/táº¯t phÃ¡t nháº¡c |
| SD06 | Skip Next/Previous | Chuyá»ƒn bÃ i tiáº¿p/trÆ°á»›c |
| SD07 | Toggle Favorite (Player) | YÃªu thÃ­ch tá»« mÃ n hÃ¬nh Player |
| SD08 | Toggle Favorite (Menu) | YÃªu thÃ­ch tá»« context menu |
| SD09 | Add to Playlist | ThÃªm bÃ i hÃ¡t vÃ o playlist |
| SD10 | Search Tracks | TÃ¬m kiáº¿m bÃ i hÃ¡t |
| SD11 | View Artist Detail | Xem chi tiáº¿t nghá»‡ sÄ© |
| SD12 | Remote Control | Äiá»u khiá»ƒn tá»« lock screen |
| SD13 | Open Player Screen | Má»Ÿ mÃ n hÃ¬nh phÃ¡t nháº¡c |
| SD14 | Adjust Volume | Äiá»u chá»‰nh Ã¢m lÆ°á»£ng |
| SD15 | Toggle Repeat Mode | Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ láº·p |

---

## HÆ°á»›ng dáº«n Ä‘á»c Sequence Diagram

### KÃ½ hiá»‡u cÆ¡ báº£n

| KÃ½ hiá»‡u | Ã nghÄ©a |
|---------|---------|
| `â†’` (solid arrow) | Synchronous message (gá»i hÃ m) |
| `-->>` (dashed arrow) | Return message (tráº£ vá») |
| `activate/deactivate` | Thá»i gian hoáº¡t Ä‘á»™ng cá»§a participant |
| `alt/else` | Äiá»u kiá»‡n ráº½ nhÃ¡nh |
| `loop` | VÃ²ng láº·p |
| `rect` | NhÃ³m cÃ¡c bÆ°á»›c liÃªn quan |
| `Note` | Ghi chÃº giáº£i thÃ­ch |
| `autonumber` | ÄÃ¡nh sá»‘ thá»© tá»± tá»± Ä‘á»™ng |

### Participants thÆ°á»ng gáº·p

| Icon | Participant | Vai trÃ² |
|------|-------------|---------|
| ğŸ‘¤ | User | NgÆ°á»i dÃ¹ng |
| ğŸ“± | App/Screen | MÃ n hÃ¬nh á»©ng dá»¥ng |
| ğŸª | Hook | Custom React Hook |
| ğŸ—„ï¸ | Store | Zustand Store |
| ğŸµ | TrackPlayer | Audio Engine |

---

*Generated for Music Player React Native Project*
</file>

<file path="docs/tech-stack.md">
# Music Player - Tech Stack Documentation

## Tá»•ng quan

á»¨ng dá»¥ng Music Player Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng **React Native** vá»›i **Expo**, sá»­ dá»¥ng kiáº¿n trÃºc hiá»‡n Ä‘áº¡i vÃ  cÃ¡c thÆ° viá»‡n phá»• biáº¿n nháº¥t trong há»‡ sinh thÃ¡i React Native.

---

## ğŸ—ï¸ Kiáº¿n trÃºc Tá»•ng quan

```mermaid
flowchart TB
    subgraph Frontend["ğŸ“± Frontend Layer"]
        RN["React Native 0.73.6"]
        Expo["Expo SDK 50"]
        TS["TypeScript 5.1"]
    end

    subgraph Navigation["ğŸ§­ Navigation"]
        ExpoRouter["Expo Router 3.4"]
        Screens["React Native Screens"]
        SafeArea["Safe Area Context"]
    end

    subgraph State["ğŸ—„ï¸ State Management"]
        Zustand["Zustand 4.5"]
    end

    subgraph Audio["ğŸµ Audio Engine"]
        TrackPlayer["React Native Track Player 4.1"]
    end

    subgraph UI["ğŸ¨ UI Components"]
        Reanimated["Reanimated 3.6"]
        Gesture["Gesture Handler 2.14"]
        FastImage["Fast Image"]
        Blur["Expo Blur"]
        Gradient["Expo Linear Gradient"]
    end

    subgraph DevTools["ğŸ› ï¸ Development"]
        ESLint["ESLint"]
        Prettier["Prettier"]
        Babel["Babel"]
    end

    Frontend --> Navigation
    Frontend --> State
    Frontend --> Audio
    Frontend --> UI
    Frontend --> DevTools
```

---

## ğŸ“¦ Core Technologies

### 1. React Native
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 0.73.6 |
| **MÃ´ táº£** | Framework xÃ¢y dá»±ng á»©ng dá»¥ng mobile Ä‘a ná»n táº£ng |
| **Website** | https://reactnative.dev |

**Táº¡i sao chá»n React Native?**
- âœ… Cross-platform: iOS & Android tá»« má»™t codebase
- âœ… Hot Reload: PhÃ¡t triá»ƒn nhanh
- âœ… Native Performance: Hiá»‡u nÄƒng gáº§n nhÆ° native
- âœ… Há»‡ sinh thÃ¡i lá»›n: Nhiá»u thÆ° viá»‡n há»— trá»£

---

### 2. Expo
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | SDK 50.0.14 |
| **MÃ´ táº£** | Framework vÃ  platform cho React Native |
| **Website** | https://expo.dev |

**CÃ¡c module Expo sá»­ dá»¥ng:**
| Package | Version | Chá»©c nÄƒng |
|---------|---------|-----------|
| `expo` | ~50.0.14 | Core SDK |
| `expo-router` | ~3.4.8 | File-based routing |
| `expo-blur` | ~12.9.2 | Hiá»‡u á»©ng blur |
| `expo-linear-gradient` | ~12.7.2 | Gradient backgrounds |
| `expo-status-bar` | ~1.11.1 | Status bar control |
| `expo-constants` | ~15.4.5 | App constants |
| `expo-linking` | ~6.2.2 | Deep linking |
| `expo-dev-client` | ~3.3.11 | Development client |

---

### 3. TypeScript
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 5.1.3 |
| **MÃ´ táº£** | JavaScript vá»›i static typing |
| **Config** | Strict mode enabled |

**Cáº¥u hÃ¬nh TypeScript:**
```json
{
  "compilerOptions": {
    "strict": true,
    "target": "ES6",
    "jsx": "react-native",
    "paths": {
      "@/*": ["./src/*"],
      "@/assets/*": ["./assets/*"]
    }
  }
}
```

---

## ğŸ§­ Navigation

### Expo Router
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 3.4.8 |
| **MÃ´ táº£** | File-based routing cho React Native |
| **Pattern** | Dá»±a trÃªn cáº¥u trÃºc thÆ° má»¥c |

**Cáº¥u trÃºc Navigation:**
```
src/app/
â”œâ”€â”€ _layout.tsx          # Root layout (Stack Navigator)
â”œâ”€â”€ player.tsx           # Player screen (Card modal)
â”œâ”€â”€ (tabs)/              # Tab Navigator
â”‚   â”œâ”€â”€ _layout.tsx      # Tab layout
â”‚   â”œâ”€â”€ favorites/       # Favorites tab
â”‚   â”œâ”€â”€ playlists/       # Playlists tab
â”‚   â”œâ”€â”€ (songs)/         # Songs tab
â”‚   â””â”€â”€ artists/         # Artists tab
â””â”€â”€ (modals)/            # Modal screens
    â””â”€â”€ addToPlaylist.tsx
```

**TÃ­nh nÄƒng:**
- âœ… File-based routing
- âœ… Typed routes (experimental)
- âœ… Nested navigators
- âœ… Deep linking support

### Supporting Libraries
| Package | Version | Chá»©c nÄƒng |
|---------|---------|-----------|
| `react-native-screens` | ~3.29.0 | Native navigation containers |
| `react-native-safe-area-context` | 4.8.2 | Safe area handling |
| `react-native-gesture-handler` | ~2.14.0 | Gesture recognition |

---

## ğŸ—„ï¸ State Management

### Zustand
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 4.5.2 |
| **MÃ´ táº£** | Lightweight state management |
| **Website** | https://zustand-demo.pmnd.rs |

**Táº¡i sao chá»n Zustand?**
- âœ… Nháº¹ (~1KB gzipped)
- âœ… API Ä‘Æ¡n giáº£n, khÃ´ng boilerplate
- âœ… TypeScript support tá»‘t
- âœ… KhÃ´ng cáº§n Provider wrapper
- âœ… Selectors tá»± Ä‘á»™ng optimize re-renders

**Stores trong dá»± Ã¡n:**

```typescript
// Library Store
interface LibraryState {
  tracks: TrackWithPlaylist[]
  toggleTrackFavorite: (track: Track) => void
  addToPlaylist: (track: Track, playlistName: string) => void
}

// Queue Store
interface QueueStore {
  activeQueueId: string | null
  setActiveQueueId: (id: string) => void
}
```

**So sÃ¡nh vá»›i cÃ¡c giáº£i phÃ¡p khÃ¡c:**
| Feature | Zustand | Redux | Context API |
|---------|---------|-------|-------------|
| Bundle size | ~1KB | ~7KB | 0 |
| Boilerplate | Minimal | High | Medium |
| Learning curve | Easy | Steep | Easy |
| DevTools | Yes | Yes | Limited |
| Performance | Excellent | Good | Can be slow |

---

## ğŸµ Audio Engine

### React Native Track Player
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 4.1.1 |
| **MÃ´ táº£** | Full-featured audio player |
| **Website** | https://react-native-track-player.js.org |

**TÃ­nh nÄƒng chÃ­nh:**
- âœ… Background playback
- âœ… Lock screen controls
- âœ… Queue management
- âœ… Remote control events
- âœ… Streaming support
- âœ… Caching (10MB configured)

**Capabilities Ä‘Ã£ cáº¥u hÃ¬nh:**
```typescript
capabilities: [
  Capability.Play,
  Capability.Pause,
  Capability.SkipToNext,
  Capability.SkipToPrevious,
  Capability.Stop,
]
```

**Playback Service Events:**
| Event | Handler |
|-------|---------|
| `RemotePlay` | TrackPlayer.play() |
| `RemotePause` | TrackPlayer.pause() |
| `RemoteStop` | TrackPlayer.stop() |
| `RemoteNext` | TrackPlayer.skipToNext() |
| `RemotePrevious` | TrackPlayer.skipToPrevious() |

---

## ğŸ¨ UI Libraries

### React Native Reanimated
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 3.6.2 |
| **MÃ´ táº£** | High-performance animations |
| **Use case** | Moving text, transitions |

### React Native Gesture Handler
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 2.14.0 |
| **MÃ´ táº£** | Native gesture handling |
| **Use case** | Swipe gestures, pan |

### React Native Fast Image
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 8.6.3 |
| **MÃ´ táº£** | Performance image component |
| **Features** | Caching, priority loading |

### React Native Awesome Slider
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 2.5.1 |
| **MÃ´ táº£** | Customizable slider component |
| **Use case** | Volume bar, progress bar |

### React Native Image Colors
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 2.4.0 |
| **MÃ´ táº£** | Extract colors from images |
| **Use case** | Dynamic player background |

### @react-native-menu/menu
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 0.9.1 |
| **MÃ´ táº£** | Native context menu |
| **Use case** | Track shortcuts menu |

### ts-pattern
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 5.0.8 |
| **MÃ´ táº£** | Pattern matching for TypeScript |
| **Use case** | Repeat mode handling |

---

## ğŸ› ï¸ Development Tools

### ESLint
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 8.57.0 |
| **Plugins** | @typescript-eslint, react, react-hooks |

### Prettier
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 3.2.5 |
| **MÃ´ táº£** | Code formatter |

### Babel
| Thuá»™c tÃ­nh | GiÃ¡ trá»‹ |
|------------|---------|
| **Version** | 7.20.0 |
| **Preset** | babel-preset-expo |

---

## ğŸ“± Platform Configuration

### iOS
```json
{
  "bundleIdentifier": "com.music.player",
  "supportsTablet": true,
  "infoPlist": {
    "UIBackgroundModes": ["audio"]
  }
}
```

### Android
```json
{
  "adaptiveIcon": {
    "foregroundImage": "./assets/adaptive-icon.png",
    "backgroundColor": "#000"
  }
}
```

---

## ğŸ“ Cáº¥u trÃºc Dá»± Ã¡n

```
music-player/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/              # Screens & Navigation (Expo Router)
â”‚   â”œâ”€â”€ ğŸ“ components/       # Reusable UI Components
â”‚   â”œâ”€â”€ ğŸ“ constants/        # App constants & config
â”‚   â”œâ”€â”€ ğŸ“ helpers/          # Utility functions & types
â”‚   â”œâ”€â”€ ğŸ“ hooks/            # Custom React hooks
â”‚   â”œâ”€â”€ ğŸ“ store/            # Zustand stores
â”‚   â”œâ”€â”€ ğŸ“ styles/           # Global styles
â”‚   â””â”€â”€ ğŸ“ types/            # TypeScript type definitions
â”œâ”€â”€ ğŸ“ assets/
â”‚   â”œâ”€â”€ ğŸ“ data/             # JSON data files
â”‚   â””â”€â”€ ğŸ“„ images            # App images
â”œâ”€â”€ ğŸ“ ios/                  # iOS native code
â”œâ”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“„ tsconfig.json
â”œâ”€â”€ ğŸ“„ babel.config.js
â””â”€â”€ ğŸ“„ app.json              # Expo configuration
```

---

## ğŸ”„ Data Flow Architecture

```mermaid
flowchart LR
    subgraph Data["ğŸ’¾ Data Source"]
        JSON["library.json"]
    end

    subgraph Store["ğŸ—„ï¸ Zustand"]
        LS["LibraryStore"]
        QS["QueueStore"]
    end

    subgraph Hooks["ğŸª Hooks"]
        H1["useTracks"]
        H2["useFavorites"]
        H3["useArtists"]
        H4["usePlaylists"]
        H5["useQueue"]
    end

    subgraph UI["ğŸ“± UI"]
        Screens["Screens"]
        Components["Components"]
    end

    subgraph Audio["ğŸµ Audio"]
        TP["TrackPlayer"]
    end

    JSON --> LS
    LS --> H1 & H2 & H3 & H4
    QS --> H5
    H1 & H2 & H3 & H4 & H5 --> Screens
    Screens --> Components
    Components --> TP
    TP --> Components
```

---

## ğŸ“Š Dependencies Summary

### Production Dependencies (14)
| Category | Packages |
|----------|----------|
| Core | react, react-native, expo |
| Navigation | expo-router, react-native-screens, react-native-safe-area-context |
| State | zustand |
| Audio | react-native-track-player |
| UI | expo-blur, expo-linear-gradient, react-native-reanimated, react-native-gesture-handler, react-native-fast-image, react-native-awesome-slider |
| Utils | react-native-image-colors, @react-native-menu/menu, ts-pattern |

### Dev Dependencies (8)
| Category | Packages |
|----------|----------|
| TypeScript | typescript, @types/react |
| Linting | eslint, @typescript-eslint/eslint-plugin, @typescript-eslint/parser, eslint-plugin-react, eslint-plugin-react-hooks |
| Formatting | prettier |
| Build | @babel/core |

---

## ğŸš€ Performance Optimizations

1. **Image Caching**: FastImage vá»›i priority loading
2. **Audio Caching**: 10MB cache size cho TrackPlayer
3. **State Selectors**: Zustand selectors tá»± Ä‘á»™ng memo
4. **Native Animations**: Reanimated cháº¡y trÃªn UI thread
5. **Lazy Loading**: Expo Router code splitting
6. **Blur Effects**: Native blur vá»›i expo-blur

---

## ğŸ“š TÃ i liá»‡u tham kháº£o

| CÃ´ng nghá»‡ | Documentation |
|-----------|---------------|
| React Native | https://reactnative.dev/docs/getting-started |
| Expo | https://docs.expo.dev |
| Expo Router | https://docs.expo.dev/router/introduction |
| Zustand | https://docs.pmnd.rs/zustand/getting-started/introduction |
| Track Player | https://react-native-track-player.js.org |
| Reanimated | https://docs.swmansion.com/react-native-reanimated |
| TypeScript | https://www.typescriptlang.org/docs |

---

*Generated for Music Player React Native Project*
</file>

<file path="docs/use-cases.md">
# Music Player - Use Case Specification

## Tá»•ng quan há»‡ thá»‘ng

### Actors (TÃ¡c nhÃ¢n)
| Actor | MÃ´ táº£ |
|-------|-------|
| **User** | NgÆ°á»i dÃ¹ng sá»­ dá»¥ng á»©ng dá»¥ng Ä‘á»ƒ nghe nháº¡c |
| **System** | Há»‡ thá»‘ng xá»­ lÃ½ phÃ¡t nháº¡c (TrackPlayer) |
| **OS Media Control** | Äiá»u khiá»ƒn media tá»« há»‡ Ä‘iá»u hÃ nh (Lock Screen, Control Center) |

### Use Case Diagram

```mermaid
flowchart TB
    User((ğŸ‘¤ User))
    System((âš™ï¸ System))
    OS((ğŸ“± OS Media))
    
    subgraph UC_Browse["Quáº£n lÃ½ ThÆ° viá»‡n"]
        UC01["UC01: Xem danh sÃ¡ch bÃ i hÃ¡t"]
        UC02["UC02: TÃ¬m kiáº¿m bÃ i hÃ¡t"]
        UC03["UC03: Xem danh sÃ¡ch nghá»‡ sÄ©"]
        UC04["UC04: Xem bÃ i hÃ¡t theo nghá»‡ sÄ©"]
        UC05["UC05: Xem danh sÃ¡ch playlist"]
        UC06["UC06: Xem bÃ i hÃ¡t trong playlist"]
    end
    
    subgraph UC_Play["PhÃ¡t nháº¡c"]
        UC07["UC07: PhÃ¡t bÃ i hÃ¡t"]
        UC08["UC08: Táº¡m dá»«ng/Tiáº¿p tá»¥c"]
        UC09["UC09: Chuyá»ƒn bÃ i tiáº¿p theo"]
        UC10["UC10: Quay láº¡i bÃ i trÆ°á»›c"]
        UC11["UC11: Äiá»u chá»‰nh Ã¢m lÆ°á»£ng"]
        UC12["UC12: Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ láº·p"]
    end
    
    subgraph UC_Manage["Quáº£n lÃ½ cÃ¡ nhÃ¢n"]
        UC13["UC13: ThÃªm vÃ o yÃªu thÃ­ch"]
        UC14["UC14: XÃ³a khá»i yÃªu thÃ­ch"]
        UC15["UC15: Xem danh sÃ¡ch yÃªu thÃ­ch"]
        UC16["UC16: ThÃªm bÃ i hÃ¡t vÃ o playlist"]
    end
    
    subgraph UC_Queue["Quáº£n lÃ½ hÃ ng Ä‘á»£i"]
        UC17["UC17: PhÃ¡t ngáº«u nhiÃªn"]
        UC18["UC18: PhÃ¡t táº¥t cáº£"]
    end
    
    User --> UC_Browse
    User --> UC_Play
    User --> UC_Manage
    User --> UC_Queue
    
    OS --> UC08
    OS --> UC09
    OS --> UC10
    
    System --> UC07
```

---

## Chi tiáº¿t Use Cases

---

### UC01: Xem danh sÃ¡ch bÃ i hÃ¡t

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC01 |
| **TÃªn** | Xem danh sÃ¡ch bÃ i hÃ¡t |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng xem toÃ n bá»™ danh sÃ¡ch bÃ i hÃ¡t trong thÆ° viá»‡n |
| **Tiá»n Ä‘iá»u kiá»‡n** | á»¨ng dá»¥ng Ä‘Ã£ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch bÃ i hÃ¡t Ä‘Æ°á»£c hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User má»Ÿ tab "Songs" trÃªn thanh Ä‘iá»u hÆ°á»›ng
2. System láº¥y danh sÃ¡ch tracks tá»« Library Store
3. System hiá»ƒn thá»‹ danh sÃ¡ch bÃ i hÃ¡t vá»›i thÃ´ng tin: áº£nh bÃ¬a, tÃªn bÃ i, tÃªn nghá»‡ sÄ©
4. User cuá»™n Ä‘á»ƒ xem thÃªm bÃ i hÃ¡t

**Luá»“ng thay tháº¿:**
- **4a.** KhÃ´ng cÃ³ bÃ i hÃ¡t nÃ o:
  - System hiá»ƒn thá»‹ thÃ´ng bÃ¡o "No songs found"
  - System hiá»ƒn thá»‹ hÃ¬nh áº£nh placeholder

---

### UC02: TÃ¬m kiáº¿m bÃ i hÃ¡t

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC02 |
| **TÃªn** | TÃ¬m kiáº¿m bÃ i hÃ¡t |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng tÃ¬m kiáº¿m bÃ i hÃ¡t theo tÃªn |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh danh sÃ¡ch (Songs/Favorites/Artists/Playlists) |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch bÃ i hÃ¡t Ä‘Æ°á»£c lá»c theo tá»« khÃ³a |

**Luá»“ng chÃ­nh:**
1. User kÃ©o xuá»‘ng Ä‘á»ƒ hiá»ƒn thá»‹ thanh tÃ¬m kiáº¿m
2. User nháº­p tá»« khÃ³a tÃ¬m kiáº¿m
3. System lá»c danh sÃ¡ch theo tiÃªu Ä‘á» bÃ i hÃ¡t (case-insensitive)
4. System cáº­p nháº­t danh sÃ¡ch hiá»ƒn thá»‹ theo káº¿t quáº£ lá»c

**Luá»“ng thay tháº¿:**
- **3a.** KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£:
  - System hiá»ƒn thá»‹ thÃ´ng bÃ¡o "No songs found"
- **4a.** User xÃ³a tá»« khÃ³a:
  - System hiá»ƒn thá»‹ láº¡i toÃ n bá»™ danh sÃ¡ch

---

### UC03: Xem danh sÃ¡ch nghá»‡ sÄ©

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC03 |
| **TÃªn** | Xem danh sÃ¡ch nghá»‡ sÄ© |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng xem danh sÃ¡ch táº¥t cáº£ nghá»‡ sÄ© |
| **Tiá»n Ä‘iá»u kiá»‡n** | á»¨ng dá»¥ng Ä‘Ã£ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch nghá»‡ sÄ© Ä‘Æ°á»£c hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User má»Ÿ tab "Artists" trÃªn thanh Ä‘iá»u hÆ°á»›ng
2. System nhÃ³m cÃ¡c tracks theo tÃªn nghá»‡ sÄ©
3. System hiá»ƒn thá»‹ danh sÃ¡ch nghá»‡ sÄ© vá»›i: áº£nh Ä‘áº¡i diá»‡n, tÃªn nghá»‡ sÄ©, sá»‘ bÃ i hÃ¡t
4. User cuá»™n Ä‘á»ƒ xem thÃªm nghá»‡ sÄ©

---

### UC04: Xem bÃ i hÃ¡t theo nghá»‡ sÄ©

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC04 |
| **TÃªn** | Xem bÃ i hÃ¡t theo nghá»‡ sÄ© |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng xem táº¥t cáº£ bÃ i hÃ¡t cá»§a má»™t nghá»‡ sÄ© |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh danh sÃ¡ch nghá»‡ sÄ© |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch bÃ i hÃ¡t cá»§a nghá»‡ sÄ© Ä‘Æ°á»£c hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User chá»n má»™t nghá»‡ sÄ© tá»« danh sÃ¡ch
2. System Ä‘iá»u hÆ°á»›ng Ä‘áº¿n mÃ n hÃ¬nh chi tiáº¿t nghá»‡ sÄ©
3. System hiá»ƒn thá»‹ header vá»›i áº£nh nghá»‡ sÄ© vÃ  tÃªn
4. System hiá»ƒn thá»‹ danh sÃ¡ch bÃ i hÃ¡t cá»§a nghá»‡ sÄ© Ä‘Ã³
5. User cÃ³ thá»ƒ phÃ¡t báº¥t ká»³ bÃ i hÃ¡t nÃ o

---

### UC05: Xem danh sÃ¡ch Playlist

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC05 |
| **TÃªn** | Xem danh sÃ¡ch Playlist |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng xem táº¥t cáº£ playlist Ä‘Ã£ táº¡o |
| **Tiá»n Ä‘iá»u kiá»‡n** | á»¨ng dá»¥ng Ä‘Ã£ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch playlist Ä‘Æ°á»£c hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User má»Ÿ tab "Playlists" trÃªn thanh Ä‘iá»u hÆ°á»›ng
2. System nhÃ³m cÃ¡c tracks theo playlist name
3. System hiá»ƒn thá»‹ danh sÃ¡ch playlist vá»›i: áº£nh bÃ¬a preview, tÃªn playlist, sá»‘ bÃ i hÃ¡t
4. User cuá»™n Ä‘á»ƒ xem thÃªm playlist

---

### UC06: Xem bÃ i hÃ¡t trong Playlist

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC06 |
| **TÃªn** | Xem bÃ i hÃ¡t trong Playlist |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng xem táº¥t cáº£ bÃ i hÃ¡t trong má»™t playlist |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh danh sÃ¡ch playlist |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch bÃ i hÃ¡t cá»§a playlist Ä‘Æ°á»£c hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User chá»n má»™t playlist tá»« danh sÃ¡ch
2. System Ä‘iá»u hÆ°á»›ng Ä‘áº¿n mÃ n hÃ¬nh chi tiáº¿t playlist
3. System hiá»ƒn thá»‹ header vá»›i áº£nh playlist vÃ  tÃªn
4. System hiá»ƒn thá»‹ danh sÃ¡ch bÃ i hÃ¡t trong playlist
5. User cÃ³ thá»ƒ phÃ¡t báº¥t ká»³ bÃ i hÃ¡t nÃ o

---

### UC07: PhÃ¡t bÃ i hÃ¡t

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC07 |
| **TÃªn** | PhÃ¡t bÃ i hÃ¡t |
| **Actor** | User, System |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng chá»n vÃ  phÃ¡t má»™t bÃ i hÃ¡t |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh cÃ³ danh sÃ¡ch bÃ i hÃ¡t |
| **Háº­u Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t Ä‘Æ°á»£c phÃ¡t, Floating Player hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User cháº¡m vÃ o má»™t bÃ i hÃ¡t trong danh sÃ¡ch
2. System kiá»ƒm tra queue hiá»‡n táº¡i
3. **[Náº¿u Ä‘á»•i queue]** System reset TrackPlayer
4. System thÃªm bÃ i hÃ¡t Ä‘Æ°á»£c chá»n vÃ o Ä‘áº§u queue
5. System thÃªm cÃ¡c bÃ i hÃ¡t cÃ²n láº¡i vÃ o queue
6. System báº¯t Ä‘áº§u phÃ¡t nháº¡c
7. System cáº­p nháº­t activeQueueId
8. Floating Player hiá»ƒn thá»‹ thÃ´ng tin bÃ i hÃ¡t Ä‘ang phÃ¡t

**Luá»“ng thay tháº¿:**
- **3a.** CÃ¹ng queue hiá»‡n táº¡i:
  - System tÃ­nh toÃ¡n vá»‹ trÃ­ bÃ i hÃ¡t trong queue
  - System skip Ä‘áº¿n bÃ i hÃ¡t Ä‘Ã³
  - System phÃ¡t nháº¡c

```mermaid
sequenceDiagram
    participant U as User
    participant TL as TracksList
    participant TP as TrackPlayer
    participant QS as QueueStore

    U->>TL: Tap track
    TL->>TL: Get track index
    
    alt Different Queue
        TL->>TP: reset()
        TL->>TP: add(selectedTrack)
        TL->>TP: add(remainingTracks)
        TL->>TP: play()
        TL->>QS: setActiveQueueId(newId)
    else Same Queue
        TL->>TP: skip(trackIndex)
        TL->>TP: play()
    end
    
    TP-->>U: ğŸµ Music Playing
```

---

### UC08: Táº¡m dá»«ng / Tiáº¿p tá»¥c phÃ¡t

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC08 |
| **TÃªn** | Táº¡m dá»«ng / Tiáº¿p tá»¥c phÃ¡t |
| **Actor** | User, OS Media Control |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng táº¡m dá»«ng hoáº·c tiáº¿p tá»¥c phÃ¡t nháº¡c |
| **Tiá»n Ä‘iá»u kiá»‡n** | CÃ³ bÃ i hÃ¡t Ä‘ang/Ä‘Ã£ phÃ¡t |
| **Háº­u Ä‘iá»u kiá»‡n** | Tráº¡ng thÃ¡i phÃ¡t Ä‘Æ°á»£c thay Ä‘á»•i |

**Luá»“ng chÃ­nh:**
1. User nháº¥n nÃºt Play/Pause (trÃªn Floating Player hoáº·c Player Screen)
2. System kiá»ƒm tra tráº¡ng thÃ¡i hiá»‡n táº¡i
3. **[Náº¿u Ä‘ang phÃ¡t]** System gá»i TrackPlayer.pause()
4. **[Náº¿u Ä‘ang dá»«ng]** System gá»i TrackPlayer.play()
5. UI cáº­p nháº­t icon Play/Pause

**Luá»“ng thay tháº¿:**
- **1a.** Äiá»u khiá»ƒn tá»« Lock Screen/Control Center:
  - OS gá»­i RemotePlay/RemotePause event
  - PlaybackService xá»­ lÃ½ event
  - Tiáº¿p tá»¥c tá»« bÆ°á»›c 2

---

### UC09: Chuyá»ƒn bÃ i tiáº¿p theo

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC09 |
| **TÃªn** | Chuyá»ƒn bÃ i tiáº¿p theo |
| **Actor** | User, OS Media Control |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng chuyá»ƒn sang bÃ i hÃ¡t tiáº¿p theo trong queue |
| **Tiá»n Ä‘iá»u kiá»‡n** | CÃ³ bÃ i hÃ¡t Ä‘ang phÃ¡t vÃ  queue khÃ´ng rá»—ng |
| **Háº­u Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t tiáº¿p theo Ä‘Æ°á»£c phÃ¡t |

**Luá»“ng chÃ­nh:**
1. User nháº¥n nÃºt Skip Next
2. System gá»i TrackPlayer.skipToNext()
3. System phÃ¡t bÃ i hÃ¡t tiáº¿p theo
4. UI cáº­p nháº­t thÃ´ng tin bÃ i hÃ¡t má»›i

**Luá»“ng thay tháº¿:**
- **2a.** Äang á»Ÿ bÃ i cuá»‘i cÃ¹ng vÃ  Repeat Mode = Queue:
  - System quay láº¡i bÃ i Ä‘áº§u tiÃªn
- **1b.** Äiá»u khiá»ƒn tá»« OS:
  - OS gá»­i RemoteNext event
  - PlaybackService gá»i skipToNext()

---

### UC10: Quay láº¡i bÃ i trÆ°á»›c

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC10 |
| **TÃªn** | Quay láº¡i bÃ i trÆ°á»›c |
| **Actor** | User, OS Media Control |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng quay láº¡i bÃ i hÃ¡t trÆ°á»›c Ä‘Ã³ trong queue |
| **Tiá»n Ä‘iá»u kiá»‡n** | CÃ³ bÃ i hÃ¡t Ä‘ang phÃ¡t |
| **Háº­u Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t trÆ°á»›c Ä‘Æ°á»£c phÃ¡t |

**Luá»“ng chÃ­nh:**
1. User nháº¥n nÃºt Skip Previous
2. System gá»i TrackPlayer.skipToPrevious()
3. System phÃ¡t bÃ i hÃ¡t trÆ°á»›c Ä‘Ã³
4. UI cáº­p nháº­t thÃ´ng tin bÃ i hÃ¡t má»›i

---

### UC11: Äiá»u chá»‰nh Ã¢m lÆ°á»£ng

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC11 |
| **TÃªn** | Äiá»u chá»‰nh Ã¢m lÆ°á»£ng |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng Ä‘iá»u chá»‰nh Ã¢m lÆ°á»£ng phÃ¡t nháº¡c |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh Player |
| **Háº­u Ä‘iá»u kiá»‡n** | Ã‚m lÆ°á»£ng Ä‘Æ°á»£c thay Ä‘á»•i |

**Luá»“ng chÃ­nh:**
1. User má»Ÿ mÃ n hÃ¬nh Player (cháº¡m vÃ o Floating Player)
2. User kÃ©o thanh Volume Bar
3. System gá»i TrackPlayer.setVolume(value)
4. Ã‚m lÆ°á»£ng thay Ä‘á»•i ngay láº­p tá»©c

---

### UC12: Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ láº·p

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC12 |
| **TÃªn** | Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ láº·p |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng thay Ä‘á»•i cháº¿ Ä‘á»™ láº·p (Off/Track/Queue) |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh Player |
| **Háº­u Ä‘iá»u kiá»‡n** | Cháº¿ Ä‘á»™ láº·p Ä‘Æ°á»£c thay Ä‘á»•i |

**Luá»“ng chÃ­nh:**
1. User nháº¥n nÃºt Repeat Toggle
2. System chuyá»ƒn sang cháº¿ Ä‘á»™ tiáº¿p theo: Off â†’ Track â†’ Queue â†’ Off
3. System gá»i TrackPlayer.setRepeatMode(mode)
4. UI cáº­p nháº­t icon repeat tÆ°Æ¡ng á»©ng

**CÃ¡c cháº¿ Ä‘á»™:**
| Mode | Icon | MÃ´ táº£ |
|------|------|-------|
| Off | ğŸ” (má») | KhÃ´ng láº·p |
| Track | ğŸ”‚ | Láº·p 1 bÃ i |
| Queue | ğŸ” | Láº·p cáº£ queue |

---

### UC13: ThÃªm vÃ o yÃªu thÃ­ch

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC13 |
| **TÃªn** | ThÃªm vÃ o yÃªu thÃ­ch |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng Ä‘Ã¡nh dáº¥u bÃ i hÃ¡t lÃ  yÃªu thÃ­ch |
| **Tiá»n Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t chÆ°a Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u yÃªu thÃ­ch |
| **Háº­u Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t Ä‘Æ°á»£c thÃªm vÃ o danh sÃ¡ch yÃªu thÃ­ch |

**Luá»“ng chÃ­nh (tá»« Player Screen):**
1. User nháº¥n icon Heart (â™¡) trÃªn mÃ n hÃ¬nh Player
2. System gá»i toggleTrackFavorite(track)
3. System cáº­p nháº­t track.rating = 1
4. Icon Heart chuyá»ƒn thÃ nh filled (â¤ï¸)

**Luá»“ng thay tháº¿ (tá»« Track Menu):**
1. User giá»¯ lÃ¢u vÃ o bÃ i hÃ¡t trong danh sÃ¡ch
2. Context menu hiá»ƒn thá»‹
3. User chá»n "Favorite"
4. Tiáº¿p tá»¥c tá»« bÆ°á»›c 2 cá»§a luá»“ng chÃ­nh

```mermaid
sequenceDiagram
    participant U as User
    participant P as Player/TrackItem
    participant LS as LibraryStore

    U->>P: Tap Heart Icon
    P->>LS: toggleTrackFavorite(track)
    LS->>LS: track.rating = 1
    LS-->>P: State Updated
    P-->>U: â¤ï¸ Heart Filled
```

---

### UC14: XÃ³a khá»i yÃªu thÃ­ch

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC14 |
| **TÃªn** | XÃ³a khá»i yÃªu thÃ­ch |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng bá» Ä‘Ã¡nh dáº¥u yÃªu thÃ­ch cá»§a bÃ i hÃ¡t |
| **Tiá»n Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t Ä‘Ã£ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u yÃªu thÃ­ch |
| **Háº­u Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t bá»‹ xÃ³a khá»i danh sÃ¡ch yÃªu thÃ­ch |

**Luá»“ng chÃ­nh:**
1. User nháº¥n icon Heart (â¤ï¸) trÃªn bÃ i hÃ¡t Ä‘Ã£ yÃªu thÃ­ch
2. System gá»i toggleTrackFavorite(track)
3. System cáº­p nháº­t track.rating = 0
4. Icon Heart chuyá»ƒn thÃ nh outline (â™¡)
5. **[Náº¿u Ä‘ang á»Ÿ Favorites Screen]** BÃ i hÃ¡t biáº¿n máº¥t khá»i danh sÃ¡ch

---

### UC15: Xem danh sÃ¡ch yÃªu thÃ­ch

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC15 |
| **TÃªn** | Xem danh sÃ¡ch yÃªu thÃ­ch |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng xem cÃ¡c bÃ i hÃ¡t Ä‘Ã£ Ä‘Ã¡nh dáº¥u yÃªu thÃ­ch |
| **Tiá»n Ä‘iá»u kiá»‡n** | á»¨ng dá»¥ng Ä‘Ã£ khá»Ÿi Ä‘á»™ng |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch yÃªu thÃ­ch Ä‘Æ°á»£c hiá»ƒn thá»‹ |

**Luá»“ng chÃ­nh:**
1. User má»Ÿ tab "Favorites" trÃªn thanh Ä‘iá»u hÆ°á»›ng
2. System lá»c tracks cÃ³ rating === 1
3. System hiá»ƒn thá»‹ danh sÃ¡ch bÃ i hÃ¡t yÃªu thÃ­ch
4. User cÃ³ thá»ƒ phÃ¡t hoáº·c quáº£n lÃ½ cÃ¡c bÃ i hÃ¡t

**Luá»“ng thay tháº¿:**
- **3a.** ChÆ°a cÃ³ bÃ i hÃ¡t yÃªu thÃ­ch nÃ o:
  - System hiá»ƒn thá»‹ "No songs found"

---

### UC16: ThÃªm bÃ i hÃ¡t vÃ o Playlist

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC16 |
| **TÃªn** | ThÃªm bÃ i hÃ¡t vÃ o Playlist |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng thÃªm má»™t bÃ i hÃ¡t vÃ o playlist cÃ³ sáºµn |
| **Tiá»n Ä‘iá»u kiá»‡n** | CÃ³ Ã­t nháº¥t má»™t playlist vÃ  bÃ i hÃ¡t chÆ°a náº±m trong playlist Ä‘Ã³ |
| **Háº­u Ä‘iá»u kiá»‡n** | BÃ i hÃ¡t Ä‘Æ°á»£c thÃªm vÃ o playlist Ä‘Ã£ chá»n |

**Luá»“ng chÃ­nh:**
1. User giá»¯ lÃ¢u vÃ o bÃ i hÃ¡t trong danh sÃ¡ch
2. Context menu hiá»ƒn thá»‹
3. User chá»n "Add to playlist"
4. System má»Ÿ modal "Add to Playlist"
5. System hiá»ƒn thá»‹ danh sÃ¡ch playlist kháº£ dá»¥ng (loáº¡i trá»« playlist Ä‘Ã£ chá»©a bÃ i hÃ¡t)
6. User chá»n má»™t playlist
7. System gá»i addToPlaylist(track, playlistName)
8. System thÃªm playlistName vÃ o track.playlist[]
9. **[Náº¿u Ä‘ang phÃ¡t playlist Ä‘Ã³]** System thÃªm track vÃ o cuá»‘i queue
10. Modal tá»± Ä‘á»™ng Ä‘Ã³ng

**Luá»“ng thay tháº¿:**
- **5a.** BÃ i hÃ¡t Ä‘Ã£ náº±m trong táº¥t cáº£ playlist:
  - Danh sÃ¡ch playlist rá»—ng
  - User Ä‘Ã³ng modal

```mermaid
sequenceDiagram
    participant U as User
    participant TM as TrackMenu
    participant M as AddToPlaylist Modal
    participant LS as LibraryStore
    participant TP as TrackPlayer

    U->>TM: Long Press Track
    TM-->>U: Show Context Menu
    U->>TM: Select "Add to playlist"
    TM->>M: Navigate (trackUrl)
    
    M->>LS: Get available playlists
    LS-->>M: Filter playlists
    M-->>U: Show playlist options
    
    U->>M: Select Playlist
    M->>LS: addToPlaylist(track, name)
    LS->>LS: Update track.playlist[]
    
    alt Playing selected playlist
        M->>TP: add(track)
    end
    
    M->>M: Dismiss modal
    M-->>U: âœ… Success
```

---

### UC17: PhÃ¡t ngáº«u nhiÃªn (Shuffle Play)

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC17 |
| **TÃªn** | PhÃ¡t ngáº«u nhiÃªn |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng phÃ¡t danh sÃ¡ch bÃ i hÃ¡t theo thá»© tá»± ngáº«u nhiÃªn |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh cÃ³ danh sÃ¡ch bÃ i hÃ¡t |
| **Háº­u Ä‘iá»u kiá»‡n** | Danh sÃ¡ch Ä‘Æ°á»£c xÃ¡o trá»™n vÃ  phÃ¡t tá»« Ä‘áº§u |

**Luá»“ng chÃ­nh:**
1. User nháº¥n nÃºt "Shuffle" trong Queue Controls
2. System xÃ¡o trá»™n danh sÃ¡ch tracks
3. System reset TrackPlayer
4. System thÃªm táº¥t cáº£ tracks Ä‘Ã£ xÃ¡o trá»™n vÃ o queue
5. System báº¯t Ä‘áº§u phÃ¡t tá»« bÃ i Ä‘áº§u tiÃªn

---

### UC18: PhÃ¡t táº¥t cáº£ (Play All)

| Thuá»™c tÃ­nh | MÃ´ táº£ |
|------------|-------|
| **Use Case ID** | UC18 |
| **TÃªn** | PhÃ¡t táº¥t cáº£ |
| **Actor** | User |
| **MÃ´ táº£** | NgÆ°á»i dÃ¹ng phÃ¡t toÃ n bá»™ danh sÃ¡ch tá»« Ä‘áº§u |
| **Tiá»n Ä‘iá»u kiá»‡n** | Äang á»Ÿ mÃ n hÃ¬nh cÃ³ danh sÃ¡ch bÃ i hÃ¡t |
| **Háº­u Ä‘iá»u kiá»‡n** | ToÃ n bá»™ danh sÃ¡ch Ä‘Æ°á»£c thÃªm vÃ o queue vÃ  phÃ¡t |

**Luá»“ng chÃ­nh:**
1. User nháº¥n nÃºt "Play" trong Queue Controls
2. System reset TrackPlayer
3. System thÃªm táº¥t cáº£ tracks vÃ o queue theo thá»© tá»±
4. System báº¯t Ä‘áº§u phÃ¡t tá»« bÃ i Ä‘áº§u tiÃªn

---

## Ma tráº­n Use Case - Actor

| Use Case | User | System | OS Media |
|----------|:----:|:------:|:--------:|
| UC01: Xem danh sÃ¡ch bÃ i hÃ¡t | âœ… | | |
| UC02: TÃ¬m kiáº¿m bÃ i hÃ¡t | âœ… | | |
| UC03: Xem danh sÃ¡ch nghá»‡ sÄ© | âœ… | | |
| UC04: Xem bÃ i hÃ¡t theo nghá»‡ sÄ© | âœ… | | |
| UC05: Xem danh sÃ¡ch playlist | âœ… | | |
| UC06: Xem bÃ i hÃ¡t trong playlist | âœ… | | |
| UC07: PhÃ¡t bÃ i hÃ¡t | âœ… | âœ… | |
| UC08: Táº¡m dá»«ng/Tiáº¿p tá»¥c | âœ… | | âœ… |
| UC09: Chuyá»ƒn bÃ i tiáº¿p theo | âœ… | | âœ… |
| UC10: Quay láº¡i bÃ i trÆ°á»›c | âœ… | | âœ… |
| UC11: Äiá»u chá»‰nh Ã¢m lÆ°á»£ng | âœ… | | |
| UC12: Chuyá»ƒn Ä‘á»•i cháº¿ Ä‘á»™ láº·p | âœ… | | |
| UC13: ThÃªm vÃ o yÃªu thÃ­ch | âœ… | | |
| UC14: XÃ³a khá»i yÃªu thÃ­ch | âœ… | | |
| UC15: Xem danh sÃ¡ch yÃªu thÃ­ch | âœ… | | |
| UC16: ThÃªm vÃ o playlist | âœ… | | |
| UC17: PhÃ¡t ngáº«u nhiÃªn | âœ… | | |
| UC18: PhÃ¡t táº¥t cáº£ | âœ… | | |

---

## Ma tráº­n Use Case - Screen

| Use Case | Songs | Favorites | Artists | Playlists | Player | Modal |
|----------|:-----:|:---------:|:-------:|:---------:|:------:|:-----:|
| UC01 | âœ… | | | | | |
| UC02 | âœ… | âœ… | âœ… | âœ… | | |
| UC03 | | | âœ… | | | |
| UC04 | | | âœ… | | | |
| UC05 | | | | âœ… | | |
| UC06 | | | | âœ… | | |
| UC07 | âœ… | âœ… | âœ… | âœ… | | |
| UC08 | âœ… | âœ… | âœ… | âœ… | âœ… | |
| UC09 | âœ… | âœ… | âœ… | âœ… | âœ… | |
| UC10 | | | | | âœ… | |
| UC11 | | | | | âœ… | |
| UC12 | | | | | âœ… | |
| UC13 | âœ… | | âœ… | âœ… | âœ… | |
| UC14 | âœ… | âœ… | âœ… | âœ… | âœ… | |
| UC15 | | âœ… | | | | |
| UC16 | âœ… | âœ… | âœ… | âœ… | | âœ… |
| UC17 | âœ… | âœ… | âœ… | âœ… | | |
| UC18 | âœ… | âœ… | âœ… | âœ… | | |

---

*Generated for Music Player React Native Project*
</file>

<file path="docs/workflow-diagrams.md">
# Music Player - Workflow Diagrams

## 1. SÆ¡ Ä‘á»“ Kiáº¿n trÃºc Tá»•ng quan (System Architecture)

```mermaid
flowchart TB
    subgraph UI["ğŸ“± UI Layer"]
        Tabs["Tab Navigation"]
        Songs["Songs Screen"]
        Favorites["Favorites Screen"]
        Playlists["Playlists Screen"]
        Artists["Artists Screen"]
        Player["Player Screen"]
        FloatingPlayer["Floating Player"]
        Modal["Add to Playlist Modal"]
    end

    subgraph State["ğŸ—„ï¸ State Management (Zustand)"]
        LibraryStore["Library Store\n- tracks\n- toggleFavorite\n- addToPlaylist"]
        QueueStore["Queue Store\n- activeQueueId\n- setActiveQueueId"]
    end

    subgraph Audio["ğŸµ Audio Engine"]
        TrackPlayer["React Native Track Player"]
        PlaybackService["Playback Service\n- Remote Events"]
    end

    subgraph Data["ğŸ’¾ Data Layer"]
        JSON["library.json\n(Music Data)"]
    end

    Tabs --> Songs & Favorites & Playlists & Artists
    Songs & Favorites & Playlists & Artists --> FloatingPlayer
    FloatingPlayer --> Player
    Songs & Favorites & Playlists & Artists --> Modal

    Songs & Favorites & Playlists & Artists --> LibraryStore
    LibraryStore --> JSON
    
    Songs & Favorites & Playlists & Artists --> QueueStore
    Player --> TrackPlayer
    FloatingPlayer --> TrackPlayer
    TrackPlayer --> PlaybackService
```

## 2. Luá»“ng Äiá»u hÆ°á»›ng (Navigation Flow)

```mermaid
flowchart LR
    subgraph MainTabs["Main Tab Navigation"]
        direction TB
        F["â¤ï¸ Favorites"]
        P["ğŸ“‹ Playlists"]
        S["ğŸµ Songs"]
        A["ğŸ‘¥ Artists"]
    end

    subgraph SubScreens["Sub Screens"]
        PD["Playlist Detail"]
        AD["Artist Detail"]
    end

    subgraph Modals["Modal Screens"]
        PlayerModal["ğŸ§ Full Player\n(Card Presentation)"]
        AddPlaylist["â• Add to Playlist\n(Modal Presentation)"]
    end

    F --> PlayerModal
    P --> PD --> PlayerModal
    S --> PlayerModal
    A --> AD --> PlayerModal

    F & S & PD & AD --> AddPlaylist

    PlayerModal -.->|"Swipe Down"| MainTabs
    AddPlaylist -.->|"Dismiss"| MainTabs
```

## 3. Luá»“ng PhÃ¡t nháº¡c (Music Playback Flow)

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ User
    participant TL as TracksList
    participant QS as Queue Store
    participant TP as TrackPlayer
    participant PS as Playback Service

    U->>TL: Tap on Track
    TL->>TL: Find track index
    
    alt Is changing queue
        TL->>TP: reset()
        TL->>TP: add(selectedTrack)
        TL->>TP: add(afterTracks)
        TL->>TP: add(beforeTracks)
        TL->>TP: play()
        TL->>QS: setActiveQueueId(id)
    else Same queue
        TL->>TP: skip(trackIndex)
        TL->>TP: play()
    end

    TP-->>PS: Playback Started
    PS-->>U: ğŸµ Music Playing
```

## 4. Luá»“ng Quáº£n lÃ½ YÃªu thÃ­ch (Favorite Management Flow)

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ User
    participant C as Component
    participant LS as Library Store
    participant TP as TrackPlayer

    U->>C: Toggle Favorite
    C->>LS: toggleTrackFavorite(track)
    LS->>LS: Update track.rating (0â†”1)
    LS-->>C: State Updated
    
    alt On Player Screen
        C->>TP: updateMetadataForTrack()
    end
    
    C-->>U: â¤ï¸ UI Updated
```

## 5. Luá»“ng ThÃªm vÃ o Playlist (Add to Playlist Flow)

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ User
    participant TSM as Track Shortcut Menu
    participant Modal as Add to Playlist Modal
    participant LS as Library Store
    participant QS as Queue Store
    participant TP as TrackPlayer

    U->>TSM: Long Press Track
    TSM->>TSM: Show Context Menu
    U->>TSM: Select "Add to Playlist"
    TSM->>Modal: Navigate with trackUrl

    Modal->>LS: Get available playlists
    LS-->>Modal: Playlists without this track
    Modal-->>U: Display playlist options

    U->>Modal: Select Playlist
    Modal->>LS: addToPlaylist(track, playlistName)
    LS->>LS: Add playlistName to track.playlist[]

    alt Current queue is selected playlist
        Modal->>TP: add(track) to queue end
    end

    Modal->>Modal: router.dismiss()
    Modal-->>U: âœ… Track added
```

## 6. Luá»“ng Khá»Ÿi táº¡o App (App Initialization Flow)

```mermaid
flowchart TB
    Start([App Launch]) --> Splash[Show Splash Screen]
    Splash --> Register[Register Playback Service]
    Register --> Setup[Setup TrackPlayer]
    
    Setup --> Config[Configure Player:\n- Cache: 10MB\n- Rating: Heart\n- Capabilities]
    Config --> Volume[Set Volume: 30%]
    Volume --> Repeat[Set Repeat: Queue]
    
    Repeat --> Hide[Hide Splash Screen]
    Hide --> Ready([App Ready])
    
    subgraph PlaybackService["Playback Service Events"]
        E1[RemotePlay â†’ play()]
        E2[RemotePause â†’ pause()]
        E3[RemoteStop â†’ stop()]
        E4[RemoteNext â†’ skipToNext()]
        E5[RemotePrevious â†’ skipToPrevious()]
    end
    
    Register -.-> PlaybackService
```

## 7. SÆ¡ Ä‘á»“ State Management (State Flow)

```mermaid
flowchart TB
    subgraph LibraryStore["Library Store"]
        Tracks["tracks: Track[]"]
        Toggle["toggleTrackFavorite()"]
        Add["addToPlaylist()"]
    end

    subgraph Selectors["Selectors / Hooks"]
        UseTracks["useTracks()"]
        UseFavorites["useFavorites()"]
        UseArtists["useArtists()"]
        UsePlaylists["usePlaylists()"]
    end

    subgraph QueueStore["Queue Store"]
        ActiveQueue["activeQueueId: string"]
        SetQueue["setActiveQueueId()"]
    end

    Tracks --> UseTracks
    Tracks --> UseFavorites
    Tracks --> UseArtists
    Tracks --> UsePlaylists

    UseFavorites --> |"filter rating===1"| FavScreen["Favorites Screen"]
    UseArtists --> |"group by artist"| ArtScreen["Artists Screen"]
    UsePlaylists --> |"group by playlist"| PlayScreen["Playlists Screen"]
    UseTracks --> SongScreen["Songs Screen"]

    ActiveQueue --> TracksList["TracksList Component"]
    SetQueue --> TracksList
```

## 8. SÆ¡ Ä‘á»“ Components (Component Hierarchy)

```mermaid
flowchart TB
    App["App (_layout.tsx)"]
    
    App --> SafeArea["SafeAreaProvider"]
    SafeArea --> Gesture["GestureHandlerRootView"]
    Gesture --> Stack["Stack Navigator"]
    
    Stack --> TabsLayout["Tabs Layout"]
    Stack --> PlayerScreen["Player Screen"]
    Stack --> AddToPlaylistModal["Add to Playlist Modal"]
    
    TabsLayout --> FloatingPlayer["Floating Player"]
    TabsLayout --> TabScreens["Tab Screens"]
    
    TabScreens --> Songs["Songs"]
    TabScreens --> Favorites["Favorites"]  
    TabScreens --> Playlists["Playlists"]
    TabScreens --> Artists["Artists"]
    
    Songs --> TracksList["TracksList"]
    Favorites --> TracksList
    
    Playlists --> PlaylistsList["PlaylistsList"]
    PlaylistsList --> PlaylistItem["PlaylistListItem"]
    
    Artists --> ArtistsList["Artists List"]
    
    TracksList --> TracksListItem["TracksListItem"]
    TracksListItem --> TrackShortcutsMenu["TrackShortcutsMenu"]
    
    PlayerScreen --> PlayerControls["PlayerControls"]
    PlayerScreen --> PlayerProgressBar["PlayerProgressBar"]
    PlayerScreen --> PlayerVolumeBar["PlayerVolumeBar"]
    PlayerScreen --> PlayerRepeatToggle["PlayerRepeatToggle"]
    PlayerScreen --> MovingText["MovingText"]
    
    FloatingPlayer --> MovingText
    FloatingPlayer --> PlayerControls
```

## 9. SÆ¡ Ä‘á»“ Data Flow (Luá»“ng dá»¯ liá»‡u)

```mermaid
flowchart LR
    subgraph DataSource["ğŸ“ Data Source"]
        JSON["library.json"]
    end

    subgraph Store["ğŸ—„ï¸ Zustand Store"]
        State["LibraryState"]
    end

    subgraph Hooks["ğŸª Custom Hooks"]
        H1["useTracks()"]
        H2["useFavorites()"]
        H3["useArtists()"]
        H4["usePlaylists()"]
    end

    subgraph Screens["ğŸ“± Screens"]
        S1["Songs Screen"]
        S2["Favorites Screen"]
        S3["Artists Screen"]
        S4["Playlists Screen"]
    end

    subgraph Player["ğŸµ Audio"]
        TP["TrackPlayer"]
    end

    JSON -->|"import"| State
    State -->|"select"| H1 & H2 & H3 & H4
    
    H1 --> S1
    H2 --> S2
    H3 --> S3
    H4 --> S4
    
    S1 & S2 & S3 & S4 -->|"queue tracks"| TP
    TP -->|"playback state"| S1 & S2 & S3 & S4
```

## 10. Use Case Diagram

```mermaid
flowchart TB
    User((ğŸ‘¤ User))
    
    subgraph MusicPlayer["ğŸµ Music Player App"]
        UC1["Browse Songs"]
        UC2["Search Tracks"]
        UC3["Play/Pause Music"]
        UC4["Skip Next/Previous"]
        UC5["Adjust Volume"]
        UC6["Toggle Repeat Mode"]
        UC7["Mark as Favorite"]
        UC8["View Favorites"]
        UC9["Browse Artists"]
        UC10["View Artist Tracks"]
        UC11["Browse Playlists"]
        UC12["Add Track to Playlist"]
        UC13["View Playlist Tracks"]
        UC14["Control from Lock Screen"]
    end
    
    User --> UC1 & UC2 & UC3 & UC4 & UC5
    User --> UC6 & UC7 & UC8 & UC9 & UC10
    User --> UC11 & UC12 & UC13 & UC14
    
    UC3 -.->|"extends"| UC14
    UC4 -.->|"extends"| UC14
```

---

## HÆ°á»›ng dáº«n sá»­ dá»¥ng Diagrams

### CÃ¡ch render Mermaid diagrams:

1. **GitHub/GitLab**: Copy code vÃ o file `.md`, diagrams sáº½ tá»± render
2. **VS Code**: CÃ i extension "Mermaid Preview" 
3. **Online**: DÃ¹ng [Mermaid Live Editor](https://mermaid.live/)
4. **Export PNG/SVG**: DÃ¹ng Mermaid CLI hoáº·c Live Editor

### CÃ¡ch chÃ¨n vÃ o bÃ¡o cÃ¡o Word/PDF:
1. Má»Ÿ Mermaid Live Editor
2. Paste code diagram
3. Export ra PNG/SVG
4. ChÃ¨n hÃ¬nh vÃ o bÃ¡o cÃ¡o

---

*Generated for Music Player React Native Project*
</file>

<file path="ios/musicplayer/Images.xcassets/AppIcon.appiconset/Contents.json">
{
  "images": [
    {
      "filename": "App-Icon-1024x1024@1x.png",
      "idiom": "universal",
      "platform": "ios",
      "size": "1024x1024"
    }
  ],
  "info": {
    "version": 1,
    "author": "expo"
  }
}
</file>

<file path="ios/musicplayer/Images.xcassets/SplashScreen.imageset/Contents.json">
{
  "images": [
    {
      "idiom": "universal",
      "filename": "image.png",
      "scale": "1x"
    },
    {
      "idiom": "universal",
      "scale": "2x"
    },
    {
      "idiom": "universal",
      "scale": "3x"
    }
  ],
  "info": {
    "version": 1,
    "author": "expo"
  }
}
</file>

<file path="ios/musicplayer/Images.xcassets/SplashScreenBackground.imageset/Contents.json">
{
  "images": [
    {
      "idiom": "universal",
      "filename": "image.png",
      "scale": "1x"
    },
    {
      "idiom": "universal",
      "scale": "2x"
    },
    {
      "idiom": "universal",
      "scale": "3x"
    }
  ],
  "info": {
    "version": 1,
    "author": "expo"
  }
}
</file>

<file path="ios/musicplayer/Images.xcassets/Contents.json">
{
  "info" : {
    "version" : 1,
    "author" : "expo"
  }
}
</file>

<file path="ios/musicplayer/Supporting/Expo.plist">
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>EXUpdatesCheckOnLaunch</key>
    <string>ALWAYS</string>
    <key>EXUpdatesEnabled</key>
    <false/>
    <key>EXUpdatesLaunchWaitMs</key>
    <integer>0</integer>
    <key>EXUpdatesSDKVersion</key>
    <string>50.0.0</string>
  </dict>
</plist>
</file>

<file path="ios/musicplayer/AppDelegate.h">
#import <RCTAppDelegate.h>
#import <UIKit/UIKit.h>
#import <Expo/Expo.h>

@interface AppDelegate : EXAppDelegateWrapper

@end
</file>

<file path="ios/musicplayer/AppDelegate.mm">
#import "AppDelegate.h"

#import <React/RCTBundleURLProvider.h>
#import <React/RCTLinkingManager.h>

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
  self.moduleName = @"main";

  // You can add your custom initial props in the dictionary below.
  // They will be passed down to the ViewController used by React Native.
  self.initialProps = @{};

  return [super application:application didFinishLaunchingWithOptions:launchOptions];
}

- (NSURL *)sourceURLForBridge:(RCTBridge *)bridge
{
  return [self getBundleURL];
}

- (NSURL *)getBundleURL
{
#if DEBUG
  return [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@".expo/.virtual-metro-entry"];
#else
  return [[NSBundle mainBundle] URLForResource:@"main" withExtension:@"jsbundle"];
#endif
}

// Linking API
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary<UIApplicationOpenURLOptionsKey,id> *)options {
  return [super application:application openURL:url options:options] || [RCTLinkingManager application:application openURL:url options:options];
}

// Universal Links
- (BOOL)application:(UIApplication *)application continueUserActivity:(nonnull NSUserActivity *)userActivity restorationHandler:(nonnull void (^)(NSArray<id<UIUserActivityRestoring>> * _Nullable))restorationHandler {
  BOOL result = [RCTLinkingManager application:application continueUserActivity:userActivity restorationHandler:restorationHandler];
  return [super application:application continueUserActivity:userActivity restorationHandler:restorationHandler] || result;
}

// Explicitly define remote notification delegates to ensure compatibility with some third-party libraries
- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{
  return [super application:application didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];
}

// Explicitly define remote notification delegates to ensure compatibility with some third-party libraries
- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error
{
  return [super application:application didFailToRegisterForRemoteNotificationsWithError:error];
}

// Explicitly define remote notification delegates to ensure compatibility with some third-party libraries
- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler
{
  return [super application:application didReceiveRemoteNotification:userInfo fetchCompletionHandler:completionHandler];
}

@end
</file>

<file path="ios/musicplayer/Info.plist">
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>CADisableMinimumFrameDurationOnPhone</key>
	<true/>
	<key>CFBundleDevelopmentRegion</key>
	<string>$(DEVELOPMENT_LANGUAGE)</string>
	<key>CFBundleDisplayName</key>
	<string>music-player</string>
	<key>CFBundleExecutable</key>
	<string>$(EXECUTABLE_NAME)</string>
	<key>CFBundleIdentifier</key>
	<string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
	<key>CFBundleInfoDictionaryVersion</key>
	<string>6.0</string>
	<key>CFBundleName</key>
	<string>$(PRODUCT_NAME)</string>
	<key>CFBundlePackageType</key>
	<string>$(PRODUCT_BUNDLE_PACKAGE_TYPE)</string>
	<key>CFBundleShortVersionString</key>
	<string>1.0.0</string>
	<key>CFBundleSignature</key>
	<string>????</string>
	<key>CFBundleURLTypes</key>
	<array>
		<dict>
			<key>CFBundleURLSchemes</key>
			<array>
				<string>music-player</string>
				<string>com.music.player</string>
			</array>
		</dict>
		<dict>
			<key>CFBundleURLSchemes</key>
			<array>
				<string>exp+music-player</string>
			</array>
		</dict>
	</array>
	<key>CFBundleVersion</key>
	<string>1</string>
	<key>LSRequiresIPhoneOS</key>
	<true/>
	<key>NSAppTransportSecurity</key>
	<dict>
		<key>NSAllowsArbitraryLoads</key>
		<false/>
		<key>NSAllowsLocalNetworking</key>
		<true/>
	</dict>
	<key>NSUserActivityTypes</key>
	<array>
		<string>$(PRODUCT_BUNDLE_IDENTIFIER).expo.index_route</string>
		<string>$(PRODUCT_BUNDLE_IDENTIFIER).expo.index_route</string>
		<string>$(PRODUCT_BUNDLE_IDENTIFIER).expo.index_route</string>
	</array>
	<key>UIBackgroundModes</key>
	<array>
		<string>audio</string>
	</array>
	<key>UILaunchStoryboardName</key>
	<string>SplashScreen</string>
	<key>UIRequiredDeviceCapabilities</key>
	<array>
		<string>armv7</string>
	</array>
	<key>UIRequiresFullScreen</key>
	<false/>
	<key>UIStatusBarStyle</key>
	<string>UIStatusBarStyleDefault</string>
	<key>UISupportedInterfaceOrientations</key>
	<array>
		<string>UIInterfaceOrientationPortrait</string>
		<string>UIInterfaceOrientationPortraitUpsideDown</string>
	</array>
	<key>UISupportedInterfaceOrientations~ipad</key>
	<array>
		<string>UIInterfaceOrientationPortrait</string>
		<string>UIInterfaceOrientationPortraitUpsideDown</string>
		<string>UIInterfaceOrientationLandscapeLeft</string>
		<string>UIInterfaceOrientationLandscapeRight</string>
	</array>
	<key>UIUserInterfaceStyle</key>
	<string>Dark</string>
	<key>UIViewControllerBasedStatusBarAppearance</key>
	<false/>
</dict>
</plist>
</file>

<file path="ios/musicplayer/main.m">
#import <UIKit/UIKit.h>

#import "AppDelegate.h"

int main(int argc, char * argv[]) {
  @autoreleasepool {
    return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));
  }
}
</file>

<file path="ios/musicplayer/musicplayer-Bridging-Header.h">
//
//  Use this file to import your target's public headers that you would like to expose to Swift.
//
</file>

<file path="ios/musicplayer/musicplayer.entitlements">
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict/>
</plist>
</file>

<file path="ios/musicplayer/noop-file.swift">
//
// @generated
// A blank Swift file must be created for native modules with Swift files to work correctly.
//
</file>

<file path="ios/musicplayer/SplashScreen.storyboard">
<?xml version="1.0" encoding="UTF-8"?>
<document type="com.apple.InterfaceBuilder3.CocoaTouch.Storyboard.XIB" version="3.0" toolsVersion="16096" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" launchScreen="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES" initialViewController="EXPO-VIEWCONTROLLER-1">
    <device id="retina5_5" orientation="portrait" appearance="light"/>
    <dependencies>
        <deployment identifier="iOS"/>
        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="16087"/>
        <capability name="Safe area layout guides" minToolsVersion="9.0"/>
        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
    </dependencies>
    <scenes>
        <scene sceneID="EXPO-SCENE-1">
            <objects>
                <viewController storyboardIdentifier="SplashScreenViewController" id="EXPO-VIEWCONTROLLER-1" sceneMemberID="viewController">
                    <view key="view" userInteractionEnabled="NO" contentMode="scaleToFill" insetsLayoutMarginsFromSafeArea="NO" id="EXPO-ContainerView" userLabel="ContainerView">
                        <rect key="frame" x="0.0" y="0.0" width="414" height="736"/>
                        <autoresizingMask key="autoresizingMask" flexibleMaxX="YES" flexibleMaxY="YES"/>
                        <subviews>
                            <imageView userInteractionEnabled="NO" contentMode="scaleAspectFill" horizontalHuggingPriority="251" verticalHuggingPriority="251" insetsLayoutMarginsFromSafeArea="NO" image="SplashScreenBackground" translatesAutoresizingMaskIntoConstraints="NO" id="EXPO-SplashScreenBackground" userLabel="SplashScreenBackground">
                                <rect key="frame" x="0.0" y="0.0" width="414" height="736"/>
                            </imageView>
                            <imageView id="EXPO-SplashScreen" userLabel="SplashScreen" image="SplashScreen" contentMode="scaleAspectFit" horizontalHuggingPriority="251" verticalHuggingPriority="251" clipsSubviews="true" userInteractionEnabled="false" translatesAutoresizingMaskIntoConstraints="false">
                                <rect key="frame" x="0" y="0" width="414" height="736"/>
                            </imageView>
                        </subviews>
                        <constraints>
                            <constraint firstItem="EXPO-SplashScreenBackground" firstAttribute="top" secondItem="EXPO-ContainerView" secondAttribute="top" id="1gX-mQ-vu6"/>
                            <constraint firstItem="EXPO-SplashScreenBackground" firstAttribute="leading" secondItem="EXPO-ContainerView" secondAttribute="leading" id="6tX-OG-Sck"/>
                            <constraint firstItem="EXPO-SplashScreenBackground" firstAttribute="trailing" secondItem="EXPO-ContainerView" secondAttribute="trailing" id="ABX-8g-7v4"/>
                            <constraint firstItem="EXPO-SplashScreenBackground" firstAttribute="bottom" secondItem="EXPO-ContainerView" secondAttribute="bottom" id="jkI-2V-eW5"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="top" secondItem="EXPO-ContainerView" secondAttribute="top" id="2VS-Uz-0LU"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="leading" secondItem="EXPO-ContainerView" secondAttribute="leading" id="LhH-Ei-DKo"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="trailing" secondItem="EXPO-ContainerView" secondAttribute="trailing" id="I6l-TP-6fn"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="bottom" secondItem="EXPO-ContainerView" secondAttribute="bottom" id="nbp-HC-eaG"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="top" secondItem="EXPO-ContainerView" secondAttribute="top" id="83fcb9b545b870ba44c24f0feeb116490c499c52"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="leading" secondItem="EXPO-ContainerView" secondAttribute="leading" id="61d16215e44b98e39d0a2c74fdbfaaa22601b12c"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="trailing" secondItem="EXPO-ContainerView" secondAttribute="trailing" id="f934da460e9ab5acae3ad9987d5b676a108796c1"/>
                            <constraint firstItem="EXPO-SplashScreen" firstAttribute="bottom" secondItem="EXPO-ContainerView" secondAttribute="bottom" id="d6a0be88096b36fb132659aa90203d39139deda9"/>
                        </constraints>
                        <viewLayoutGuide key="safeArea" id="Rmq-lb-GrQ"/>
                    </view>
                </viewController>
                <placeholder placeholderIdentifier="IBFirstResponder" id="EXPO-PLACEHOLDER-1" userLabel="First Responder" sceneMemberID="firstResponder"/>
            </objects>
            <point key="canvasLocation" x="140.625" y="129.4921875"/>
        </scene>
    </scenes>
    <resources>
        <image name="SplashScreenBackground" width="1" height="1"/>
        <image name="SplashScreen" width="414" height="736"/>
    </resources>
</document>
</file>

<file path="ios/musicplayer.xcodeproj/xcshareddata/xcschemes/musicplayer.xcscheme">
<?xml version="1.0" encoding="UTF-8"?>
<Scheme
   LastUpgradeVersion = "1130"
   version = "1.3">
   <BuildAction
      parallelizeBuildables = "YES"
      buildImplicitDependencies = "YES">
      <BuildActionEntries>
         <BuildActionEntry
            buildForTesting = "YES"
            buildForRunning = "YES"
            buildForProfiling = "YES"
            buildForArchiving = "YES"
            buildForAnalyzing = "YES">
            <BuildableReference
               BuildableIdentifier = "primary"
               BlueprintIdentifier = "13B07F861A680F5B00A75B9A"
               BuildableName = "musicplayer.app"
               BlueprintName = "musicplayer"
               ReferencedContainer = "container:musicplayer.xcodeproj">
            </BuildableReference>
         </BuildActionEntry>
      </BuildActionEntries>
   </BuildAction>
   <TestAction
      buildConfiguration = "Debug"
      selectedDebuggerIdentifier = "Xcode.DebuggerFoundation.Debugger.LLDB"
      selectedLauncherIdentifier = "Xcode.DebuggerFoundation.Launcher.LLDB"
      shouldUseLaunchSchemeArgsEnv = "YES">
      <Testables>
         <TestableReference
            skipped = "NO">
            <BuildableReference
               BuildableIdentifier = "primary"
               BlueprintIdentifier = "00E356ED1AD99517003FC87E"
               BuildableName = "musicplayerTests.xctest"
               BlueprintName = "musicplayerTests"
               ReferencedContainer = "container:musicplayer.xcodeproj">
            </BuildableReference>
         </TestableReference>
      </Testables>
   </TestAction>
   <LaunchAction
      buildConfiguration = "Debug"
      selectedDebuggerIdentifier = "Xcode.DebuggerFoundation.Debugger.LLDB"
      selectedLauncherIdentifier = "Xcode.DebuggerFoundation.Launcher.LLDB"
      launchStyle = "0"
      useCustomWorkingDirectory = "NO"
      ignoresPersistentStateOnLaunch = "NO"
      debugDocumentVersioning = "YES"
      debugServiceExtension = "internal"
      allowLocationSimulation = "YES">
      <BuildableProductRunnable
         runnableDebuggingMode = "0">
         <BuildableReference
            BuildableIdentifier = "primary"
            BlueprintIdentifier = "13B07F861A680F5B00A75B9A"
            BuildableName = "musicplayer.app"
            BlueprintName = "musicplayer"
            ReferencedContainer = "container:musicplayer.xcodeproj">
         </BuildableReference>
      </BuildableProductRunnable>
   </LaunchAction>
   <ProfileAction
      buildConfiguration = "Release"
      shouldUseLaunchSchemeArgsEnv = "YES"
      savedToolIdentifier = ""
      useCustomWorkingDirectory = "NO"
      debugDocumentVersioning = "YES">
      <BuildableProductRunnable
         runnableDebuggingMode = "0">
         <BuildableReference
            BuildableIdentifier = "primary"
            BlueprintIdentifier = "13B07F861A680F5B00A75B9A"
            BuildableName = "musicplayer.app"
            BlueprintName = "musicplayer"
            ReferencedContainer = "container:musicplayer.xcodeproj">
         </BuildableReference>
      </BuildableProductRunnable>
   </ProfileAction>
   <AnalyzeAction
      buildConfiguration = "Debug">
   </AnalyzeAction>
   <ArchiveAction
      buildConfiguration = "Release"
      revealArchiveInOrganizer = "YES">
   </ArchiveAction>
</Scheme>
</file>

<file path="ios/musicplayer.xcodeproj/project.pbxproj">
// !$*UTF8*$!
{
	archiveVersion = 1;
	classes = {
	};
	objectVersion = 54;
	objects = {

/* Begin PBXBuildFile section */
		13B07FBC1A68108700A75B9A /* AppDelegate.mm in Sources */ = {isa = PBXBuildFile; fileRef = 13B07FB01A68108700A75B9A /* AppDelegate.mm */; };
		13B07FBF1A68108700A75B9A /* Images.xcassets in Resources */ = {isa = PBXBuildFile; fileRef = 13B07FB51A68108700A75B9A /* Images.xcassets */; };
		13B07FC11A68108700A75B9A /* main.m in Sources */ = {isa = PBXBuildFile; fileRef = 13B07FB71A68108700A75B9A /* main.m */; };
		3E461D99554A48A4959DE609 /* SplashScreen.storyboard in Resources */ = {isa = PBXBuildFile; fileRef = AA286B85B6C04FC6940260E9 /* SplashScreen.storyboard */; };
		7659D409E5E54449AAF4EE6F /* noop-file.swift in Sources */ = {isa = PBXBuildFile; fileRef = C490602363AB4980BF330D09 /* noop-file.swift */; };
		96905EF65AED1B983A6B3ABC /* libPods-musicplayer.a in Frameworks */ = {isa = PBXBuildFile; fileRef = 58EEBF8E8E6FB1BC6CAF49B5 /* libPods-musicplayer.a */; };
		B18059E884C0ABDD17F3DC3D /* ExpoModulesProvider.swift in Sources */ = {isa = PBXBuildFile; fileRef = FAC715A2D49A985799AEE119 /* ExpoModulesProvider.swift */; };
		BB2F792D24A3F905000567C9 /* Expo.plist in Resources */ = {isa = PBXBuildFile; fileRef = BB2F792C24A3F905000567C9 /* Expo.plist */; };
/* End PBXBuildFile section */

/* Begin PBXFileReference section */
		04026D180642454D81C3D8C3 /* musicplayer-Bridging-Header.h */ = {isa = PBXFileReference; explicitFileType = undefined; fileEncoding = 4; includeInIndex = 0; lastKnownFileType = sourcecode.c.h; name = "musicplayer-Bridging-Header.h"; path = "musicplayer/musicplayer-Bridging-Header.h"; sourceTree = "<group>"; };
		13B07F961A680F5B00A75B9A /* musicplayer.app */ = {isa = PBXFileReference; explicitFileType = wrapper.application; includeInIndex = 0; path = musicplayer.app; sourceTree = BUILT_PRODUCTS_DIR; };
		13B07FAF1A68108700A75B9A /* AppDelegate.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; name = AppDelegate.h; path = musicplayer/AppDelegate.h; sourceTree = "<group>"; };
		13B07FB01A68108700A75B9A /* AppDelegate.mm */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.objcpp; name = AppDelegate.mm; path = musicplayer/AppDelegate.mm; sourceTree = "<group>"; };
		13B07FB51A68108700A75B9A /* Images.xcassets */ = {isa = PBXFileReference; lastKnownFileType = folder.assetcatalog; name = Images.xcassets; path = musicplayer/Images.xcassets; sourceTree = "<group>"; };
		13B07FB61A68108700A75B9A /* Info.plist */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.plist.xml; name = Info.plist; path = musicplayer/Info.plist; sourceTree = "<group>"; };
		13B07FB71A68108700A75B9A /* main.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; name = main.m; path = musicplayer/main.m; sourceTree = "<group>"; };
		58EEBF8E8E6FB1BC6CAF49B5 /* libPods-musicplayer.a */ = {isa = PBXFileReference; explicitFileType = archive.ar; includeInIndex = 0; path = "libPods-musicplayer.a"; sourceTree = BUILT_PRODUCTS_DIR; };
		6C2E3173556A471DD304B334 /* Pods-musicplayer.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-musicplayer.debug.xcconfig"; path = "Target Support Files/Pods-musicplayer/Pods-musicplayer.debug.xcconfig"; sourceTree = "<group>"; };
		7A4D352CD337FB3A3BF06240 /* Pods-musicplayer.release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-musicplayer.release.xcconfig"; path = "Target Support Files/Pods-musicplayer/Pods-musicplayer.release.xcconfig"; sourceTree = "<group>"; };
		AA286B85B6C04FC6940260E9 /* SplashScreen.storyboard */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.storyboard; name = SplashScreen.storyboard; path = musicplayer/SplashScreen.storyboard; sourceTree = "<group>"; };
		BB2F792C24A3F905000567C9 /* Expo.plist */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.plist.xml; path = Expo.plist; sourceTree = "<group>"; };
		C490602363AB4980BF330D09 /* noop-file.swift */ = {isa = PBXFileReference; explicitFileType = undefined; fileEncoding = 4; includeInIndex = 0; lastKnownFileType = sourcecode.swift; name = "noop-file.swift"; path = "musicplayer/noop-file.swift"; sourceTree = "<group>"; };
		ED297162215061F000B7C4FE /* JavaScriptCore.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = JavaScriptCore.framework; path = System/Library/Frameworks/JavaScriptCore.framework; sourceTree = SDKROOT; };
		FAC715A2D49A985799AEE119 /* ExpoModulesProvider.swift */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = sourcecode.swift; name = ExpoModulesProvider.swift; path = "Pods/Target Support Files/Pods-musicplayer/ExpoModulesProvider.swift"; sourceTree = "<group>"; };
/* End PBXFileReference section */

/* Begin PBXFrameworksBuildPhase section */
		13B07F8C1A680F5B00A75B9A /* Frameworks */ = {
			isa = PBXFrameworksBuildPhase;
			buildActionMask = 2147483647;
			files = (
				96905EF65AED1B983A6B3ABC /* libPods-musicplayer.a in Frameworks */,
			);
			runOnlyForDeploymentPostprocessing = 0;
		};
/* End PBXFrameworksBuildPhase section */

/* Begin PBXGroup section */
		13B07FAE1A68108700A75B9A /* musicplayer */ = {
			isa = PBXGroup;
			children = (
				BB2F792B24A3F905000567C9 /* Supporting */,
				13B07FAF1A68108700A75B9A /* AppDelegate.h */,
				13B07FB01A68108700A75B9A /* AppDelegate.mm */,
				13B07FB51A68108700A75B9A /* Images.xcassets */,
				13B07FB61A68108700A75B9A /* Info.plist */,
				13B07FB71A68108700A75B9A /* main.m */,
				AA286B85B6C04FC6940260E9 /* SplashScreen.storyboard */,
				C490602363AB4980BF330D09 /* noop-file.swift */,
				04026D180642454D81C3D8C3 /* musicplayer-Bridging-Header.h */,
			);
			name = musicplayer;
			sourceTree = "<group>";
		};
		2D16E6871FA4F8E400B85C8A /* Frameworks */ = {
			isa = PBXGroup;
			children = (
				ED297162215061F000B7C4FE /* JavaScriptCore.framework */,
				58EEBF8E8E6FB1BC6CAF49B5 /* libPods-musicplayer.a */,
			);
			name = Frameworks;
			sourceTree = "<group>";
		};
		832341AE1AAA6A7D00B99B32 /* Libraries */ = {
			isa = PBXGroup;
			children = (
			);
			name = Libraries;
			sourceTree = "<group>";
		};
		83CBB9F61A601CBA00E9B192 = {
			isa = PBXGroup;
			children = (
				13B07FAE1A68108700A75B9A /* musicplayer */,
				832341AE1AAA6A7D00B99B32 /* Libraries */,
				83CBBA001A601CBA00E9B192 /* Products */,
				2D16E6871FA4F8E400B85C8A /* Frameworks */,
				D65327D7A22EEC0BE12398D9 /* Pods */,
				D7E4C46ADA2E9064B798F356 /* ExpoModulesProviders */,
			);
			indentWidth = 2;
			sourceTree = "<group>";
			tabWidth = 2;
			usesTabs = 0;
		};
		83CBBA001A601CBA00E9B192 /* Products */ = {
			isa = PBXGroup;
			children = (
				13B07F961A680F5B00A75B9A /* musicplayer.app */,
			);
			name = Products;
			sourceTree = "<group>";
		};
		92DBD88DE9BF7D494EA9DA96 /* musicplayer */ = {
			isa = PBXGroup;
			children = (
				FAC715A2D49A985799AEE119 /* ExpoModulesProvider.swift */,
			);
			name = musicplayer;
			sourceTree = "<group>";
		};
		BB2F792B24A3F905000567C9 /* Supporting */ = {
			isa = PBXGroup;
			children = (
				BB2F792C24A3F905000567C9 /* Expo.plist */,
			);
			name = Supporting;
			path = musicplayer/Supporting;
			sourceTree = "<group>";
		};
		D65327D7A22EEC0BE12398D9 /* Pods */ = {
			isa = PBXGroup;
			children = (
				6C2E3173556A471DD304B334 /* Pods-musicplayer.debug.xcconfig */,
				7A4D352CD337FB3A3BF06240 /* Pods-musicplayer.release.xcconfig */,
			);
			path = Pods;
			sourceTree = "<group>";
		};
		D7E4C46ADA2E9064B798F356 /* ExpoModulesProviders */ = {
			isa = PBXGroup;
			children = (
				92DBD88DE9BF7D494EA9DA96 /* musicplayer */,
			);
			name = ExpoModulesProviders;
			sourceTree = "<group>";
		};
/* End PBXGroup section */

/* Begin PBXNativeTarget section */
		13B07F861A680F5B00A75B9A /* musicplayer */ = {
			isa = PBXNativeTarget;
			buildConfigurationList = 13B07F931A680F5B00A75B9A /* Build configuration list for PBXNativeTarget "musicplayer" */;
			buildPhases = (
				08A4A3CD28434E44B6B9DE2E /* [CP] Check Pods Manifest.lock */,
				539F918CA6BFE617549B02FC /* [Expo] Configure project */,
				13B07F871A680F5B00A75B9A /* Sources */,
				13B07F8C1A680F5B00A75B9A /* Frameworks */,
				13B07F8E1A680F5B00A75B9A /* Resources */,
				00DD1BFF1BD5951E006B06BC /* Bundle React Native code and images */,
				800E24972A6A228C8D4807E9 /* [CP] Copy Pods Resources */,
				B7DA35FD2F8F617CD2E4B8E1 /* [CP] Embed Pods Frameworks */,
			);
			buildRules = (
			);
			dependencies = (
			);
			name = musicplayer;
			productName = musicplayer;
			productReference = 13B07F961A680F5B00A75B9A /* musicplayer.app */;
			productType = "com.apple.product-type.application";
		};
/* End PBXNativeTarget section */

/* Begin PBXProject section */
		83CBB9F71A601CBA00E9B192 /* Project object */ = {
			isa = PBXProject;
			attributes = {
				LastUpgradeCheck = 1130;
				TargetAttributes = {
					13B07F861A680F5B00A75B9A = {
						LastSwiftMigration = 1250;
					};
				};
			};
			buildConfigurationList = 83CBB9FA1A601CBA00E9B192 /* Build configuration list for PBXProject "musicplayer" */;
			compatibilityVersion = "Xcode 3.2";
			developmentRegion = en;
			hasScannedForEncodings = 0;
			knownRegions = (
				en,
				Base,
			);
			mainGroup = 83CBB9F61A601CBA00E9B192;
			productRefGroup = 83CBBA001A601CBA00E9B192 /* Products */;
			projectDirPath = "";
			projectRoot = "";
			targets = (
				13B07F861A680F5B00A75B9A /* musicplayer */,
			);
		};
/* End PBXProject section */

/* Begin PBXResourcesBuildPhase section */
		13B07F8E1A680F5B00A75B9A /* Resources */ = {
			isa = PBXResourcesBuildPhase;
			buildActionMask = 2147483647;
			files = (
				BB2F792D24A3F905000567C9 /* Expo.plist in Resources */,
				13B07FBF1A68108700A75B9A /* Images.xcassets in Resources */,
				3E461D99554A48A4959DE609 /* SplashScreen.storyboard in Resources */,
			);
			runOnlyForDeploymentPostprocessing = 0;
		};
/* End PBXResourcesBuildPhase section */

/* Begin PBXShellScriptBuildPhase section */
		00DD1BFF1BD5951E006B06BC /* Bundle React Native code and images */ = {
			isa = PBXShellScriptBuildPhase;
			alwaysOutOfDate = 1;
			buildActionMask = 2147483647;
			files = (
			);
			inputPaths = (
			);
			name = "Bundle React Native code and images";
			outputPaths = (
			);
			runOnlyForDeploymentPostprocessing = 0;
			shellPath = /bin/sh;
			shellScript = "if [[ -f \"$PODS_ROOT/../.xcode.env\" ]]; then\n  source \"$PODS_ROOT/../.xcode.env\"\nfi\nif [[ -f \"$PODS_ROOT/../.xcode.env.local\" ]]; then\n  source \"$PODS_ROOT/../.xcode.env.local\"\nfi\n\n# The project root by default is one level up from the ios directory\nexport PROJECT_ROOT=\"$PROJECT_DIR\"/..\n\nif [[ \"$CONFIGURATION\" = *Debug* ]]; then\n  export SKIP_BUNDLING=1\nfi\nif [[ -z \"$ENTRY_FILE\" ]]; then\n  # Set the entry JS file using the bundler's entry resolution.\n  export ENTRY_FILE=\"$(\"$NODE_BINARY\" -e \"require('expo/scripts/resolveAppEntry')\" \"$PROJECT_ROOT\" ios relative | tail -n 1)\"\nfi\n\nif [[ -z \"$CLI_PATH\" ]]; then\n  # Use Expo CLI\n  export CLI_PATH=\"$(\"$NODE_BINARY\" --print \"require.resolve('@expo/cli', { paths: [require.resolve('expo/package.json')] })\")\"\nfi\nif [[ -z \"$BUNDLE_COMMAND\" ]]; then\n  # Default Expo CLI command for bundling\n  export BUNDLE_COMMAND=\"export:embed\"\nfi\n\n# Source .xcode.env.updates if it exists to allow\n# SKIP_BUNDLING to be unset if needed\nif [[ -f \"$PODS_ROOT/../.xcode.env.updates\" ]]; then\n  source \"$PODS_ROOT/../.xcode.env.updates\"\nfi\n# Source local changes to allow overrides\n# if needed\nif [[ -f \"$PODS_ROOT/../.xcode.env.local\" ]]; then\n  source \"$PODS_ROOT/../.xcode.env.local\"\nfi\n\n`\"$NODE_BINARY\" --print \"require('path').dirname(require.resolve('react-native/package.json')) + '/scripts/react-native-xcode.sh'\"`\n\n";
		};
		08A4A3CD28434E44B6B9DE2E /* [CP] Check Pods Manifest.lock */ = {
			isa = PBXShellScriptBuildPhase;
			buildActionMask = 2147483647;
			files = (
			);
			inputFileListPaths = (
			);
			inputPaths = (
				"${PODS_PODFILE_DIR_PATH}/Podfile.lock",
				"${PODS_ROOT}/Manifest.lock",
			);
			name = "[CP] Check Pods Manifest.lock";
			outputFileListPaths = (
			);
			outputPaths = (
				"$(DERIVED_FILE_DIR)/Pods-musicplayer-checkManifestLockResult.txt",
			);
			runOnlyForDeploymentPostprocessing = 0;
			shellPath = /bin/sh;
			shellScript = "diff \"${PODS_PODFILE_DIR_PATH}/Podfile.lock\" \"${PODS_ROOT}/Manifest.lock\" > /dev/null\nif [ $? != 0 ] ; then\n    # print error to STDERR\n    echo \"error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation.\" >&2\n    exit 1\nfi\n# This output is used by Xcode 'outputs' to avoid re-running this script phase.\necho \"SUCCESS\" > \"${SCRIPT_OUTPUT_FILE_0}\"\n";
			showEnvVarsInLog = 0;
		};
		539F918CA6BFE617549B02FC /* [Expo] Configure project */ = {
			isa = PBXShellScriptBuildPhase;
			alwaysOutOfDate = 1;
			buildActionMask = 2147483647;
			files = (
			);
			inputFileListPaths = (
			);
			inputPaths = (
			);
			name = "[Expo] Configure project";
			outputFileListPaths = (
			);
			outputPaths = (
			);
			runOnlyForDeploymentPostprocessing = 0;
			shellPath = /bin/sh;
			shellScript = "# This script configures Expo modules and generates the modules provider file.\nbash -l -c \"./Pods/Target\\ Support\\ Files/Pods-musicplayer/expo-configure-project.sh\"\n";
		};
		800E24972A6A228C8D4807E9 /* [CP] Copy Pods Resources */ = {
			isa = PBXShellScriptBuildPhase;
			buildActionMask = 2147483647;
			files = (
			);
			inputPaths = (
				"${PODS_ROOT}/Target Support Files/Pods-musicplayer/Pods-musicplayer-resources.sh",
				"${PODS_CONFIGURATION_BUILD_DIR}/EXConstants/EXConstants.bundle",
				"${PODS_CONFIGURATION_BUILD_DIR}/React-Core/RCTI18nStrings.bundle",
				"${PODS_CONFIGURATION_BUILD_DIR}/expo-dev-launcher/EXDevLauncher.bundle",
				"${PODS_CONFIGURATION_BUILD_DIR}/expo-dev-menu/EXDevMenu.bundle",
			);
			name = "[CP] Copy Pods Resources";
			outputPaths = (
				"${TARGET_BUILD_DIR}/${UNLOCALIZED_RESOURCES_FOLDER_PATH}/EXConstants.bundle",
				"${TARGET_BUILD_DIR}/${UNLOCALIZED_RESOURCES_FOLDER_PATH}/RCTI18nStrings.bundle",
				"${TARGET_BUILD_DIR}/${UNLOCALIZED_RESOURCES_FOLDER_PATH}/EXDevLauncher.bundle",
				"${TARGET_BUILD_DIR}/${UNLOCALIZED_RESOURCES_FOLDER_PATH}/EXDevMenu.bundle",
			);
			runOnlyForDeploymentPostprocessing = 0;
			shellPath = /bin/sh;
			shellScript = "\"${PODS_ROOT}/Target Support Files/Pods-musicplayer/Pods-musicplayer-resources.sh\"\n";
			showEnvVarsInLog = 0;
		};
		B7DA35FD2F8F617CD2E4B8E1 /* [CP] Embed Pods Frameworks */ = {
			isa = PBXShellScriptBuildPhase;
			buildActionMask = 2147483647;
			files = (
			);
			inputPaths = (
				"${PODS_ROOT}/Target Support Files/Pods-musicplayer/Pods-musicplayer-frameworks.sh",
				"${PODS_XCFRAMEWORKS_BUILD_DIR}/hermes-engine/Pre-built/hermes.framework/hermes",
			);
			name = "[CP] Embed Pods Frameworks";
			outputPaths = (
				"${TARGET_BUILD_DIR}/${FRAMEWORKS_FOLDER_PATH}/hermes.framework",
			);
			runOnlyForDeploymentPostprocessing = 0;
			shellPath = /bin/sh;
			shellScript = "\"${PODS_ROOT}/Target Support Files/Pods-musicplayer/Pods-musicplayer-frameworks.sh\"\n";
			showEnvVarsInLog = 0;
		};
/* End PBXShellScriptBuildPhase section */

/* Begin PBXSourcesBuildPhase section */
		13B07F871A680F5B00A75B9A /* Sources */ = {
			isa = PBXSourcesBuildPhase;
			buildActionMask = 2147483647;
			files = (
				13B07FBC1A68108700A75B9A /* AppDelegate.mm in Sources */,
				13B07FC11A68108700A75B9A /* main.m in Sources */,
				B18059E884C0ABDD17F3DC3D /* ExpoModulesProvider.swift in Sources */,
				7659D409E5E54449AAF4EE6F /* noop-file.swift in Sources */,
			);
			runOnlyForDeploymentPostprocessing = 0;
		};
/* End PBXSourcesBuildPhase section */

/* Begin XCBuildConfiguration section */
		13B07F941A680F5B00A75B9A /* Debug */ = {
			isa = XCBuildConfiguration;
			baseConfigurationReference = 6C2E3173556A471DD304B334 /* Pods-musicplayer.debug.xcconfig */;
			buildSettings = {
				ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon;
				CLANG_ENABLE_MODULES = YES;
				CODE_SIGN_ENTITLEMENTS = musicplayer/musicplayer.entitlements;
				CURRENT_PROJECT_VERSION = 1;
				ENABLE_BITCODE = NO;
				GCC_PREPROCESSOR_DEFINITIONS = (
					"$(inherited)",
					"FB_SONARKIT_ENABLED=1",
				);
				INFOPLIST_FILE = musicplayer/Info.plist;
				IPHONEOS_DEPLOYMENT_TARGET = 13.4;
				LD_RUNPATH_SEARCH_PATHS = (
					"$(inherited)",
					"@executable_path/Frameworks",
				);
				MARKETING_VERSION = 1.0;
				OTHER_LDFLAGS = (
					"$(inherited)",
					"-ObjC",
					"-lc++",
				);
				OTHER_SWIFT_FLAGS = "$(inherited) -D EXPO_CONFIGURATION_DEBUG";
				PRODUCT_BUNDLE_IDENTIFIER = com.music.player;
				PRODUCT_NAME = musicplayer;
				SWIFT_OBJC_BRIDGING_HEADER = "musicplayer/musicplayer-Bridging-Header.h";
				SWIFT_OPTIMIZATION_LEVEL = "-Onone";
				SWIFT_VERSION = 5.0;
				TARGETED_DEVICE_FAMILY = "1,2";
				VERSIONING_SYSTEM = "apple-generic";
			};
			name = Debug;
		};
		13B07F951A680F5B00A75B9A /* Release */ = {
			isa = XCBuildConfiguration;
			baseConfigurationReference = 7A4D352CD337FB3A3BF06240 /* Pods-musicplayer.release.xcconfig */;
			buildSettings = {
				ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon;
				CLANG_ENABLE_MODULES = YES;
				CODE_SIGN_ENTITLEMENTS = musicplayer/musicplayer.entitlements;
				CURRENT_PROJECT_VERSION = 1;
				INFOPLIST_FILE = musicplayer/Info.plist;
				IPHONEOS_DEPLOYMENT_TARGET = 13.4;
				LD_RUNPATH_SEARCH_PATHS = (
					"$(inherited)",
					"@executable_path/Frameworks",
				);
				MARKETING_VERSION = 1.0;
				OTHER_LDFLAGS = (
					"$(inherited)",
					"-ObjC",
					"-lc++",
				);
				OTHER_SWIFT_FLAGS = "$(inherited) -D EXPO_CONFIGURATION_RELEASE";
				PRODUCT_BUNDLE_IDENTIFIER = com.music.player;
				PRODUCT_NAME = musicplayer;
				SWIFT_OBJC_BRIDGING_HEADER = "musicplayer/musicplayer-Bridging-Header.h";
				SWIFT_VERSION = 5.0;
				TARGETED_DEVICE_FAMILY = "1,2";
				VERSIONING_SYSTEM = "apple-generic";
			};
			name = Release;
		};
		83CBBA201A601CBA00E9B192 /* Debug */ = {
			isa = XCBuildConfiguration;
			buildSettings = {
				ALWAYS_SEARCH_USER_PATHS = NO;
				CLANG_ANALYZER_LOCALIZABILITY_NONLOCALIZED = YES;
				CLANG_CXX_LANGUAGE_STANDARD = "c++20";
				CLANG_CXX_LIBRARY = "libc++";
				CLANG_ENABLE_MODULES = YES;
				CLANG_ENABLE_OBJC_ARC = YES;
				CLANG_WARN_BLOCK_CAPTURE_AUTORELEASING = YES;
				CLANG_WARN_BOOL_CONVERSION = YES;
				CLANG_WARN_COMMA = YES;
				CLANG_WARN_CONSTANT_CONVERSION = YES;
				CLANG_WARN_DEPRECATED_OBJC_IMPLEMENTATIONS = YES;
				CLANG_WARN_DIRECT_OBJC_ISA_USAGE = YES_ERROR;
				CLANG_WARN_EMPTY_BODY = YES;
				CLANG_WARN_ENUM_CONVERSION = YES;
				CLANG_WARN_INFINITE_RECURSION = YES;
				CLANG_WARN_INT_CONVERSION = YES;
				CLANG_WARN_NON_LITERAL_NULL_CONVERSION = YES;
				CLANG_WARN_OBJC_IMPLICIT_RETAIN_SELF = YES;
				CLANG_WARN_OBJC_LITERAL_CONVERSION = YES;
				CLANG_WARN_OBJC_ROOT_CLASS = YES_ERROR;
				CLANG_WARN_RANGE_LOOP_ANALYSIS = YES;
				CLANG_WARN_STRICT_PROTOTYPES = YES;
				CLANG_WARN_SUSPICIOUS_MOVE = YES;
				CLANG_WARN_UNREACHABLE_CODE = YES;
				CLANG_WARN__DUPLICATE_METHOD_MATCH = YES;
				"CODE_SIGN_IDENTITY[sdk=iphoneos*]" = "iPhone Developer";
				COPY_PHASE_STRIP = NO;
				ENABLE_STRICT_OBJC_MSGSEND = YES;
				ENABLE_TESTABILITY = YES;
				"EXCLUDED_ARCHS[sdk=iphonesimulator*]" = i386;
				GCC_C_LANGUAGE_STANDARD = gnu99;
				GCC_DYNAMIC_NO_PIC = NO;
				GCC_NO_COMMON_BLOCKS = YES;
				GCC_OPTIMIZATION_LEVEL = 0;
				GCC_PREPROCESSOR_DEFINITIONS = (
					"DEBUG=1",
					"$(inherited)",
				);
				GCC_SYMBOLS_PRIVATE_EXTERN = NO;
				GCC_WARN_64_TO_32_BIT_CONVERSION = YES;
				GCC_WARN_ABOUT_RETURN_TYPE = YES_ERROR;
				GCC_WARN_UNDECLARED_SELECTOR = YES;
				GCC_WARN_UNINITIALIZED_AUTOS = YES_AGGRESSIVE;
				GCC_WARN_UNUSED_FUNCTION = YES;
				GCC_WARN_UNUSED_VARIABLE = YES;
				IPHONEOS_DEPLOYMENT_TARGET = 13.4;
				LD_RUNPATH_SEARCH_PATHS = (
					/usr/lib/swift,
					"$(inherited)",
				);
				LIBRARY_SEARCH_PATHS = "$(SDKROOT)/usr/lib/swift\"$(inherited)\"";
				MTL_ENABLE_DEBUG_INFO = YES;
				ONLY_ACTIVE_ARCH = YES;
				OTHER_CFLAGS = "$(inherited)";
				OTHER_CPLUSPLUSFLAGS = "$(inherited)";
				OTHER_LDFLAGS = (
					"$(inherited)",
					" ",
				);
				REACT_NATIVE_PATH = "${PODS_ROOT}/../../node_modules/react-native";
				SDKROOT = iphoneos;
				USE_HERMES = true;
			};
			name = Debug;
		};
		83CBBA211A601CBA00E9B192 /* Release */ = {
			isa = XCBuildConfiguration;
			buildSettings = {
				ALWAYS_SEARCH_USER_PATHS = NO;
				CLANG_ANALYZER_LOCALIZABILITY_NONLOCALIZED = YES;
				CLANG_CXX_LANGUAGE_STANDARD = "c++20";
				CLANG_CXX_LIBRARY = "libc++";
				CLANG_ENABLE_MODULES = YES;
				CLANG_ENABLE_OBJC_ARC = YES;
				CLANG_WARN_BLOCK_CAPTURE_AUTORELEASING = YES;
				CLANG_WARN_BOOL_CONVERSION = YES;
				CLANG_WARN_COMMA = YES;
				CLANG_WARN_CONSTANT_CONVERSION = YES;
				CLANG_WARN_DEPRECATED_OBJC_IMPLEMENTATIONS = YES;
				CLANG_WARN_DIRECT_OBJC_ISA_USAGE = YES_ERROR;
				CLANG_WARN_EMPTY_BODY = YES;
				CLANG_WARN_ENUM_CONVERSION = YES;
				CLANG_WARN_INFINITE_RECURSION = YES;
				CLANG_WARN_INT_CONVERSION = YES;
				CLANG_WARN_NON_LITERAL_NULL_CONVERSION = YES;
				CLANG_WARN_OBJC_IMPLICIT_RETAIN_SELF = YES;
				CLANG_WARN_OBJC_LITERAL_CONVERSION = YES;
				CLANG_WARN_OBJC_ROOT_CLASS = YES_ERROR;
				CLANG_WARN_RANGE_LOOP_ANALYSIS = YES;
				CLANG_WARN_STRICT_PROTOTYPES = YES;
				CLANG_WARN_SUSPICIOUS_MOVE = YES;
				CLANG_WARN_UNREACHABLE_CODE = YES;
				CLANG_WARN__DUPLICATE_METHOD_MATCH = YES;
				"CODE_SIGN_IDENTITY[sdk=iphoneos*]" = "iPhone Developer";
				COPY_PHASE_STRIP = YES;
				ENABLE_NS_ASSERTIONS = NO;
				ENABLE_STRICT_OBJC_MSGSEND = YES;
				"EXCLUDED_ARCHS[sdk=iphonesimulator*]" = i386;
				GCC_C_LANGUAGE_STANDARD = gnu99;
				GCC_NO_COMMON_BLOCKS = YES;
				GCC_WARN_64_TO_32_BIT_CONVERSION = YES;
				GCC_WARN_ABOUT_RETURN_TYPE = YES_ERROR;
				GCC_WARN_UNDECLARED_SELECTOR = YES;
				GCC_WARN_UNINITIALIZED_AUTOS = YES_AGGRESSIVE;
				GCC_WARN_UNUSED_FUNCTION = YES;
				GCC_WARN_UNUSED_VARIABLE = YES;
				IPHONEOS_DEPLOYMENT_TARGET = 13.4;
				LD_RUNPATH_SEARCH_PATHS = (
					/usr/lib/swift,
					"$(inherited)",
				);
				LIBRARY_SEARCH_PATHS = "$(SDKROOT)/usr/lib/swift\"$(inherited)\"";
				MTL_ENABLE_DEBUG_INFO = NO;
				OTHER_CFLAGS = "$(inherited)";
				OTHER_CPLUSPLUSFLAGS = "$(inherited)";
				OTHER_LDFLAGS = (
					"$(inherited)",
					" ",
				);
				REACT_NATIVE_PATH = "${PODS_ROOT}/../../node_modules/react-native";
				SDKROOT = iphoneos;
				USE_HERMES = true;
				VALIDATE_PRODUCT = YES;
			};
			name = Release;
		};
/* End XCBuildConfiguration section */

/* Begin XCConfigurationList section */
		13B07F931A680F5B00A75B9A /* Build configuration list for PBXNativeTarget "musicplayer" */ = {
			isa = XCConfigurationList;
			buildConfigurations = (
				13B07F941A680F5B00A75B9A /* Debug */,
				13B07F951A680F5B00A75B9A /* Release */,
			);
			defaultConfigurationIsVisible = 0;
			defaultConfigurationName = Release;
		};
		83CBB9FA1A601CBA00E9B192 /* Build configuration list for PBXProject "musicplayer" */ = {
			isa = XCConfigurationList;
			buildConfigurations = (
				83CBBA201A601CBA00E9B192 /* Debug */,
				83CBBA211A601CBA00E9B192 /* Release */,
			);
			defaultConfigurationIsVisible = 0;
			defaultConfigurationName = Release;
		};
/* End XCConfigurationList section */
	};
	rootObject = 83CBB9F71A601CBA00E9B192 /* Project object */;
}
</file>

<file path="ios/musicplayer.xcworkspace/xcshareddata/IDEWorkspaceChecks.plist">
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>IDEDidComputeMac32BitWarning</key>
	<true/>
</dict>
</plist>
</file>

<file path="ios/musicplayer.xcworkspace/contents.xcworkspacedata">
<?xml version="1.0" encoding="UTF-8"?>
<Workspace
   version = "1.0">
   <FileRef
      location = "group:musicplayer.xcodeproj">
   </FileRef>
   <FileRef
      location = "group:Pods/Pods.xcodeproj">
   </FileRef>
</Workspace>
</file>

<file path="ios/.gitignore">
# OSX
#
.DS_Store

# Xcode
#
build/
*.pbxuser
!default.pbxuser
*.mode1v3
!default.mode1v3
*.mode2v3
!default.mode2v3
*.perspectivev3
!default.perspectivev3
xcuserdata
*.xccheckout
*.moved-aside
DerivedData
*.hmap
*.ipa
*.xcuserstate
project.xcworkspace
.xcode.env.local

# Bundle artifacts
*.jsbundle

# CocoaPods
/Pods/
</file>

<file path="ios/.xcode.env">
# This `.xcode.env` file is versioned and is used to source the environment
# used when running script phases inside Xcode.
# To customize your local environment, you can create an `.xcode.env.local`
# file that is not versioned.

# NODE_BINARY variable contains the PATH to the node executable.
#
# Customize the NODE_BINARY variable here.
# For example, to use nvm with brew, add the following line
# . "$(brew --prefix nvm)/nvm.sh" --no-use
export NODE_BINARY=$(command -v node)
</file>

<file path="ios/Podfile">
require File.join(File.dirname(`node --print "require.resolve('expo/package.json')"`), "scripts/autolinking")
require File.join(File.dirname(`node --print "require.resolve('react-native/package.json')"`), "scripts/react_native_pods")

require 'json'
podfile_properties = JSON.parse(File.read(File.join(__dir__, 'Podfile.properties.json'))) rescue {}

ENV['RCT_NEW_ARCH_ENABLED'] = podfile_properties['newArchEnabled'] == 'true' ? '1' : '0'
ENV['EX_DEV_CLIENT_NETWORK_INSPECTOR'] = podfile_properties['EX_DEV_CLIENT_NETWORK_INSPECTOR']

platform :ios, podfile_properties['ios.deploymentTarget'] || '13.4'
install! 'cocoapods',
  :deterministic_uuids => false

prepare_react_native_project!

# If you are using a `react-native-flipper` your iOS build will fail when `NO_FLIPPER=1` is set.
# because `react-native-flipper` depends on (FlipperKit,...), which will be excluded. To fix this,
# you can also exclude `react-native-flipper` in `react-native.config.js`
#
# ```js
# module.exports = {
#   dependencies: {
#     ...(process.env.NO_FLIPPER ? { 'react-native-flipper': { platforms: { ios: null } } } : {}),
#   }
# }
# ```
flipper_config = FlipperConfiguration.disabled
if ENV['NO_FLIPPER'] == '1' then
  # Explicitly disabled through environment variables
  flipper_config = FlipperConfiguration.disabled
elsif podfile_properties.key?('ios.flipper') then
  # Configure Flipper in Podfile.properties.json
  if podfile_properties['ios.flipper'] == 'true' then
    flipper_config = FlipperConfiguration.enabled(["Debug", "Release"])
  elsif podfile_properties['ios.flipper'] != 'false' then
    flipper_config = FlipperConfiguration.enabled(["Debug", "Release"], { 'Flipper' => podfile_properties['ios.flipper'] })
  end
end

target 'musicplayer' do
  use_expo_modules!
  config = use_native_modules!

  use_frameworks! :linkage => podfile_properties['ios.useFrameworks'].to_sym if podfile_properties['ios.useFrameworks']
  use_frameworks! :linkage => ENV['USE_FRAMEWORKS'].to_sym if ENV['USE_FRAMEWORKS']

  use_react_native!(
    :path => config[:reactNativePath],
    :hermes_enabled => podfile_properties['expo.jsEngine'] == nil || podfile_properties['expo.jsEngine'] == 'hermes',
    # An absolute path to your application root.
    :app_path => "#{Pod::Config.instance.installation_root}/..",
    # Note that if you have use_frameworks! enabled, Flipper will not work if enabled
    :flipper_configuration => flipper_config
  )

  post_install do |installer|
    react_native_post_install(
      installer,
      config[:reactNativePath],
      :mac_catalyst_enabled => false
    )

    # This is necessary for Xcode 14, because it signs resource bundles by default
    # when building for devices.
    installer.target_installation_results.pod_target_installation_results
      .each do |pod_name, target_installation_result|
      target_installation_result.resource_bundle_targets.each do |resource_bundle_target|
        resource_bundle_target.build_configurations.each do |config|
          config.build_settings['CODE_SIGNING_ALLOWED'] = 'NO'
        end
      end
    end
  end

  post_integrate do |installer|
    begin
      expo_patch_react_imports!(installer)
    rescue => e
      Pod::UI.warn e
    end
  end
end
</file>

<file path="ios/Podfile.lock">
PODS:
  - boost (1.83.0)
  - DoubleConversion (1.1.6)
  - EXConstants (15.4.5):
    - ExpoModulesCore
  - EXFont (11.10.3):
    - ExpoModulesCore
  - EXJSONUtils (0.12.3)
  - EXManifests (0.13.2):
    - ExpoModulesCore
  - Expo (50.0.14):
    - ExpoModulesCore
  - expo-dev-client (3.3.11):
    - EXManifests
    - expo-dev-launcher
    - expo-dev-menu
    - expo-dev-menu-interface
    - EXUpdatesInterface
  - expo-dev-launcher (3.6.9):
    - EXManifests
    - expo-dev-launcher/Main (= 3.6.9)
    - expo-dev-menu
    - expo-dev-menu-interface
    - ExpoModulesCore
    - EXUpdatesInterface
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
    - React-RCTAppDelegate
  - expo-dev-launcher/Main (3.6.9):
    - EXManifests
    - expo-dev-launcher/Unsafe
    - expo-dev-menu
    - expo-dev-menu-interface
    - ExpoModulesCore
    - EXUpdatesInterface
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
    - React-RCTAppDelegate
  - expo-dev-launcher/Unsafe (3.6.9):
    - EXManifests
    - expo-dev-menu
    - expo-dev-menu-interface
    - ExpoModulesCore
    - EXUpdatesInterface
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
    - React-RCTAppDelegate
  - expo-dev-menu (4.5.8):
    - expo-dev-menu/Main (= 4.5.8)
    - expo-dev-menu/ReactNativeCompatibles (= 4.5.8)
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - expo-dev-menu-interface (1.7.2)
  - expo-dev-menu/Main (4.5.8):
    - EXManifests
    - expo-dev-menu-interface
    - expo-dev-menu/Vendored
    - ExpoModulesCore
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - expo-dev-menu/ReactNativeCompatibles (4.5.8):
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - expo-dev-menu/SafeAreaView (4.5.8):
    - ExpoModulesCore
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - expo-dev-menu/Vendored (4.5.8):
    - expo-dev-menu/SafeAreaView
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - ExpoBlur (12.9.2):
    - ExpoModulesCore
  - ExpoFileSystem (16.0.8):
    - ExpoModulesCore
  - ExpoHead (3.4.8):
    - ExpoModulesCore
  - ExpoKeepAwake (12.8.2):
    - ExpoModulesCore
  - ExpoLinearGradient (12.7.2):
    - ExpoModulesCore
  - ExpoModulesCore (1.11.12):
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
    - React-NativeModulesApple
    - React-RCTAppDelegate
    - ReactCommon/turbomodule/core
  - EXSplashScreen (0.26.4):
    - ExpoModulesCore
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - EXUpdatesInterface (0.15.3)
  - FBLazyVector (0.73.6)
  - FBReactNativeSpec (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - RCTRequired (= 0.73.6)
    - RCTTypeSafety (= 0.73.6)
    - React-Core (= 0.73.6)
    - React-jsi (= 0.73.6)
    - ReactCommon/turbomodule/core (= 0.73.6)
  - fmt (6.2.1)
  - glog (0.3.5)
  - hermes-engine (0.73.6):
    - hermes-engine/Pre-built (= 0.73.6)
  - hermes-engine/Pre-built (0.73.6)
  - ImageColors (2.4.0):
    - ExpoModulesCore
  - libevent (2.1.12)
  - libwebp (1.3.2):
    - libwebp/demux (= 1.3.2)
    - libwebp/mux (= 1.3.2)
    - libwebp/sharpyuv (= 1.3.2)
    - libwebp/webp (= 1.3.2)
  - libwebp/demux (1.3.2):
    - libwebp/webp
  - libwebp/mux (1.3.2):
    - libwebp/demux
  - libwebp/sharpyuv (1.3.2)
  - libwebp/webp (1.3.2):
    - libwebp/sharpyuv
  - NVActivityIndicatorView (5.1.1):
    - NVActivityIndicatorView/Base (= 5.1.1)
  - NVActivityIndicatorView/Base (5.1.1)
  - RCT-Folly (2022.05.16.00):
    - boost
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - RCT-Folly/Default (= 2022.05.16.00)
  - RCT-Folly/Default (2022.05.16.00):
    - boost
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
  - RCT-Folly/Fabric (2022.05.16.00):
    - boost
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
  - RCT-Folly/Futures (2022.05.16.00):
    - boost
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - libevent
  - RCTRequired (0.73.6)
  - RCTTypeSafety (0.73.6):
    - FBLazyVector (= 0.73.6)
    - RCTRequired (= 0.73.6)
    - React-Core (= 0.73.6)
  - React (0.73.6):
    - React-Core (= 0.73.6)
    - React-Core/DevSupport (= 0.73.6)
    - React-Core/RCTWebSocket (= 0.73.6)
    - React-RCTActionSheet (= 0.73.6)
    - React-RCTAnimation (= 0.73.6)
    - React-RCTBlob (= 0.73.6)
    - React-RCTImage (= 0.73.6)
    - React-RCTLinking (= 0.73.6)
    - React-RCTNetwork (= 0.73.6)
    - React-RCTSettings (= 0.73.6)
    - React-RCTText (= 0.73.6)
    - React-RCTVibration (= 0.73.6)
  - React-callinvoker (0.73.6)
  - React-Codegen (0.73.6):
    - DoubleConversion
    - FBReactNativeSpec
    - glog
    - hermes-engine
    - RCT-Folly
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-jsi
    - React-jsiexecutor
    - React-NativeModulesApple
    - React-rncore
    - ReactCommon/turbomodule/bridging
    - ReactCommon/turbomodule/core
  - React-Core (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default (= 0.73.6)
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/CoreModulesHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/Default (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/DevSupport (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default (= 0.73.6)
    - React-Core/RCTWebSocket (= 0.73.6)
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-jsinspector (= 0.73.6)
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTActionSheetHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTAnimationHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTBlobHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTImageHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTLinkingHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTNetworkHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTSettingsHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTTextHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTVibrationHeaders (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-Core/RCTWebSocket (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Core/Default (= 0.73.6)
    - React-cxxreact
    - React-hermes
    - React-jsi
    - React-jsiexecutor
    - React-perflogger
    - React-runtimescheduler
    - React-utils
    - SocketRocket (= 0.6.1)
    - Yoga
  - React-CoreModules (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - RCTTypeSafety (= 0.73.6)
    - React-Codegen
    - React-Core/CoreModulesHeaders (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-NativeModulesApple
    - React-RCTBlob
    - React-RCTImage (= 0.73.6)
    - ReactCommon
    - SocketRocket (= 0.6.1)
  - React-cxxreact (0.73.6):
    - boost (= 1.83.0)
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-callinvoker (= 0.73.6)
    - React-debug (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-jsinspector (= 0.73.6)
    - React-logger (= 0.73.6)
    - React-perflogger (= 0.73.6)
    - React-runtimeexecutor (= 0.73.6)
  - React-debug (0.73.6)
  - React-Fabric (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-Fabric/animations (= 0.73.6)
    - React-Fabric/attributedstring (= 0.73.6)
    - React-Fabric/componentregistry (= 0.73.6)
    - React-Fabric/componentregistrynative (= 0.73.6)
    - React-Fabric/components (= 0.73.6)
    - React-Fabric/core (= 0.73.6)
    - React-Fabric/imagemanager (= 0.73.6)
    - React-Fabric/leakchecker (= 0.73.6)
    - React-Fabric/mounting (= 0.73.6)
    - React-Fabric/scheduler (= 0.73.6)
    - React-Fabric/telemetry (= 0.73.6)
    - React-Fabric/templateprocessor (= 0.73.6)
    - React-Fabric/textlayoutmanager (= 0.73.6)
    - React-Fabric/uimanager (= 0.73.6)
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/animations (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/attributedstring (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/componentregistry (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/componentregistrynative (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-Fabric/components/inputaccessory (= 0.73.6)
    - React-Fabric/components/legacyviewmanagerinterop (= 0.73.6)
    - React-Fabric/components/modal (= 0.73.6)
    - React-Fabric/components/rncore (= 0.73.6)
    - React-Fabric/components/root (= 0.73.6)
    - React-Fabric/components/safeareaview (= 0.73.6)
    - React-Fabric/components/scrollview (= 0.73.6)
    - React-Fabric/components/text (= 0.73.6)
    - React-Fabric/components/textinput (= 0.73.6)
    - React-Fabric/components/unimplementedview (= 0.73.6)
    - React-Fabric/components/view (= 0.73.6)
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/inputaccessory (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/legacyviewmanagerinterop (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/modal (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/rncore (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/root (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/safeareaview (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/scrollview (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/text (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/textinput (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/unimplementedview (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/components/view (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
    - Yoga
  - React-Fabric/core (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/imagemanager (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/leakchecker (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/mounting (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/scheduler (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/telemetry (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/templateprocessor (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/textlayoutmanager (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-Fabric/uimanager
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-Fabric/uimanager (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-cxxreact
    - React-debug
    - React-graphics
    - React-jsi
    - React-jsiexecutor
    - React-logger
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - ReactCommon/turbomodule/core
  - React-FabricImage (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - RCTRequired (= 0.73.6)
    - RCTTypeSafety (= 0.73.6)
    - React-Fabric
    - React-graphics
    - React-ImageManager
    - React-jsi
    - React-jsiexecutor (= 0.73.6)
    - React-logger
    - React-rendererdebug
    - React-utils
    - ReactCommon
    - Yoga
  - React-graphics (0.73.6):
    - glog
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - React-Core/Default (= 0.73.6)
    - React-utils
  - React-hermes (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - RCT-Folly/Futures (= 2022.05.16.00)
    - React-cxxreact (= 0.73.6)
    - React-jsi
    - React-jsiexecutor (= 0.73.6)
    - React-jsinspector (= 0.73.6)
    - React-perflogger (= 0.73.6)
  - React-ImageManager (0.73.6):
    - glog
    - RCT-Folly/Fabric
    - React-Core/Default
    - React-debug
    - React-Fabric
    - React-graphics
    - React-rendererdebug
    - React-utils
  - React-jserrorhandler (0.73.6):
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - React-debug
    - React-jsi
    - React-Mapbuffer
  - React-jsi (0.73.6):
    - boost (= 1.83.0)
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
  - React-jsiexecutor (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-cxxreact (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-perflogger (= 0.73.6)
  - React-jsinspector (0.73.6)
  - React-logger (0.73.6):
    - glog
  - React-Mapbuffer (0.73.6):
    - glog
    - React-debug
  - react-native-loader-kit (2.0.8):
    - NVActivityIndicatorView (= 5.1.1)
    - React-Core
  - react-native-menu (0.9.1):
    - React
  - react-native-safe-area-context (4.8.2):
    - React-Core
  - react-native-track-player (4.1.1):
    - React-Core
    - SwiftAudioEx (= 1.1.0)
  - React-nativeconfig (0.73.6)
  - React-NativeModulesApple (0.73.6):
    - glog
    - hermes-engine
    - React-callinvoker
    - React-Core
    - React-cxxreact
    - React-jsi
    - React-runtimeexecutor
    - ReactCommon/turbomodule/bridging
    - ReactCommon/turbomodule/core
  - React-perflogger (0.73.6)
  - React-RCTActionSheet (0.73.6):
    - React-Core/RCTActionSheetHeaders (= 0.73.6)
  - React-RCTAnimation (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - RCTTypeSafety
    - React-Codegen
    - React-Core/RCTAnimationHeaders
    - React-jsi
    - React-NativeModulesApple
    - ReactCommon
  - React-RCTAppDelegate (0.73.6):
    - RCT-Folly
    - RCTRequired
    - RCTTypeSafety
    - React-Core
    - React-CoreModules
    - React-hermes
    - React-nativeconfig
    - React-NativeModulesApple
    - React-RCTFabric
    - React-RCTImage
    - React-RCTNetwork
    - React-runtimescheduler
    - ReactCommon
  - React-RCTBlob (0.73.6):
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-Codegen
    - React-Core/RCTBlobHeaders
    - React-Core/RCTWebSocket
    - React-jsi
    - React-NativeModulesApple
    - React-RCTNetwork
    - ReactCommon
  - React-RCTFabric (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly/Fabric (= 2022.05.16.00)
    - React-Core
    - React-debug
    - React-Fabric
    - React-FabricImage
    - React-graphics
    - React-ImageManager
    - React-jsi
    - React-nativeconfig
    - React-RCTImage
    - React-RCTText
    - React-rendererdebug
    - React-runtimescheduler
    - React-utils
    - Yoga
  - React-RCTImage (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - RCTTypeSafety
    - React-Codegen
    - React-Core/RCTImageHeaders
    - React-jsi
    - React-NativeModulesApple
    - React-RCTNetwork
    - ReactCommon
  - React-RCTLinking (0.73.6):
    - React-Codegen
    - React-Core/RCTLinkingHeaders (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-NativeModulesApple
    - ReactCommon
    - ReactCommon/turbomodule/core (= 0.73.6)
  - React-RCTNetwork (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - RCTTypeSafety
    - React-Codegen
    - React-Core/RCTNetworkHeaders
    - React-jsi
    - React-NativeModulesApple
    - ReactCommon
  - React-RCTSettings (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - RCTTypeSafety
    - React-Codegen
    - React-Core/RCTSettingsHeaders
    - React-jsi
    - React-NativeModulesApple
    - ReactCommon
  - React-RCTText (0.73.6):
    - React-Core/RCTTextHeaders (= 0.73.6)
    - Yoga
  - React-RCTVibration (0.73.6):
    - RCT-Folly (= 2022.05.16.00)
    - React-Codegen
    - React-Core/RCTVibrationHeaders
    - React-jsi
    - React-NativeModulesApple
    - ReactCommon
  - React-rendererdebug (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - RCT-Folly (= 2022.05.16.00)
    - React-debug
  - React-rncore (0.73.6)
  - React-runtimeexecutor (0.73.6):
    - React-jsi (= 0.73.6)
  - React-runtimescheduler (0.73.6):
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-callinvoker
    - React-cxxreact
    - React-debug
    - React-jsi
    - React-rendererdebug
    - React-runtimeexecutor
    - React-utils
  - React-utils (0.73.6):
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-debug
  - ReactCommon (0.73.6):
    - React-logger (= 0.73.6)
    - ReactCommon/turbomodule (= 0.73.6)
  - ReactCommon/turbomodule (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-callinvoker (= 0.73.6)
    - React-cxxreact (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-logger (= 0.73.6)
    - React-perflogger (= 0.73.6)
    - ReactCommon/turbomodule/bridging (= 0.73.6)
    - ReactCommon/turbomodule/core (= 0.73.6)
  - ReactCommon/turbomodule/bridging (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-callinvoker (= 0.73.6)
    - React-cxxreact (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-logger (= 0.73.6)
    - React-perflogger (= 0.73.6)
  - ReactCommon/turbomodule/core (0.73.6):
    - DoubleConversion
    - fmt (~> 6.2.1)
    - glog
    - hermes-engine
    - RCT-Folly (= 2022.05.16.00)
    - React-callinvoker (= 0.73.6)
    - React-cxxreact (= 0.73.6)
    - React-jsi (= 0.73.6)
    - React-logger (= 0.73.6)
    - React-perflogger (= 0.73.6)
  - RNFastImage (8.6.3):
    - React-Core
    - SDWebImage (~> 5.11.1)
    - SDWebImageWebPCoder (~> 0.8.4)
  - RNGestureHandler (2.14.1):
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - RNReanimated (3.6.3):
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
    - ReactCommon/turbomodule/core
  - RNScreens (3.29.0):
    - glog
    - RCT-Folly (= 2022.05.16.00)
    - React-Core
  - SDWebImage (5.11.1):
    - SDWebImage/Core (= 5.11.1)
  - SDWebImage/Core (5.11.1)
  - SDWebImageWebPCoder (0.8.5):
    - libwebp (~> 1.0)
    - SDWebImage/Core (~> 5.10)
  - SocketRocket (0.6.1)
  - SwiftAudioEx (1.1.0)
  - Yoga (1.14.0)

DEPENDENCIES:
  - boost (from `../node_modules/react-native/third-party-podspecs/boost.podspec`)
  - DoubleConversion (from `../node_modules/react-native/third-party-podspecs/DoubleConversion.podspec`)
  - EXConstants (from `../node_modules/expo-constants/ios`)
  - EXFont (from `../node_modules/expo-font/ios`)
  - EXJSONUtils (from `../node_modules/expo-json-utils/ios`)
  - EXManifests (from `../node_modules/expo-manifests/ios`)
  - Expo (from `../node_modules/expo`)
  - expo-dev-client (from `../node_modules/expo-dev-client/ios`)
  - expo-dev-launcher (from `../node_modules/expo-dev-launcher`)
  - expo-dev-menu (from `../node_modules/expo-dev-menu`)
  - expo-dev-menu-interface (from `../node_modules/expo-dev-menu-interface/ios`)
  - ExpoBlur (from `../node_modules/expo-blur/ios`)
  - ExpoFileSystem (from `../node_modules/expo-file-system/ios`)
  - ExpoHead (from `../node_modules/expo-router/ios`)
  - ExpoKeepAwake (from `../node_modules/expo-keep-awake/ios`)
  - ExpoLinearGradient (from `../node_modules/expo-linear-gradient/ios`)
  - ExpoModulesCore (from `../node_modules/expo-modules-core`)
  - EXSplashScreen (from `../node_modules/expo-splash-screen/ios`)
  - EXUpdatesInterface (from `../node_modules/expo-updates-interface/ios`)
  - FBLazyVector (from `../node_modules/react-native/Libraries/FBLazyVector`)
  - FBReactNativeSpec (from `../node_modules/react-native/React/FBReactNativeSpec`)
  - glog (from `../node_modules/react-native/third-party-podspecs/glog.podspec`)
  - hermes-engine (from `../node_modules/react-native/sdks/hermes-engine/hermes-engine.podspec`)
  - ImageColors (from `../node_modules/react-native-image-colors/ios`)
  - libevent (~> 2.1.12)
  - RCT-Folly (from `../node_modules/react-native/third-party-podspecs/RCT-Folly.podspec`)
  - RCT-Folly/Fabric (from `../node_modules/react-native/third-party-podspecs/RCT-Folly.podspec`)
  - RCTRequired (from `../node_modules/react-native/Libraries/RCTRequired`)
  - RCTTypeSafety (from `../node_modules/react-native/Libraries/TypeSafety`)
  - React (from `../node_modules/react-native/`)
  - React-callinvoker (from `../node_modules/react-native/ReactCommon/callinvoker`)
  - React-Codegen (from `build/generated/ios`)
  - React-Core (from `../node_modules/react-native/`)
  - React-Core/RCTWebSocket (from `../node_modules/react-native/`)
  - React-CoreModules (from `../node_modules/react-native/React/CoreModules`)
  - React-cxxreact (from `../node_modules/react-native/ReactCommon/cxxreact`)
  - React-debug (from `../node_modules/react-native/ReactCommon/react/debug`)
  - React-Fabric (from `../node_modules/react-native/ReactCommon`)
  - React-FabricImage (from `../node_modules/react-native/ReactCommon`)
  - React-graphics (from `../node_modules/react-native/ReactCommon/react/renderer/graphics`)
  - React-hermes (from `../node_modules/react-native/ReactCommon/hermes`)
  - React-ImageManager (from `../node_modules/react-native/ReactCommon/react/renderer/imagemanager/platform/ios`)
  - React-jserrorhandler (from `../node_modules/react-native/ReactCommon/jserrorhandler`)
  - React-jsi (from `../node_modules/react-native/ReactCommon/jsi`)
  - React-jsiexecutor (from `../node_modules/react-native/ReactCommon/jsiexecutor`)
  - React-jsinspector (from `../node_modules/react-native/ReactCommon/jsinspector-modern`)
  - React-logger (from `../node_modules/react-native/ReactCommon/logger`)
  - React-Mapbuffer (from `../node_modules/react-native/ReactCommon`)
  - react-native-loader-kit (from `../node_modules/react-native-loader-kit`)
  - "react-native-menu (from `../node_modules/@react-native-menu/menu`)"
  - react-native-safe-area-context (from `../node_modules/react-native-safe-area-context`)
  - react-native-track-player (from `../node_modules/react-native-track-player`)
  - React-nativeconfig (from `../node_modules/react-native/ReactCommon`)
  - React-NativeModulesApple (from `../node_modules/react-native/ReactCommon/react/nativemodule/core/platform/ios`)
  - React-perflogger (from `../node_modules/react-native/ReactCommon/reactperflogger`)
  - React-RCTActionSheet (from `../node_modules/react-native/Libraries/ActionSheetIOS`)
  - React-RCTAnimation (from `../node_modules/react-native/Libraries/NativeAnimation`)
  - React-RCTAppDelegate (from `../node_modules/react-native/Libraries/AppDelegate`)
  - React-RCTBlob (from `../node_modules/react-native/Libraries/Blob`)
  - React-RCTFabric (from `../node_modules/react-native/React`)
  - React-RCTImage (from `../node_modules/react-native/Libraries/Image`)
  - React-RCTLinking (from `../node_modules/react-native/Libraries/LinkingIOS`)
  - React-RCTNetwork (from `../node_modules/react-native/Libraries/Network`)
  - React-RCTSettings (from `../node_modules/react-native/Libraries/Settings`)
  - React-RCTText (from `../node_modules/react-native/Libraries/Text`)
  - React-RCTVibration (from `../node_modules/react-native/Libraries/Vibration`)
  - React-rendererdebug (from `../node_modules/react-native/ReactCommon/react/renderer/debug`)
  - React-rncore (from `../node_modules/react-native/ReactCommon`)
  - React-runtimeexecutor (from `../node_modules/react-native/ReactCommon/runtimeexecutor`)
  - React-runtimescheduler (from `../node_modules/react-native/ReactCommon/react/renderer/runtimescheduler`)
  - React-utils (from `../node_modules/react-native/ReactCommon/react/utils`)
  - ReactCommon/turbomodule/core (from `../node_modules/react-native/ReactCommon`)
  - RNFastImage (from `../node_modules/react-native-fast-image`)
  - RNGestureHandler (from `../node_modules/react-native-gesture-handler`)
  - RNReanimated (from `../node_modules/react-native-reanimated`)
  - RNScreens (from `../node_modules/react-native-screens`)
  - Yoga (from `../node_modules/react-native/ReactCommon/yoga`)

SPEC REPOS:
  trunk:
    - fmt
    - libevent
    - libwebp
    - NVActivityIndicatorView
    - SDWebImage
    - SDWebImageWebPCoder
    - SocketRocket
    - SwiftAudioEx

EXTERNAL SOURCES:
  boost:
    :podspec: "../node_modules/react-native/third-party-podspecs/boost.podspec"
  DoubleConversion:
    :podspec: "../node_modules/react-native/third-party-podspecs/DoubleConversion.podspec"
  EXConstants:
    :path: "../node_modules/expo-constants/ios"
  EXFont:
    :path: "../node_modules/expo-font/ios"
  EXJSONUtils:
    :path: "../node_modules/expo-json-utils/ios"
  EXManifests:
    :path: "../node_modules/expo-manifests/ios"
  Expo:
    :path: "../node_modules/expo"
  expo-dev-client:
    :path: "../node_modules/expo-dev-client/ios"
  expo-dev-launcher:
    :path: "../node_modules/expo-dev-launcher"
  expo-dev-menu:
    :path: "../node_modules/expo-dev-menu"
  expo-dev-menu-interface:
    :path: "../node_modules/expo-dev-menu-interface/ios"
  ExpoBlur:
    :path: "../node_modules/expo-blur/ios"
  ExpoFileSystem:
    :path: "../node_modules/expo-file-system/ios"
  ExpoHead:
    :path: "../node_modules/expo-router/ios"
  ExpoKeepAwake:
    :path: "../node_modules/expo-keep-awake/ios"
  ExpoLinearGradient:
    :path: "../node_modules/expo-linear-gradient/ios"
  ExpoModulesCore:
    :path: "../node_modules/expo-modules-core"
  EXSplashScreen:
    :path: "../node_modules/expo-splash-screen/ios"
  EXUpdatesInterface:
    :path: "../node_modules/expo-updates-interface/ios"
  FBLazyVector:
    :path: "../node_modules/react-native/Libraries/FBLazyVector"
  FBReactNativeSpec:
    :path: "../node_modules/react-native/React/FBReactNativeSpec"
  glog:
    :podspec: "../node_modules/react-native/third-party-podspecs/glog.podspec"
  hermes-engine:
    :podspec: "../node_modules/react-native/sdks/hermes-engine/hermes-engine.podspec"
    :tag: hermes-2024-02-20-RNv0.73.5-18f99ace4213052c5e7cdbcd39ee9766cd5df7e4
  ImageColors:
    :path: "../node_modules/react-native-image-colors/ios"
  RCT-Folly:
    :podspec: "../node_modules/react-native/third-party-podspecs/RCT-Folly.podspec"
  RCTRequired:
    :path: "../node_modules/react-native/Libraries/RCTRequired"
  RCTTypeSafety:
    :path: "../node_modules/react-native/Libraries/TypeSafety"
  React:
    :path: "../node_modules/react-native/"
  React-callinvoker:
    :path: "../node_modules/react-native/ReactCommon/callinvoker"
  React-Codegen:
    :path: build/generated/ios
  React-Core:
    :path: "../node_modules/react-native/"
  React-CoreModules:
    :path: "../node_modules/react-native/React/CoreModules"
  React-cxxreact:
    :path: "../node_modules/react-native/ReactCommon/cxxreact"
  React-debug:
    :path: "../node_modules/react-native/ReactCommon/react/debug"
  React-Fabric:
    :path: "../node_modules/react-native/ReactCommon"
  React-FabricImage:
    :path: "../node_modules/react-native/ReactCommon"
  React-graphics:
    :path: "../node_modules/react-native/ReactCommon/react/renderer/graphics"
  React-hermes:
    :path: "../node_modules/react-native/ReactCommon/hermes"
  React-ImageManager:
    :path: "../node_modules/react-native/ReactCommon/react/renderer/imagemanager/platform/ios"
  React-jserrorhandler:
    :path: "../node_modules/react-native/ReactCommon/jserrorhandler"
  React-jsi:
    :path: "../node_modules/react-native/ReactCommon/jsi"
  React-jsiexecutor:
    :path: "../node_modules/react-native/ReactCommon/jsiexecutor"
  React-jsinspector:
    :path: "../node_modules/react-native/ReactCommon/jsinspector-modern"
  React-logger:
    :path: "../node_modules/react-native/ReactCommon/logger"
  React-Mapbuffer:
    :path: "../node_modules/react-native/ReactCommon"
  react-native-loader-kit:
    :path: "../node_modules/react-native-loader-kit"
  react-native-menu:
    :path: "../node_modules/@react-native-menu/menu"
  react-native-safe-area-context:
    :path: "../node_modules/react-native-safe-area-context"
  react-native-track-player:
    :path: "../node_modules/react-native-track-player"
  React-nativeconfig:
    :path: "../node_modules/react-native/ReactCommon"
  React-NativeModulesApple:
    :path: "../node_modules/react-native/ReactCommon/react/nativemodule/core/platform/ios"
  React-perflogger:
    :path: "../node_modules/react-native/ReactCommon/reactperflogger"
  React-RCTActionSheet:
    :path: "../node_modules/react-native/Libraries/ActionSheetIOS"
  React-RCTAnimation:
    :path: "../node_modules/react-native/Libraries/NativeAnimation"
  React-RCTAppDelegate:
    :path: "../node_modules/react-native/Libraries/AppDelegate"
  React-RCTBlob:
    :path: "../node_modules/react-native/Libraries/Blob"
  React-RCTFabric:
    :path: "../node_modules/react-native/React"
  React-RCTImage:
    :path: "../node_modules/react-native/Libraries/Image"
  React-RCTLinking:
    :path: "../node_modules/react-native/Libraries/LinkingIOS"
  React-RCTNetwork:
    :path: "../node_modules/react-native/Libraries/Network"
  React-RCTSettings:
    :path: "../node_modules/react-native/Libraries/Settings"
  React-RCTText:
    :path: "../node_modules/react-native/Libraries/Text"
  React-RCTVibration:
    :path: "../node_modules/react-native/Libraries/Vibration"
  React-rendererdebug:
    :path: "../node_modules/react-native/ReactCommon/react/renderer/debug"
  React-rncore:
    :path: "../node_modules/react-native/ReactCommon"
  React-runtimeexecutor:
    :path: "../node_modules/react-native/ReactCommon/runtimeexecutor"
  React-runtimescheduler:
    :path: "../node_modules/react-native/ReactCommon/react/renderer/runtimescheduler"
  React-utils:
    :path: "../node_modules/react-native/ReactCommon/react/utils"
  ReactCommon:
    :path: "../node_modules/react-native/ReactCommon"
  RNFastImage:
    :path: "../node_modules/react-native-fast-image"
  RNGestureHandler:
    :path: "../node_modules/react-native-gesture-handler"
  RNReanimated:
    :path: "../node_modules/react-native-reanimated"
  RNScreens:
    :path: "../node_modules/react-native-screens"
  Yoga:
    :path: "../node_modules/react-native/ReactCommon/yoga"

SPEC CHECKSUMS:
  boost: d3f49c53809116a5d38da093a8aa78bf551aed09
  DoubleConversion: fea03f2699887d960129cc54bba7e52542b6f953
  EXConstants: 348adb88fb0d65892f16732ec5e02e1365c31588
  EXFont: 64e653a110eee050ad80dfcd676c4bada0a1ff92
  EXJSONUtils: 5c42959e87be238b045ef37cc5268b16a6c0ad4a
  EXManifests: 429136cffa3ae82d1ba3b60b7243fb186615562e
  Expo: 517abd0ff36eae90a7ec59c8afed4b5930e3657b
  expo-dev-client: 164bb6c558fda6b39fb8c56edbc5d5abc9927da6
  expo-dev-launcher: d640fa87da07a42ad8694db54ff22cfc246478e0
  expo-dev-menu: efe7323e7f918e437a02f20063eb2b55c13dfe99
  expo-dev-menu-interface: 44e69ddff62bbc6c5418c200e657635720b5a480
  ExpoBlur: 3a9548a738624968836926f4aa1e18fa22155640
  ExpoFileSystem: 1782f764e82822d89ff8f24dd51262a743a95967
  ExpoHead: dae7e0e9f8b2e65f8fb56f7a7fe1014a1eacc6ab
  ExpoKeepAwake: 3b8cf8533b9212500565a1e41fb080fc5af29918
  ExpoLinearGradient: 501f9bbd83f3ec1d0e0425862b9ef4693605fc1c
  ExpoModulesCore: b96fa696e035bf3a586daa87e547f2d3dbd07800
  EXSplashScreen: a3a2dbbea3ffd61ceca25553f688eed8391033a3
  EXUpdatesInterface: 3e444e2093e25b7ca0999a7d8c16e8392dee70c3
  FBLazyVector: f64d1e2ea739b4d8f7e4740cde18089cd97fe864
  FBReactNativeSpec: 9f2b8b243131565335437dba74923a8d3015e780
  fmt: ff9d55029c625d3757ed641535fd4a75fedc7ce9
  glog: c5d68082e772fa1c511173d6b30a9de2c05a69a2
  hermes-engine: 9cecf9953a681df7556b8cc9c74905de8f3293c0
  ImageColors: 869f48b27ca2afb347fd0bada3257a5f698ee55e
  libevent: 4049cae6c81cdb3654a443be001fb9bdceff7913
  libwebp: 1786c9f4ff8a279e4dac1e8f385004d5fc253009
  NVActivityIndicatorView: 1f6c5687f1171810aa27a3296814dc2d7dec3667
  RCT-Folly: cd21f1661364f975ae76b3308167ad66b09f53f5
  RCTRequired: ca1d7414aba0b27efcfa2ccd37637edb1ab77d96
  RCTTypeSafety: 678e344fb976ff98343ca61dc62e151f3a042292
  React: e296bcebb489deaad87326067204eb74145934ab
  React-callinvoker: d0b7015973fa6ccb592bb0363f6bc2164238ab8c
  React-Codegen: a89833d9b3ccafeb8cc7b2e87800aad8903b8990
  React-Core: 3c065b603637303cd150644b633e0b8980d258f1
  React-CoreModules: 069bdb1c6013215afe85fb9627569dc1f21b8f44
  React-cxxreact: a1ec4ab2c051f62ab752b86acb3ab1498d46d82f
  React-debug: d444db402065cca460d9c5b072caab802a04f729
  React-Fabric: 30d61b17f5ec61b8f69e074d359a942c8edb48ed
  React-FabricImage: 52209c0a7828893788d89b342657747fff852e52
  React-graphics: 2d3bb1c23fb71e7dc0f25e1c13f9cd8a0f331166
  React-hermes: 2b8dd8fa2082a7e219cd329ee1c5eec18b82b206
  React-ImageManager: 37eeded59dc2bac8d76c9f78f421980c972215b6
  React-jserrorhandler: 1ddd1e3e596bd3846ad81d2aa7ca3946c15b9ed0
  React-jsi: 84c4e48ed0a563c9e103514ea9572bac486a61a1
  React-jsiexecutor: 6206f71ec0fe8e0d5db321a7f7d91922d310fee9
  React-jsinspector: 85583ef014ce53d731a98c66a0e24496f7a83066
  React-logger: 55764cd993880c6f887505854581c9faf68feff2
  React-Mapbuffer: 15dfcfeb4428d8799cce75e7fe85b18b706029e0
  react-native-loader-kit: 46b54fe8b8a21fe8c4d4f5d635faedf187d5ba09
  react-native-menu: 3b18731451e753982eb131cbd08a88c4e5af73f9
  react-native-safe-area-context: bf9d9d58f0f6726d4a6257088044c2595017579d
  react-native-track-player: 6dc2e2633265704b8ab6d8124b80239d4ed1f911
  React-nativeconfig: b4d4e9901d4cabb57be63053fd2aa6086eb3c85f
  React-NativeModulesApple: 541d64309a3037060cc416db5c8a63ee5884048e
  React-perflogger: 5f49905de275bac07ac7ea7f575a70611fa988f2
  React-RCTActionSheet: 37edf35aeb8e4f30e76c82aab61f12d1b75c04ec
  React-RCTAnimation: b49b2e3beffa553e2120ef0767ce99b4591893c4
  React-RCTAppDelegate: 95e826d48b372cb5c90947c72667f3ce86e77009
  React-RCTBlob: c88cdc50aa116f53353b82d2d394d49e1de47ad3
  React-RCTFabric: b6f90f1bfd1f601e66f4deeb9b21e217c6fb6b69
  React-RCTImage: 665aaf80481423b2e896dcc67afa72e5993a2a4c
  React-RCTLinking: a9321777212cf50b396983b4f3b3190fbfe53aa8
  React-RCTNetwork: 4726e738c784679902d8425bd02c78f7e69d2ebf
  React-RCTSettings: 4831390d89a911f10f154d5c440f6312f8aebe3d
  React-RCTText: 7b1451059ba1d2c40f057c58211864c5e81e90a4
  React-RCTVibration: d23654befc1d9eda8b69b0e9d4127800abcae76f
  React-rendererdebug: ec22f2e3e545bd0ad15abc6e5710595ccfe45c94
  React-rncore: b0a8e1d14dabb7115c7a5b4ec8b9b74d1727d382
  React-runtimeexecutor: bb328dbe2865f3a550df0240df8e2d8c3aaa4c57
  React-runtimescheduler: a01dfb7ca980edebcc7d2d289ca900dea5d7e28b
  React-utils: 288c9cb9a73bb150c273c84df7c2f8546f28e23f
  ReactCommon: 2e5492a3e3a8e72d635c266405e49d12627e5bf0
  RNFastImage: 462a183c4b0b6b26fdfd639e1ed6ba37536c3b87
  RNGestureHandler: dd5543af5c344cb2bdd8de81a8ec85adb5ec4b4b
  RNReanimated: 8adb252a83153bb04b99abf93a09b47d4cac8f92
  RNScreens: 59f615aa0782077560c8eea46c2daec3a716dba9
  SDWebImage: a7f831e1a65eb5e285e3fb046a23fcfbf08e696d
  SDWebImageWebPCoder: 908b83b6adda48effe7667cd2b7f78c897e5111d
  SocketRocket: f32cd54efbe0f095c4d7594881e52619cfe80b17
  SwiftAudioEx: f6aa653770f3a0d3851edaf8d834a30aee4a7646
  Yoga: 805bf71192903b20fc14babe48080582fee65a80

PODFILE CHECKSUM: db5a04e0eb2180bac81ff6a1a4e89f95f9a8b85b

COCOAPODS: 1.16.2
</file>

<file path="ios/Podfile.properties.json">
{
  "expo.jsEngine": "hermes",
  "EX_DEV_CLIENT_NETWORK_INSPECTOR": "true"
}
</file>

<file path="src/app/(modals)/addToPlaylist.tsx">
import { PlaylistsList } from '@/components/PlaylistsList'
import { screenPadding } from '@/constants/tokens'
import { Playlist } from '@/helpers/types'
import { usePlaylists, useTracks } from '@/store/library'
import { useQueue } from '@/store/queue'
import { defaultStyles } from '@/styles'
import { useHeaderHeight } from '@react-navigation/elements'
import { useLocalSearchParams, useRouter } from 'expo-router'
import { StyleSheet } from 'react-native'
import { SafeAreaView } from 'react-native-safe-area-context'
import TrackPlayer, { Track } from 'react-native-track-player'

const AddToPlaylistModal = () => {
	const router = useRouter()
	const headerHeight = useHeaderHeight()

	const { activeQueueId } = useQueue()

	const { trackUrl } = useLocalSearchParams<{ trackUrl: Track['url'] }>()

	const tracks = useTracks()

	const { playlists, addToPlaylist } = usePlaylists()

	const track = tracks.find((currentTrack) => trackUrl === currentTrack.url)

	// track was not found
	if (!track) {
		return null
	}

	const availablePlaylists = playlists.filter(
		(playlist) => !playlist.tracks.some((playlistTrack) => playlistTrack.url === track.url),
	)

	const handlePlaylistPress = async (playlist: Playlist) => {
		addToPlaylist(track, playlist.name)

		// should close the modal
		router.dismiss()

		// if the current queue is the playlist we're adding to, add the track at the end of the queue
		if (activeQueueId?.startsWith(playlist.name)) {
			await TrackPlayer.add(track)
		}
	}

	return (
		<SafeAreaView style={[styles.modalContainer, { paddingTop: headerHeight }]}>
			<PlaylistsList playlists={availablePlaylists} onPlaylistPress={handlePlaylistPress} />
		</SafeAreaView>
	)
}

const styles = StyleSheet.create({
	modalContainer: {
		...defaultStyles.container,
		paddingHorizontal: screenPadding.horizontal,
	},
})

export default AddToPlaylistModal
</file>

<file path="src/app/(tabs)/(songs)/_layout.tsx">
import { StackScreenWithSearchBar } from '@/constants/layout'
import { defaultStyles } from '@/styles'
import { Stack } from 'expo-router'
import { View } from 'react-native'

const SongsScreenLayout = () => {
	return (
		<View style={defaultStyles.container}>
			<Stack>
				<Stack.Screen
					name="index"
					options={{
						...StackScreenWithSearchBar,
						headerTitle: 'Songs',
					}}
				/>
			</Stack>
		</View>
	)
}

export default SongsScreenLayout
</file>

<file path="src/app/(tabs)/(songs)/index.tsx">
import { TracksList } from '@/components/TracksList'
import { screenPadding } from '@/constants/tokens'
import { trackTitleFilter } from '@/helpers/filter'
import { generateTracksListId } from '@/helpers/miscellaneous'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { useTracks } from '@/store/library'
import { defaultStyles } from '@/styles'
import { useMemo } from 'react'
import { ScrollView, View } from 'react-native'

const SongsScreen = () => {
	const search = useNavigationSearch({
		searchBarOptions: {
			placeholder: 'Find in songs',
		},
	})

	const tracks = useTracks()

	const filteredTracks = useMemo(() => {
		if (!search) return tracks

		return tracks.filter(trackTitleFilter(search))
	}, [search, tracks])

	return (
		<View style={defaultStyles.container}>
			<ScrollView
				contentInsetAdjustmentBehavior="automatic"
				style={{ paddingHorizontal: screenPadding.horizontal }}
			>
				<TracksList
					id={generateTracksListId('songs', search)}
					tracks={filteredTracks}
					scrollEnabled={false}
				/>
			</ScrollView>
		</View>
	)
}

export default SongsScreen
</file>

<file path="src/app/(tabs)/artists/_layout.tsx">
import { StackScreenWithSearchBar } from '@/constants/layout'
import { colors } from '@/constants/tokens'
import { defaultStyles } from '@/styles'
import { Stack } from 'expo-router'
import { View } from 'react-native'

const ArtistsScreenLayout = () => {
	return (
		<View style={defaultStyles.container}>
			<Stack>
				<Stack.Screen
					name="index"
					options={{
						...StackScreenWithSearchBar,
						headerTitle: 'Artists',
					}}
				/>

				<Stack.Screen
					name="[name]"
					options={{
						headerTitle: '',
						headerBackVisible: true,
						headerStyle: {
							backgroundColor: colors.background,
						},
						headerTintColor: colors.primary,
					}}
				/>
			</Stack>
		</View>
	)
}

export default ArtistsScreenLayout
</file>

<file path="src/app/(tabs)/artists/[name].tsx">
import { ArtistTracksList } from '@/components/ArtistTracksList'
import { screenPadding } from '@/constants/tokens'
import { useArtists } from '@/store/library'
import { defaultStyles } from '@/styles'
import { Redirect, useLocalSearchParams } from 'expo-router'
import { View } from 'react-native'
import { ScrollView } from 'react-native-gesture-handler'

const ArtistDetailScreen = () => {
	const { name: artistName } = useLocalSearchParams<{ name: string }>()

	const artists = useArtists()

	const artist = artists.find((artist) => artist.name === artistName)

	if (!artist) {
		console.warn(`Artist ${artistName} not found!`)

		return <Redirect href={'/(tabs)/artists'} />
	}

	return (
		<View style={defaultStyles.container}>
			<ScrollView
				contentInsetAdjustmentBehavior="automatic"
				style={{ paddingHorizontal: screenPadding.horizontal }}
			>
				<ArtistTracksList artist={artist} />
			</ScrollView>
		</View>
	)
}

export default ArtistDetailScreen
</file>

<file path="src/app/(tabs)/artists/index.tsx">
import { unknownArtistImageUri } from '@/constants/images'
import { screenPadding } from '@/constants/tokens'
import { artistNameFilter } from '@/helpers/filter'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { useArtists } from '@/store/library'
import { defaultStyles, utilsStyles } from '@/styles'
import { Link } from 'expo-router'
import { useMemo } from 'react'
import { FlatList, StyleSheet, Text, TouchableHighlight, View } from 'react-native'
import FastImage from 'react-native-fast-image'
import { ScrollView } from 'react-native-gesture-handler'

const ItemSeparatorComponent = () => {
	return <View style={[utilsStyles.itemSeparator, { marginLeft: 50, marginVertical: 12 }]} />
}

const ArtistsScreen = () => {
	const search = useNavigationSearch({
		searchBarOptions: {
			placeholder: 'Find in artists',
		},
	})

	const artists = useArtists()

	const filteredArtists = useMemo(() => {
		if (!search) return artists

		return artists.filter(artistNameFilter(search))
	}, [artists, search])

	return (
		<View style={defaultStyles.container}>
			<ScrollView
				style={{ paddingHorizontal: screenPadding.horizontal }}
				contentInsetAdjustmentBehavior="automatic"
			>
				<FlatList
					contentContainerStyle={{ paddingTop: 10, paddingBottom: 120 }}
					scrollEnabled={false}
					ItemSeparatorComponent={ItemSeparatorComponent}
					ListFooterComponent={ItemSeparatorComponent}
					ListEmptyComponent={
						<View>
							<Text>No artist found</Text>

							<FastImage
								source={{
									uri: unknownArtistImageUri,
									priority: FastImage.priority.normal,
								}}
								style={utilsStyles.emptyContentImage}
							/>
						</View>
					}
					data={filteredArtists}
					renderItem={({ item: artist }) => {
						return (
							<Link href={`/artists/${artist.name}`} asChild>
								<TouchableHighlight activeOpacity={0.8}>
									<View style={styles.artistItemContainer}>
										<View>
											<FastImage
												source={{
													uri: unknownArtistImageUri,
													priority: FastImage.priority.normal,
												}}
												style={styles.artistImage}
											/>
										</View>

										<View style={{ width: '100%' }}>
											<Text numberOfLines={1} style={styles.artistNameText}>
												{artist.name}
											</Text>
										</View>
									</View>
								</TouchableHighlight>
							</Link>
						)
					}}
				/>
			</ScrollView>
		</View>
	)
}

const styles = StyleSheet.create({
	artistItemContainer: {
		flexDirection: 'row',
		columnGap: 14,
		alignItems: 'center',
	},
	artistImage: {
		borderRadius: 32,
		width: 40,
		height: 40,
	},
	artistNameText: {
		...defaultStyles.text,
		fontSize: 17,
		maxWidth: '80%',
	},
})

export default ArtistsScreen
</file>

<file path="src/app/(tabs)/favorites/_layout.tsx">
import { StackScreenWithSearchBar } from '@/constants/layout'
import { defaultStyles } from '@/styles'
import { Stack } from 'expo-router'
import { View } from 'react-native'

const FavoritesScreenLayout = () => {
	return (
		<View style={defaultStyles.container}>
			<Stack>
				<Stack.Screen
					name="index"
					options={{
						...StackScreenWithSearchBar,
						headerTitle: 'Favorites',
					}}
				/>
			</Stack>
		</View>
	)
}

export default FavoritesScreenLayout
</file>

<file path="src/app/(tabs)/favorites/index.tsx">
import { TracksList } from '@/components/TracksList'
import { screenPadding } from '@/constants/tokens'
import { trackTitleFilter } from '@/helpers/filter'
import { generateTracksListId } from '@/helpers/miscellaneous'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { useFavorites } from '@/store/library'
import { defaultStyles } from '@/styles'
import { useMemo } from 'react'
import { ScrollView, View } from 'react-native'

const FavoritesScreen = () => {
	const search = useNavigationSearch({
		searchBarOptions: {
			placeholder: 'Find in songs',
		},
	})

	const favoritesTracks = useFavorites().favorites

	const filteredFavoritesTracks = useMemo(() => {
		if (!search) return favoritesTracks

		return favoritesTracks.filter(trackTitleFilter(search))
	}, [search, favoritesTracks])

	return (
		<View style={defaultStyles.container}>
			<ScrollView
				style={{ paddingHorizontal: screenPadding.horizontal }}
				contentInsetAdjustmentBehavior="automatic"
			>
				<TracksList
					id={generateTracksListId('favorites', search)}
					scrollEnabled={false}
					tracks={filteredFavoritesTracks}
				/>
			</ScrollView>
		</View>
	)
}

export default FavoritesScreen
</file>

<file path="src/app/(tabs)/playlists/_layout.tsx">
import { StackScreenWithSearchBar } from '@/constants/layout'
import { colors } from '@/constants/tokens'
import { defaultStyles } from '@/styles'
import { Stack } from 'expo-router'
import { View } from 'react-native'

const PlaylistsScreenLayout = () => {
	return (
		<View style={defaultStyles.container}>
			<Stack>
				<Stack.Screen
					name="index"
					options={{
						...StackScreenWithSearchBar,
						headerTitle: 'Playlists',
					}}
				/>

				<Stack.Screen
					name="[name]"
					options={{
						headerTitle: '',
						headerBackVisible: true,
						headerStyle: {
							backgroundColor: colors.background,
						},
						headerTintColor: colors.primary,
					}}
				/>
			</Stack>
		</View>
	)
}

export default PlaylistsScreenLayout
</file>

<file path="src/app/(tabs)/playlists/[name].tsx">
import { PlaylistTracksList } from '@/components/PlaylistTracksList'
import { screenPadding } from '@/constants/tokens'
import { usePlaylists } from '@/store/library'
import { defaultStyles } from '@/styles'
import { Redirect, useLocalSearchParams } from 'expo-router'
import { ScrollView, View } from 'react-native'

const PlaylistScreen = () => {
	const { name: playlistName } = useLocalSearchParams<{ name: string }>()

	const { playlists } = usePlaylists()

	const playlist = playlists.find((playlist) => playlist.name === playlistName)

	if (!playlist) {
		console.warn(`Playlist ${playlistName} was not found!`)

		return <Redirect href={'/(tabs)/playlists'} />
	}

	return (
		<View style={defaultStyles.container}>
			<ScrollView
				contentInsetAdjustmentBehavior="automatic"
				style={{ paddingHorizontal: screenPadding.horizontal }}
			>
				<PlaylistTracksList playlist={playlist} />
			</ScrollView>
		</View>
	)
}

export default PlaylistScreen
</file>

<file path="src/app/(tabs)/playlists/index.tsx">
import { PlaylistsList } from '@/components/PlaylistsList'
import { screenPadding } from '@/constants/tokens'
import { playlistNameFilter } from '@/helpers/filter'
import { Playlist } from '@/helpers/types'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { usePlaylists } from '@/store/library'
import { defaultStyles } from '@/styles'
import { useRouter } from 'expo-router'
import { useMemo } from 'react'
import { ScrollView, View } from 'react-native'

const PlaylistsScreen = () => {
	const router = useRouter()

	const search = useNavigationSearch({
		searchBarOptions: {
			placeholder: 'Find in playlists',
		},
	})

	const { playlists } = usePlaylists()

	const filteredPlaylists = useMemo(() => {
		return playlists.filter(playlistNameFilter(search))
	}, [playlists, search])

	const handlePlaylistPress = (playlist: Playlist) => {
		router.push(`/(tabs)/playlists/${playlist.name}`)
	}

	return (
		<View style={defaultStyles.container}>
			<ScrollView
				contentInsetAdjustmentBehavior="automatic"
				style={{
					paddingHorizontal: screenPadding.horizontal,
				}}
			>
				<PlaylistsList
					scrollEnabled={false}
					playlists={filteredPlaylists}
					onPlaylistPress={handlePlaylistPress}
				/>
			</ScrollView>
		</View>
	)
}

export default PlaylistsScreen
</file>

<file path="src/app/(tabs)/_layout.tsx">
import { FloatingPlayer } from '@/components/FloatingPlayer'
import { colors, fontSize } from '@/constants/tokens'
import { FontAwesome, FontAwesome6, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons'
import { BlurView } from 'expo-blur'
import { Tabs } from 'expo-router'
import { StyleSheet } from 'react-native'

const TabsNavigation = () => {
	return (
		<>
			<Tabs
				screenOptions={{
					tabBarActiveTintColor: colors.primary,
					tabBarLabelStyle: {
						fontSize: fontSize.xs,
						fontWeight: '500',
					},
					headerShown: false,
					tabBarStyle: {
						position: 'absolute',
						borderTopLeftRadius: 20,
						borderTopRightRadius: 20,
						borderTopWidth: 0,
						paddingTop: 8,
					},
					tabBarBackground: () => (
						<BlurView
							intensity={95}
							style={{
								...StyleSheet.absoluteFillObject,
								overflow: 'hidden',
								borderTopLeftRadius: 20,
								borderTopRightRadius: 20,
							}}
						/>
					),
				}}
			>
				<Tabs.Screen
					name="favorites"
					options={{
						title: 'Favorites',
						tabBarIcon: ({ color }) => <FontAwesome name="heart" size={20} color={color} />,
					}}
				/>
				<Tabs.Screen
					name="playlists"
					options={{
						title: 'Playlists',
						tabBarIcon: ({ color }) => (
							<MaterialCommunityIcons name="playlist-play" size={28} color={color} />
						),
					}}
				/>
				<Tabs.Screen
					name="(songs)"
					options={{
						title: 'Songs',
						tabBarIcon: ({ color }) => (
							<Ionicons name="musical-notes-sharp" size={24} color={color} />
						),
					}}
				/>
				<Tabs.Screen
					name="artists"
					options={{
						title: 'Artists',
						tabBarIcon: ({ color }) => <FontAwesome6 name="users-line" size={20} color={color} />,
					}}
				/>
			</Tabs>

			<FloatingPlayer
				style={{
					position: 'absolute',
					left: 8,
					right: 8,
					bottom: 78,
				}}
			/>
		</>
	)
}

export default TabsNavigation
</file>

<file path="src/app/_layout.tsx">
import { playbackService } from '@/constants/playbackService'
import { colors } from '@/constants/tokens'
import { useLogTrackPlayerState } from '@/hooks/useLogTrackPlayerState'
import { useSetupTrackPlayer } from '@/hooks/useSetupTrackPlayer'
import { SplashScreen, Stack } from 'expo-router'
import { StatusBar } from 'expo-status-bar'
import { useCallback } from 'react'
import { GestureHandlerRootView } from 'react-native-gesture-handler'
import { SafeAreaProvider } from 'react-native-safe-area-context'
import TrackPlayer from 'react-native-track-player'

SplashScreen.preventAutoHideAsync()

TrackPlayer.registerPlaybackService(() => playbackService)

const App = () => {
	const handleTrackPlayerLoaded = useCallback(() => {
		SplashScreen.hideAsync()
	}, [])

	useSetupTrackPlayer({
		onLoad: handleTrackPlayerLoaded,
	})

	useLogTrackPlayerState()

	return (
		<SafeAreaProvider>
			<GestureHandlerRootView style={{ flex: 1 }}>
				<RootNavigation />

				<StatusBar style="auto" />
			</GestureHandlerRootView>
		</SafeAreaProvider>
	)
}

const RootNavigation = () => {
	return (
		<Stack>
			<Stack.Screen name="(tabs)" options={{ headerShown: false }} />

			<Stack.Screen
				name="player"
				options={{
					presentation: 'card',
					gestureEnabled: true,
					gestureDirection: 'vertical',
					animationDuration: 400,
					headerShown: false,
				}}
			/>

			<Stack.Screen
				name="(modals)/addToPlaylist"
				options={{
					presentation: 'modal',
					headerStyle: {
						backgroundColor: colors.background,
					},
					headerTitle: 'Add to playlist',
					headerTitleStyle: {
						color: colors.text,
					},
				}}
			/>
		</Stack>
	)
}

export default App
</file>

<file path="src/app/player.tsx">
import { MovingText } from '@/components/MovingText'
import { PlayerControls } from '@/components/PlayerControls'
import { PlayerProgressBar } from '@/components/PlayerProgressbar'
import { PlayerRepeatToggle } from '@/components/PlayerRepeatToggle'
import { PlayerVolumeBar } from '@/components/PlayerVolumeBar'
import { unknownTrackImageUri } from '@/constants/images'
import { colors, fontSize, screenPadding } from '@/constants/tokens'
import { usePlayerBackground } from '@/hooks/usePlayerBackground'
import { useTrackPlayerFavorite } from '@/hooks/useTrackPlayerFavorite'
import { defaultStyles, utilsStyles } from '@/styles'
import { FontAwesome } from '@expo/vector-icons'
import { LinearGradient } from 'expo-linear-gradient'
import { ActivityIndicator, StyleSheet, Text, View } from 'react-native'
import FastImage from 'react-native-fast-image'
import { useSafeAreaInsets } from 'react-native-safe-area-context'
import { useActiveTrack } from 'react-native-track-player'

const PlayerScreen = () => {
	const activeTrack = useActiveTrack()
	const { imageColors } = usePlayerBackground(activeTrack?.artwork ?? unknownTrackImageUri)

	const { top, bottom } = useSafeAreaInsets()

	const { isFavorite, toggleFavorite } = useTrackPlayerFavorite()

	if (!activeTrack) {
		return (
			<View style={[defaultStyles.container, { justifyContent: 'center' }]}>
				<ActivityIndicator color={colors.icon} />
			</View>
		)
	}

	return (
		<LinearGradient
			style={{ flex: 1 }}
			colors={imageColors ? [imageColors.background, imageColors.primary] : [colors.background]}
		>
			<View style={styles.overlayContainer}>
				<DismissPlayerSymbol />

				<View style={{ flex: 1, marginTop: top + 70, marginBottom: bottom }}>
					<View style={styles.artworkImageContainer}>
						<FastImage
							source={{
								uri: activeTrack.artwork ?? unknownTrackImageUri,
								priority: FastImage.priority.high,
							}}
							resizeMode="cover"
							style={styles.artworkImage}
						/>
					</View>

					<View style={{ flex: 1 }}>
						<View style={{ marginTop: 'auto' }}>
							<View style={{ height: 60 }}>
								<View
									style={{
										flexDirection: 'row',
										justifyContent: 'space-between',
										alignItems: 'center',
									}}
								>
									{/* Track title */}
									<View style={styles.trackTitleContainer}>
										<MovingText
											text={activeTrack.title ?? ''}
											animationThreshold={30}
											style={styles.trackTitleText}
										/>
									</View>

									{/* Favorite button icon */}
									<FontAwesome
										name={isFavorite ? 'heart' : 'heart-o'}
										size={20}
										color={isFavorite ? colors.primary : colors.icon}
										style={{ marginHorizontal: 14 }}
										onPress={toggleFavorite}
									/>
								</View>

								{/* Track artist */}
								{activeTrack.artist && (
									<Text numberOfLines={1} style={[styles.trackArtistText, { marginTop: 6 }]}>
										{activeTrack.artist}
									</Text>
								)}
							</View>

							<PlayerProgressBar style={{ marginTop: 32 }} />

							<PlayerControls style={{ marginTop: 40 }} />
						</View>

						<PlayerVolumeBar style={{ marginTop: 'auto', marginBottom: 30 }} />

						<View style={utilsStyles.centeredRow}>
							<PlayerRepeatToggle size={30} style={{ marginBottom: 6 }} />
						</View>
					</View>
				</View>
			</View>
		</LinearGradient>
	)
}

const DismissPlayerSymbol = () => {
	const { top } = useSafeAreaInsets()

	return (
		<View
			style={{
				position: 'absolute',
				top: top + 8,
				left: 0,
				right: 0,
				flexDirection: 'row',
				justifyContent: 'center',
			}}
		>
			<View
				accessible={false}
				style={{
					width: 50,
					height: 8,
					borderRadius: 8,
					backgroundColor: '#fff',
					opacity: 0.7,
				}}
			/>
		</View>
	)
}

const styles = StyleSheet.create({
	overlayContainer: {
		...defaultStyles.container,
		paddingHorizontal: screenPadding.horizontal,
		backgroundColor: 'rgba(0,0,0,0.5)',
	},
	artworkImageContainer: {
		shadowOffset: {
			width: 0,
			height: 8,
		},
		shadowOpacity: 0.44,
		shadowRadius: 11.0,
		flexDirection: 'row',
		justifyContent: 'center',
		height: '45%',
	},
	artworkImage: {
		width: '100%',
		height: '100%',
		resizeMode: 'cover',
		borderRadius: 12,
	},
	trackTitleContainer: {
		flex: 1,
		overflow: 'hidden',
	},
	trackTitleText: {
		...defaultStyles.text,
		fontSize: 22,
		fontWeight: '700',
	},
	trackArtistText: {
		...defaultStyles.text,
		fontSize: fontSize.base,
		opacity: 0.8,
		maxWidth: '90%',
	},
})

export default PlayerScreen
</file>

<file path="src/components/utils/StopPropagation.tsx">
import { PropsWithChildren } from 'react'
import { View } from 'react-native'

export const StopPropagation = ({ children }: PropsWithChildren) => {
	return (
		<View onStartShouldSetResponder={() => true} onTouchEnd={(e) => e.stopPropagation()}>
			{children}
		</View>
	)
}
</file>

<file path="src/components/ArtistTracksList.tsx">
import { unknownArtistImageUri } from '@/constants/images'
import { fontSize } from '@/constants/tokens'
import { trackTitleFilter } from '@/helpers/filter'
import { generateTracksListId } from '@/helpers/miscellaneous'
import { Artist } from '@/helpers/types'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { defaultStyles } from '@/styles'
import { useMemo } from 'react'
import { StyleSheet, Text, View } from 'react-native'
import FastImage from 'react-native-fast-image'
import { QueueControls } from './QueueControls'
import { TracksList } from './TracksList'

export const ArtistTracksList = ({ artist }: { artist: Artist }) => {
	const search = useNavigationSearch({
		searchBarOptions: {
			hideWhenScrolling: true,
			placeholder: 'Find in songs',
		},
	})

	const filteredArtistTracks = useMemo(() => {
		return artist.tracks.filter(trackTitleFilter(search))
	}, [artist.tracks, search])

	return (
		<TracksList
			id={generateTracksListId(artist.name, search)}
			scrollEnabled={false}
			hideQueueControls={true}
			ListHeaderComponentStyle={styles.artistHeaderContainer}
			ListHeaderComponent={
				<View>
					<View style={styles.artworkImageContainer}>
						<FastImage
							source={{
								uri: unknownArtistImageUri,
								priority: FastImage.priority.high,
							}}
							style={styles.artistImage}
						/>
					</View>

					<Text numberOfLines={1} style={styles.artistNameText}>
						{artist.name}
					</Text>

					{search.length === 0 && (
						<QueueControls tracks={filteredArtistTracks} style={{ paddingTop: 24 }} />
					)}
				</View>
			}
			tracks={filteredArtistTracks}
		/>
	)
}

const styles = StyleSheet.create({
	artistHeaderContainer: {
		flex: 1,
		marginBottom: 32,
	},
	artworkImageContainer: {
		flexDirection: 'row',
		justifyContent: 'center',
		height: 200,
	},
	artistImage: {
		width: '60%',
		height: '100%',
		resizeMode: 'cover',
		borderRadius: 128,
	},
	artistNameText: {
		...defaultStyles.text,
		marginTop: 22,
		textAlign: 'center',
		fontSize: fontSize.lg,
		fontWeight: '800',
	},
})
</file>

<file path="src/components/FloatingPlayer.tsx">
import { PlayPauseButton, SkipToNextButton } from '@/components/PlayerControls'
import { unknownTrackImageUri } from '@/constants/images'
import { useLastActiveTrack } from '@/hooks/useLastActiveTrack'
import { defaultStyles } from '@/styles'
import { useRouter } from 'expo-router'
import { StyleSheet, TouchableOpacity, View, ViewProps } from 'react-native'
import FastImage from 'react-native-fast-image'
import { useActiveTrack } from 'react-native-track-player'
import { MovingText } from './MovingText'

export const FloatingPlayer = ({ style }: ViewProps) => {
	const router = useRouter()

	const activeTrack = useActiveTrack()
	const lastActiveTrack = useLastActiveTrack()

	const displayedTrack = activeTrack ?? lastActiveTrack

	const handlePress = () => {
		router.navigate('/player')
	}

	if (!displayedTrack) return null

	return (
		<TouchableOpacity onPress={handlePress} activeOpacity={0.9} style={[styles.container, style]}>
			<>
				<FastImage
					source={{
						uri: displayedTrack.artwork ?? unknownTrackImageUri,
					}}
					style={styles.trackArtworkImage}
				/>

				<View style={styles.trackTitleContainer}>
					<MovingText
						style={styles.trackTitle}
						text={displayedTrack.title ?? ''}
						animationThreshold={25}
					/>
				</View>

				<View style={styles.trackControlsContainer}>
					<PlayPauseButton iconSize={24} />
					<SkipToNextButton iconSize={22} />
				</View>
			</>
		</TouchableOpacity>
	)
}

const styles = StyleSheet.create({
	container: {
		flexDirection: 'row',
		alignItems: 'center',
		backgroundColor: '#252525',
		padding: 8,
		borderRadius: 12,
		paddingVertical: 10,
	},
	trackArtworkImage: {
		width: 40,
		height: 40,
		borderRadius: 8,
	},
	trackTitleContainer: {
		flex: 1,
		overflow: 'hidden',
		marginLeft: 10,
	},
	trackTitle: {
		...defaultStyles.text,
		fontSize: 18,
		fontWeight: '600',
		paddingLeft: 10,
	},
	trackControlsContainer: {
		flexDirection: 'row',
		alignItems: 'center',
		columnGap: 20,
		marginRight: 16,
		paddingLeft: 16,
	},
})
</file>

<file path="src/components/MovingText.tsx">
import { useEffect } from 'react'
import Animated, {
	Easing,
	StyleProps,
	cancelAnimation,
	useAnimatedStyle,
	useSharedValue,
	withDelay,
	withRepeat,
	withTiming,
} from 'react-native-reanimated'

export type MovingTextProps = {
	text: string
	animationThreshold: number
	style?: StyleProps
}

export const MovingText = ({ text, animationThreshold, style }: MovingTextProps) => {
	const translateX = useSharedValue(0)
	const shouldAnimate = text.length >= animationThreshold

	const textWidth = text.length * 3

	useEffect(() => {
		if (!shouldAnimate) return

		translateX.value = withDelay(
			1000,
			withRepeat(
				withTiming(-textWidth, {
					duration: 5000,
					easing: Easing.linear,
				}),
				-1,
				true,
			),
		)

		return () => {
			cancelAnimation(translateX)
			translateX.value = 0
		}
	}, [translateX, text, animationThreshold, shouldAnimate, textWidth])

	const animatedStyle = useAnimatedStyle(() => {
		return {
			transform: [{ translateX: translateX.value }],
		}
	})

	return (
		<Animated.Text
			numberOfLines={1}
			style={[
				style,
				animatedStyle,
				shouldAnimate && {
					width: 9999, // preventing the ellipsis from appearing
					paddingLeft: 16, // avoid the initial character being barely visible
				},
			]}
		>
			{text}
		</Animated.Text>
	)
}
</file>

<file path="src/components/PlayerControls.tsx">
import { colors } from '@/constants/tokens'
import { FontAwesome6 } from '@expo/vector-icons'
import { StyleSheet, TouchableOpacity, View, ViewStyle } from 'react-native'
import TrackPlayer, { useIsPlaying } from 'react-native-track-player'

type PlayerControlsProps = {
	style?: ViewStyle
}

type PlayerButtonProps = {
	style?: ViewStyle
	iconSize?: number
}

export const PlayerControls = ({ style }: PlayerControlsProps) => {
	return (
		<View style={[styles.container, style]}>
			<View style={styles.row}>
				<SkipToPreviousButton />

				<PlayPauseButton />

				<SkipToNextButton />
			</View>
		</View>
	)
}

export const PlayPauseButton = ({ style, iconSize = 48 }: PlayerButtonProps) => {
	const { playing } = useIsPlaying()

	return (
		<View style={[{ height: iconSize }, style]}>
			<TouchableOpacity
				activeOpacity={0.85}
				onPress={playing ? TrackPlayer.pause : TrackPlayer.play}
			>
				<FontAwesome6 name={playing ? 'pause' : 'play'} size={iconSize} color={colors.text} />
			</TouchableOpacity>
		</View>
	)
}

export const SkipToNextButton = ({ iconSize = 30 }: PlayerButtonProps) => {
	return (
		<TouchableOpacity activeOpacity={0.7} onPress={() => TrackPlayer.skipToNext()}>
			<FontAwesome6 name="forward" size={iconSize} color={colors.text} />
		</TouchableOpacity>
	)
}

export const SkipToPreviousButton = ({ iconSize = 30 }: PlayerButtonProps) => {
	return (
		<TouchableOpacity activeOpacity={0.7} onPress={() => TrackPlayer.skipToPrevious()}>
			<FontAwesome6 name={'backward'} size={iconSize} color={colors.text} />
		</TouchableOpacity>
	)
}

const styles = StyleSheet.create({
	container: {
		width: '100%',
	},
	row: {
		flexDirection: 'row',
		justifyContent: 'space-evenly',
		alignItems: 'center',
	},
})
</file>

<file path="src/components/PlayerProgressbar.tsx">
import { colors, fontSize } from '@/constants/tokens'
import { formatSecondsToMinutes } from '@/helpers/miscellaneous'
import { defaultStyles, utilsStyles } from '@/styles'
import { StyleSheet, Text, View, ViewProps } from 'react-native'
import { Slider } from 'react-native-awesome-slider'
import { useSharedValue } from 'react-native-reanimated'
import TrackPlayer, { useProgress } from 'react-native-track-player'

export const PlayerProgressBar = ({ style }: ViewProps) => {
	const { duration, position } = useProgress(250)

	const isSliding = useSharedValue(false)
	const progress = useSharedValue(0)
	const min = useSharedValue(0)
	const max = useSharedValue(1)

	const trackElapsedTime = formatSecondsToMinutes(position)
	const trackRemainingTime = formatSecondsToMinutes(duration - position)

	if (!isSliding.value) {
		progress.value = duration > 0 ? position / duration : 0
	}

	return (
		<View style={style}>
			<Slider
				progress={progress}
				minimumValue={min}
				maximumValue={max}
				containerStyle={utilsStyles.slider}
				thumbWidth={0}
				renderBubble={() => null}
				theme={{
					minimumTrackTintColor: colors.minimumTrackTintColor,
					maximumTrackTintColor: colors.maximumTrackTintColor,
				}}
				onSlidingStart={() => (isSliding.value = true)}
				onValueChange={async (value) => {
					await TrackPlayer.seekTo(value * duration)
				}}
				onSlidingComplete={async (value) => {
					// if the user is not sliding, we should not update the position
					if (!isSliding.value) return

					isSliding.value = false

					await TrackPlayer.seekTo(value * duration)
				}}
			/>

			<View style={styles.timeRow}>
				<Text style={styles.timeText}>{trackElapsedTime}</Text>

				<Text style={styles.timeText}>
					{'-'} {trackRemainingTime}
				</Text>
			</View>
		</View>
	)
}

const styles = StyleSheet.create({
	timeRow: {
		flexDirection: 'row',
		justifyContent: 'space-between',
		alignItems: 'baseline',
		marginTop: 20,
	},
	timeText: {
		...defaultStyles.text,
		color: colors.text,
		opacity: 0.75,
		fontSize: fontSize.xs,
		letterSpacing: 0.7,
		fontWeight: '500',
	},
})
</file>

<file path="src/components/PlayerRepeatToggle.tsx">
import { colors } from '@/constants/tokens'
import { useTrackPlayerRepeatMode } from '@/hooks/useTrackPlayerRepeatMode'
import { MaterialCommunityIcons } from '@expo/vector-icons'
import { ComponentProps } from 'react'
import { RepeatMode } from 'react-native-track-player'
import { match } from 'ts-pattern'

type IconProps = Omit<ComponentProps<typeof MaterialCommunityIcons>, 'name'>
type IconName = ComponentProps<typeof MaterialCommunityIcons>['name']

const repeatOrder = [RepeatMode.Off, RepeatMode.Track, RepeatMode.Queue] as const

export const PlayerRepeatToggle = ({ ...iconProps }: IconProps) => {
	const { repeatMode, changeRepeatMode } = useTrackPlayerRepeatMode()

	const toggleRepeatMode = () => {
		if (repeatMode == null) return

		const currentIndex = repeatOrder.indexOf(repeatMode)
		const nextIndex = (currentIndex + 1) % repeatOrder.length

		changeRepeatMode(repeatOrder[nextIndex])
	}

	const icon = match(repeatMode)
		.returnType<IconName>()
		.with(RepeatMode.Off, () => 'repeat-off')
		.with(RepeatMode.Track, () => 'repeat-once')
		.with(RepeatMode.Queue, () => 'repeat')
		.otherwise(() => 'repeat-off')

	return (
		<MaterialCommunityIcons
			name={icon}
			onPress={toggleRepeatMode}
			color={colors.icon}
			{...iconProps}
		/>
	)
}
</file>

<file path="src/components/PlayerVolumeBar.tsx">
import { colors } from '@/constants/tokens'
import { useTrackPlayerVolume } from '@/hooks/useTrackPlayerVolume'
import { utilsStyles } from '@/styles'
import { Ionicons } from '@expo/vector-icons'
import { View, ViewProps } from 'react-native'
import { Slider } from 'react-native-awesome-slider'
import { useSharedValue } from 'react-native-reanimated'

export const PlayerVolumeBar = ({ style }: ViewProps) => {
	const { volume, updateVolume } = useTrackPlayerVolume()

	const progress = useSharedValue(0)
	const min = useSharedValue(0)
	const max = useSharedValue(1)

	progress.value = volume ?? 0

	return (
		<View style={style}>
			<View style={{ flexDirection: 'row', alignItems: 'center' }}>
				<Ionicons name="volume-low" size={20} color={colors.icon} style={{ opacity: 0.8 }} />

				<View style={{ flex: 1, flexDirection: 'row', paddingHorizontal: 10 }}>
					<Slider
						progress={progress}
						minimumValue={min}
						containerStyle={utilsStyles.slider}
						onValueChange={(value) => {
							updateVolume(value)
						}}
						renderBubble={() => null}
						theme={{
							maximumTrackTintColor: colors.maximumTrackTintColor,
							minimumTrackTintColor: colors.minimumTrackTintColor,
						}}
						thumbWidth={0}
						maximumValue={max}
					/>
				</View>

				<Ionicons name="volume-high" size={20} color={colors.icon} style={{ opacity: 0.8 }} />
			</View>
		</View>
	)
}
</file>

<file path="src/components/PlaylistListItem.tsx">
import { colors } from '@/constants/tokens'
import { Playlist } from '@/helpers/types'
import { defaultStyles } from '@/styles'
import { AntDesign } from '@expo/vector-icons'
import { StyleSheet, Text, TouchableHighlight, TouchableHighlightProps, View } from 'react-native'
import FastImage from 'react-native-fast-image'

type PlaylistListItemProps = {
	playlist: Playlist
} & TouchableHighlightProps

export const PlaylistListItem = ({ playlist, ...props }: PlaylistListItemProps) => {
	return (
		<TouchableHighlight activeOpacity={0.8} {...props}>
			<View style={styles.playlistItemContainer}>
				<View>
					<FastImage
						source={{
							uri: playlist.artworkPreview,
							priority: FastImage.priority.normal,
						}}
						style={styles.playlistArtworkImage}
					/>
				</View>

				<View
					style={{
						flexDirection: 'row',
						justifyContent: 'space-between',
						alignItems: 'center',
						width: '100%',
					}}
				>
					<Text numberOfLines={1} style={styles.playlistNameText}>
						{playlist.name}
					</Text>

					<AntDesign name="right" size={16} color={colors.icon} style={{ opacity: 0.5 }} />
				</View>
			</View>
		</TouchableHighlight>
	)
}

const styles = StyleSheet.create({
	playlistItemContainer: {
		flexDirection: 'row',
		columnGap: 14,
		alignItems: 'center',
		paddingRight: 90,
	},
	playlistArtworkImage: {
		borderRadius: 8,
		width: 70,
		height: 70,
	},
	playlistNameText: {
		...defaultStyles.text,
		fontSize: 17,
		fontWeight: '600',
		maxWidth: '80%',
	},
})
</file>

<file path="src/components/PlaylistsList.tsx">
import { PlaylistListItem } from '@/components/PlaylistListItem'
import { unknownTrackImageUri } from '@/constants/images'
import { playlistNameFilter } from '@/helpers/filter'
import { Playlist } from '@/helpers/types'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { utilsStyles } from '@/styles'
import { useMemo } from 'react'
import { FlatList, FlatListProps, Text, View } from 'react-native'
import FastImage from 'react-native-fast-image'

type PlaylistsListProps = {
	playlists: Playlist[]
	onPlaylistPress: (playlist: Playlist) => void
} & Partial<FlatListProps<Playlist>>

const ItemDivider = () => (
	<View style={{ ...utilsStyles.itemSeparator, marginLeft: 80, marginVertical: 12 }} />
)

export const PlaylistsList = ({
	playlists,
	onPlaylistPress: handlePlaylistPress,
	...flatListProps
}: PlaylistsListProps) => {
	const search = useNavigationSearch({
		searchBarOptions: {
			placeholder: 'Find in playlist',
		},
	})

	const filteredPlaylist = useMemo(() => {
		return playlists.filter(playlistNameFilter(search))
	}, [playlists, search])

	return (
		<FlatList
			contentContainerStyle={{ paddingTop: 10, paddingBottom: 128 }}
			ItemSeparatorComponent={ItemDivider}
			ListFooterComponent={ItemDivider}
			ListEmptyComponent={
				<View>
					<Text style={utilsStyles.emptyContentText}>No playlist found</Text>

					<FastImage
						source={{ uri: unknownTrackImageUri, priority: FastImage.priority.normal }}
						style={utilsStyles.emptyContentImage}
					/>
				</View>
			}
			data={filteredPlaylist}
			renderItem={({ item: playlist }) => (
				<PlaylistListItem playlist={playlist} onPress={() => handlePlaylistPress(playlist)} />
			)}
			{...flatListProps}
		/>
	)
}
</file>

<file path="src/components/PlaylistTracksList.tsx">
import { fontSize } from '@/constants/tokens'
import { trackTitleFilter } from '@/helpers/filter'
import { generateTracksListId } from '@/helpers/miscellaneous'
import { Playlist } from '@/helpers/types'
import { useNavigationSearch } from '@/hooks/useNavigationSearch'
import { defaultStyles } from '@/styles'
import { useMemo } from 'react'
import { StyleSheet, Text, View } from 'react-native'
import FastImage from 'react-native-fast-image'
import { QueueControls } from './QueueControls'
import { TracksList } from './TracksList'

export const PlaylistTracksList = ({ playlist }: { playlist: Playlist }) => {
	const search = useNavigationSearch({
		searchBarOptions: {
			hideWhenScrolling: true,
			placeholder: 'Find in playlist',
		},
	})

	const filteredPlaylistTracks = useMemo(() => {
		return playlist.tracks.filter(trackTitleFilter(search))
	}, [playlist.tracks, search])

	return (
		<TracksList
			id={generateTracksListId(playlist.name, search)}
			scrollEnabled={false}
			hideQueueControls={true}
			ListHeaderComponentStyle={styles.playlistHeaderContainer}
			ListHeaderComponent={
				<View>
					<View style={styles.artworkImageContainer}>
						<FastImage
							source={{
								uri: playlist.artworkPreview,
								priority: FastImage.priority.high,
							}}
							style={styles.artworkImage}
						/>
					</View>

					<Text numberOfLines={1} style={styles.playlistNameText}>
						{playlist.name}
					</Text>

					{search.length === 0 && (
						<QueueControls style={{ paddingTop: 24 }} tracks={playlist.tracks} />
					)}
				</View>
			}
			tracks={filteredPlaylistTracks}
		/>
	)
}

const styles = StyleSheet.create({
	playlistHeaderContainer: {
		flex: 1,
		marginBottom: 32,
	},
	artworkImageContainer: {
		flexDirection: 'row',
		justifyContent: 'center',
		height: 300,
	},
	artworkImage: {
		width: '85%',
		height: '100%',
		resizeMode: 'cover',
		borderRadius: 12,
	},
	playlistNameText: {
		...defaultStyles.text,
		marginTop: 22,
		textAlign: 'center',
		fontSize: fontSize.lg,
		fontWeight: '800',
	},
})
</file>

<file path="src/components/QueueControls.tsx">
import { colors } from '@/constants/tokens'
import { defaultStyles } from '@/styles'
import { Ionicons } from '@expo/vector-icons'
import { StyleSheet, Text, View, ViewProps } from 'react-native'
import { TouchableOpacity } from 'react-native-gesture-handler'
import TrackPlayer, { Track } from 'react-native-track-player'

type QueueControlsProps = {
	tracks: Track[]
} & ViewProps

export const QueueControls = ({ tracks, style, ...viewProps }: QueueControlsProps) => {
	const handlePlay = async () => {
		await TrackPlayer.setQueue(tracks)
		await TrackPlayer.play()
	}

	const handleShufflePlay = async () => {
		const shuffledTracks = [...tracks].sort(() => Math.random() - 0.5)

		await TrackPlayer.setQueue(shuffledTracks)
		await TrackPlayer.play()
	}

	return (
		<View style={[{ flexDirection: 'row', columnGap: 16 }, style]} {...viewProps}>
			{/* Play button */}
			<View style={{ flex: 1 }}>
				<TouchableOpacity onPress={handlePlay} activeOpacity={0.8} style={styles.button}>
					<Ionicons name="play" size={22} color={colors.primary} />

					<Text style={styles.buttonText}>Play</Text>
				</TouchableOpacity>
			</View>

			{/* Shuffle button */}
			<View style={{ flex: 1 }}>
				<TouchableOpacity onPress={handleShufflePlay} activeOpacity={0.8} style={styles.button}>
					<Ionicons name={'shuffle-sharp'} size={24} color={colors.primary} />

					<Text style={styles.buttonText}>Shuffle</Text>
				</TouchableOpacity>
			</View>
		</View>
	)
}

const styles = StyleSheet.create({
	button: {
		padding: 12,
		backgroundColor: 'rgba(47, 47, 47, 0.5)',
		borderRadius: 8,
		flexDirection: 'row',
		justifyContent: 'center',
		alignItems: 'center',
		columnGap: 8,
	},
	buttonText: {
		...defaultStyles.text,
		color: colors.primary,
		fontWeight: '600',
		fontSize: 18,
		textAlign: 'center',
	},
})
</file>

<file path="src/components/TrackShortcutsMenu.tsx">
import { useFavorites } from '@/store/library'
import { useQueue } from '@/store/queue'
import { MenuView } from '@react-native-menu/menu'
import { useRouter } from 'expo-router'
import { PropsWithChildren } from 'react'
import TrackPlayer, { Track } from 'react-native-track-player'
import { match } from 'ts-pattern'

type TrackShortcutsMenuProps = PropsWithChildren<{ track: Track }>

export const TrackShortcutsMenu = ({ track, children }: TrackShortcutsMenuProps) => {
	const router = useRouter()

	const isFavorite = track.rating === 1

	const { toggleTrackFavorite } = useFavorites()
	const { activeQueueId } = useQueue()

	const handlePressAction = (id: string) => {
		match(id)
			.with('add-to-favorites', async () => {
				toggleTrackFavorite(track)

				// if the tracks is in the favorite queue, add it
				if (activeQueueId?.startsWith('favorites')) {
					await TrackPlayer.add(track)
				}
			})
			.with('remove-from-favorites', async () => {
				toggleTrackFavorite(track)

				// if the track is in the favorites queue, we need to remove it
				if (activeQueueId?.startsWith('favorites')) {
					const queue = await TrackPlayer.getQueue()

					const trackToRemove = queue.findIndex((queueTrack) => queueTrack.url === track.url)

					await TrackPlayer.remove(trackToRemove)
				}
			})
			.with('add-to-playlist', () => {
				// it opens the addToPlaylist modal
				// @ts-expect-error it should work
				router.push({ pathname: '(modals)/addToPlaylist', params: { trackUrl: track.url } })
			})
			.otherwise(() => console.warn(`Unknown menu action ${id}`))
	}

	return (
		<MenuView
			onPressAction={({ nativeEvent: { event } }) => handlePressAction(event)}
			actions={[
				{
					id: isFavorite ? 'remove-from-favorites' : 'add-to-favorites',
					title: isFavorite ? 'Remove from favorites' : 'Add to favorites',
					image: isFavorite ? 'star.fill' : 'star',
				},
				{
					id: 'add-to-playlist',
					title: 'Add to playlist',
					image: 'plus',
				},
			]}
		>
			{children}
		</MenuView>
	)
}
</file>

<file path="src/components/TracksList.tsx">
import { TracksListItem } from '@/components/TracksListItem'
import { unknownTrackImageUri } from '@/constants/images'
import { useQueue } from '@/store/queue'
import { utilsStyles } from '@/styles'
import { useRef } from 'react'
import { FlatList, FlatListProps, Text, View } from 'react-native'
import FastImage from 'react-native-fast-image'
import TrackPlayer, { Track } from 'react-native-track-player'
import { QueueControls } from './QueueControls'

export type TracksListProps = Partial<FlatListProps<Track>> & {
	id: string
	tracks: Track[]
	hideQueueControls?: boolean
}

const ItemDivider = () => (
	<View style={{ ...utilsStyles.itemSeparator, marginVertical: 9, marginLeft: 60 }} />
)

export const TracksList = ({
	id,
	tracks,
	hideQueueControls = false,
	...flatlistProps
}: TracksListProps) => {
	const queueOffset = useRef(0)
	const { activeQueueId, setActiveQueueId } = useQueue()

	const handleTrackSelect = async (selectedTrack: Track) => {
		const trackIndex = tracks.findIndex((track) => track.url === selectedTrack.url)

		if (trackIndex === -1) return

		const isChangingQueue = id !== activeQueueId

		if (isChangingQueue) {
			const beforeTracks = tracks.slice(0, trackIndex)
			const afterTracks = tracks.slice(trackIndex + 1)

			await TrackPlayer.reset()

			// we construct the new queue
			await TrackPlayer.add(selectedTrack)
			await TrackPlayer.add(afterTracks)
			await TrackPlayer.add(beforeTracks)

			await TrackPlayer.play()

			queueOffset.current = trackIndex
			setActiveQueueId(id)
		} else {
			const nextTrackIndex =
				trackIndex - queueOffset.current < 0
					? tracks.length + trackIndex - queueOffset.current
					: trackIndex - queueOffset.current

			await TrackPlayer.skip(nextTrackIndex)
			TrackPlayer.play()
		}
	}

	return (
		<FlatList
			data={tracks}
			contentContainerStyle={{ paddingTop: 10, paddingBottom: 128 }}
			ListHeaderComponent={
				!hideQueueControls ? (
					<QueueControls tracks={tracks} style={{ paddingBottom: 20 }} />
				) : undefined
			}
			ListFooterComponent={ItemDivider}
			ItemSeparatorComponent={ItemDivider}
			ListEmptyComponent={
				<View>
					<Text style={utilsStyles.emptyContentText}>No songs found</Text>

					<FastImage
						source={{ uri: unknownTrackImageUri, priority: FastImage.priority.normal }}
						style={utilsStyles.emptyContentImage}
					/>
				</View>
			}
			renderItem={({ item: track }) => (
				<TracksListItem track={track} onTrackSelect={handleTrackSelect} />
			)}
			{...flatlistProps}
		/>
	)
}
</file>

<file path="src/components/TracksListItem.tsx">
import { TrackShortcutsMenu } from '@/components/TrackShortcutsMenu'
import { StopPropagation } from '@/components/utils/StopPropagation'
import { unknownTrackImageUri } from '@/constants/images'
import { colors, fontSize } from '@/constants/tokens'
import { defaultStyles } from '@/styles'
import { Entypo, Ionicons } from '@expo/vector-icons'
import { StyleSheet, Text, TouchableHighlight, View } from 'react-native'
import FastImage from 'react-native-fast-image'
import LoaderKit from 'react-native-loader-kit'
import { Track, useActiveTrack, useIsPlaying } from 'react-native-track-player'

export type TracksListItemProps = {
	track: Track
	onTrackSelect: (track: Track) => void
}

export const TracksListItem = ({
	track,
	onTrackSelect: handleTrackSelect,
}: TracksListItemProps) => {
	const { playing } = useIsPlaying()

	const isActiveTrack = useActiveTrack()?.url === track.url

	return (
		<TouchableHighlight onPress={() => handleTrackSelect(track)}>
			<View style={styles.trackItemContainer}>
				<View>
					<FastImage
						source={{
							uri: track.artwork ?? unknownTrackImageUri,
							priority: FastImage.priority.normal,
						}}
						style={{
							...styles.trackArtworkImage,
							opacity: isActiveTrack ? 0.6 : 1,
						}}
					/>

					{isActiveTrack &&
						(playing ? (
							<LoaderKit
								style={styles.trackPlayingIconIndicator}
								name="LineScaleParty"
								color={colors.icon}
							/>
						) : (
							<Ionicons
								style={styles.trackPausedIndicator}
								name="play"
								size={24}
								color={colors.icon}
							/>
						))}
				</View>

				<View
					style={{
						flex: 1,
						flexDirection: 'row',
						justifyContent: 'space-between',
						alignItems: 'center',
					}}
				>
					{/* Track title + artist */}
					<View style={{ width: '100%' }}>
						<Text
							numberOfLines={1}
							style={{
								...styles.trackTitleText,
								color: isActiveTrack ? colors.primary : colors.text,
							}}
						>
							{track.title}
						</Text>

						{track.artist && (
							<Text numberOfLines={1} style={styles.trackArtistText}>
								{track.artist}
							</Text>
						)}
					</View>

					<StopPropagation>
						<TrackShortcutsMenu track={track}>
							<Entypo name="dots-three-horizontal" size={18} color={colors.icon} />
						</TrackShortcutsMenu>
					</StopPropagation>
				</View>
			</View>
		</TouchableHighlight>
	)
}

const styles = StyleSheet.create({
	trackItemContainer: {
		flexDirection: 'row',
		columnGap: 14,
		alignItems: 'center',
		paddingRight: 20,
	},
	trackPlayingIconIndicator: {
		position: 'absolute',
		top: 18,
		left: 16,
		width: 16,
		height: 16,
	},
	trackPausedIndicator: {
		position: 'absolute',
		top: 14,
		left: 14,
	},
	trackArtworkImage: {
		borderRadius: 8,
		width: 50,
		height: 50,
	},
	trackTitleText: {
		...defaultStyles.text,
		fontSize: fontSize.sm,
		fontWeight: '600',
		maxWidth: '90%',
	},
	trackArtistText: {
		...defaultStyles.text,
		color: colors.textMuted,
		fontSize: 14,
		marginTop: 4,
	},
})
</file>

<file path="src/constants/images.ts">
import unknownArtistImage from '@/assets/unknown_artist.png'
import unknownTrackImage from '@/assets/unknown_track.png'
import { Image } from 'react-native'

export const unknownTrackImageUri = Image.resolveAssetSource(unknownTrackImage).uri
export const unknownArtistImageUri = Image.resolveAssetSource(unknownArtistImage).uri
</file>

<file path="src/constants/layout.ts">
import { NativeStackNavigationOptions } from '@react-navigation/native-stack'
import { colors } from './tokens'

export const StackScreenWithSearchBar: NativeStackNavigationOptions = {
	headerLargeTitle: true,
	headerLargeStyle: {
		backgroundColor: colors.background,
	},
	headerLargeTitleStyle: {
		color: colors.text,
	},
	headerTintColor: colors.text,
	headerTransparent: true,
	headerBlurEffect: 'prominent',
	headerShadowVisible: false,
}
</file>

<file path="src/constants/playbackService.ts">
import TrackPlayer, { Event } from 'react-native-track-player'

export const playbackService = async () => {
	TrackPlayer.addEventListener(Event.RemotePlay, () => {
		TrackPlayer.play()
	})

	TrackPlayer.addEventListener(Event.RemotePause, () => {
		TrackPlayer.pause()
	})

	TrackPlayer.addEventListener(Event.RemoteStop, () => {
		TrackPlayer.stop()
	})

	TrackPlayer.addEventListener(Event.RemoteNext, () => {
		TrackPlayer.skipToNext()
	})

	TrackPlayer.addEventListener(Event.RemotePrevious, () => {
		TrackPlayer.skipToPrevious()
	})
}
</file>

<file path="src/constants/tokens.ts">
export const colors = {
	primary: '#fc3c44',
	background: '#000',
	text: '#fff',
	textMuted: '#9ca3af',
	icon: '#fff',
	maximumTrackTintColor: 'rgba(255,255,255,0.4)',
	minimumTrackTintColor: 'rgba(255,255,255,0.6)',
}

export const fontSize = {
	xs: 12,
	sm: 16,
	base: 20,
	lg: 24,
}

export const screenPadding = {
	horizontal: 24,
}
</file>

<file path="src/helpers/filter.ts">
import { Artist, Playlist } from './types'

export const trackTitleFilter = (title: string) => (track: any) =>
	track.title?.toLowerCase().includes(title.toLowerCase())

export const artistNameFilter = (name: string) => (artist: Artist) =>
	artist.name.toLowerCase().includes(name.toLowerCase())

export const playlistNameFilter = (name: string) => (playlist: Playlist) =>
	playlist.name.toLowerCase().includes(name.toLowerCase())
</file>

<file path="src/helpers/miscellaneous.ts">
export const formatSecondsToMinutes = (seconds: number) => {
	const minutes = Math.floor(seconds / 60)
	const remainingSeconds = Math.floor(seconds % 60)

	const formattedMinutes = String(minutes).padStart(2, '0')
	const formattedSeconds = String(remainingSeconds).padStart(2, '0')

	return `${formattedMinutes}:${formattedSeconds}`
}

export const generateTracksListId = (trackListName: string, search?: string) => {
	return `${trackListName}${`-${search}` || ''}`
}
</file>

<file path="src/helpers/types.ts">
import { Track } from 'react-native-track-player'

export type Playlist = {
	name: string
	tracks: Track[]
	artworkPreview: string
}

export type Artist = {
	name: string
	tracks: Track[]
}

export type TrackWithPlaylist = Track & { playlist?: string[] }
</file>

<file path="src/hooks/useLastActiveTrack.tsx">
import { useEffect, useState } from 'react'
import { Track, useActiveTrack } from 'react-native-track-player'

export const useLastActiveTrack = () => {
	const activeTrack = useActiveTrack()
	const [lastActiveTrack, setLastActiveTrack] = useState<Track>()

	useEffect(() => {
		if (!activeTrack) return

		setLastActiveTrack(activeTrack)
	}, [activeTrack])

	return lastActiveTrack
}
</file>

<file path="src/hooks/useLogTrackPlayerState.tsx">
import { Event, useTrackPlayerEvents } from 'react-native-track-player'

const events = [Event.PlaybackState, Event.PlaybackError, Event.PlaybackActiveTrackChanged]

export const useLogTrackPlayerState = () => {
	useTrackPlayerEvents(events, async (event) => {
		if (event.type === Event.PlaybackError) {
			console.warn('An error occurred: ', event)
		}

		if (event.type === Event.PlaybackState) {
			console.log('Playback state: ', event.state)
		}

		if (event.type === Event.PlaybackActiveTrackChanged) {
			console.log('Track changed', event.index)
		}
	})
}
</file>

<file path="src/hooks/useNavigationSearch.tsx">
import { colors } from '@/constants/tokens'
import { useNavigation } from 'expo-router'
import { useLayoutEffect, useState } from 'react'
import { SearchBarProps } from 'react-native-screens'

const defaultSearchOptions: SearchBarProps = {
	tintColor: colors.primary,
	hideWhenScrolling: false,
}

export const useNavigationSearch = ({
	searchBarOptions,
}: {
	searchBarOptions?: SearchBarProps
}) => {
	const [search, setSearch] = useState('')

	const navigation = useNavigation()

	const handleOnChangeText: SearchBarProps['onChangeText'] = ({ nativeEvent: { text } }) => {
		setSearch(text)
	}

	useLayoutEffect(() => {
		navigation.setOptions({
			headerSearchBarOptions: {
				...defaultSearchOptions,
				...searchBarOptions,
				onChangeText: handleOnChangeText,
			},
		})
	}, [navigation, searchBarOptions])

	return search
}
</file>

<file path="src/hooks/usePlayerBackground.tsx">
import { colors } from '@/constants/tokens'
import { useEffect, useState } from 'react'
import { getColors } from 'react-native-image-colors'
import { IOSImageColors } from 'react-native-image-colors/build/types'

export const usePlayerBackground = (imageUrl: string) => {
	const [imageColors, setImageColors] = useState<IOSImageColors | null>(null)

	useEffect(() => {
		getColors(imageUrl, {
			fallback: colors.background,
			cache: true,
			key: imageUrl,
		}).then((colors) => setImageColors(colors as IOSImageColors))
	}, [imageUrl])

	return { imageColors }
}
</file>

<file path="src/hooks/useSetupTrackPlayer.tsx">
import { useEffect, useRef } from 'react'
import TrackPlayer, { Capability, RatingType, RepeatMode } from 'react-native-track-player'

const setupPlayer = async () => {
	await TrackPlayer.setupPlayer({
		maxCacheSize: 1024 * 10,
	})

	await TrackPlayer.updateOptions({
		ratingType: RatingType.Heart,
		capabilities: [
			Capability.Play,
			Capability.Pause,
			Capability.SkipToNext,
			Capability.SkipToPrevious,
			Capability.Stop,
		],
	})

	await TrackPlayer.setVolume(0.3) // not too loud
	await TrackPlayer.setRepeatMode(RepeatMode.Queue)
}

export const useSetupTrackPlayer = ({ onLoad }: { onLoad?: () => void }) => {
	const isInitialized = useRef(false)

	useEffect(() => {
		if (isInitialized.current) return

		setupPlayer()
			.then(() => {
				isInitialized.current = true
				onLoad?.()
			})
			.catch((error) => {
				isInitialized.current = false
				console.error(error)
			})
	}, [onLoad])
}
</file>

<file path="src/hooks/useTrackPlayerFavorite.tsx">
import { useFavorites } from '@/store/library'
import { useCallback } from 'react'
import TrackPlayer, { useActiveTrack } from 'react-native-track-player'

export const useTrackPlayerFavorite = () => {
	const activeTrack = useActiveTrack()

	const { favorites, toggleTrackFavorite } = useFavorites()

	const isFavorite = favorites.find((track) => track.url === activeTrack?.url)?.rating === 1

	// we're updating both the track player internal state and application internal state
	const toggleFavorite = useCallback(async () => {
		const id = await TrackPlayer.getActiveTrackIndex()

		if (id == null) return

		// update track player internal state
		await TrackPlayer.updateMetadataForTrack(id, {
			rating: isFavorite ? 0 : 1,
		})

		// update the app internal state
		if (activeTrack) {
			toggleTrackFavorite(activeTrack)
		}
	}, [isFavorite, toggleTrackFavorite, activeTrack])

	return { isFavorite, toggleFavorite }
}
</file>

<file path="src/hooks/useTrackPlayerRepeatMode.tsx">
import { useCallback, useEffect, useState } from 'react'
import TrackPlayer, { RepeatMode } from 'react-native-track-player'

export const useTrackPlayerRepeatMode = () => {
	const [repeatMode, setRepeatMode] = useState<RepeatMode>()

	const changeRepeatMode = useCallback(async (repeatMode: RepeatMode) => {
		await TrackPlayer.setRepeatMode(repeatMode)

		setRepeatMode(repeatMode)
	}, [])

	useEffect(() => {
		TrackPlayer.getRepeatMode().then(setRepeatMode)
	}, [])

	return { repeatMode, changeRepeatMode }
}
</file>

<file path="src/hooks/useTrackPlayerVolume.tsx">
import { useCallback, useEffect, useState } from 'react'
import TrackPlayer from 'react-native-track-player'

export const useTrackPlayerVolume = () => {
	const [volume, setVolume] = useState<number | undefined>(undefined)

	const getVolume = useCallback(async () => {
		const currentVolume = await TrackPlayer.getVolume()
		setVolume(currentVolume)
	}, [])

	const updateVolume = useCallback(async (newVolume: number) => {
		if (newVolume < 0 || newVolume > 1) return

		setVolume(newVolume)

		await TrackPlayer.setVolume(newVolume)
	}, [])

	useEffect(() => {
		getVolume()
	}, [getVolume])

	return { volume, updateVolume }
}
</file>

<file path="src/store/library.tsx">
import library from '@/assets/data/library.json'
import { unknownTrackImageUri } from '@/constants/images'
import { Artist, Playlist, TrackWithPlaylist } from '@/helpers/types'
import { Track } from 'react-native-track-player'
import { create } from 'zustand'

interface LibraryState {
	tracks: TrackWithPlaylist[]
	toggleTrackFavorite: (track: Track) => void
	addToPlaylist: (track: Track, playlistName: string) => void
}

export const useLibraryStore = create<LibraryState>()((set) => ({
	tracks: library,
	toggleTrackFavorite: (track) =>
		set((state) => ({
			tracks: state.tracks.map((currentTrack) => {
				if (currentTrack.url === track.url) {
					return {
						...currentTrack,
						rating: currentTrack.rating === 1 ? 0 : 1,
					}
				}

				return currentTrack
			}),
		})),
	addToPlaylist: (track, playlistName) =>
		set((state) => ({
			tracks: state.tracks.map((currentTrack) => {
				if (currentTrack.url === track.url) {
					return {
						...currentTrack,
						playlist: [...(currentTrack.playlist ?? []), playlistName],
					}
				}

				return currentTrack
			}),
		})),
}))

export const useTracks = () => useLibraryStore((state) => state.tracks)

export const useFavorites = () => {
	const favorites = useLibraryStore((state) => state.tracks.filter((track) => track.rating === 1))
	const toggleTrackFavorite = useLibraryStore((state) => state.toggleTrackFavorite)

	return {
		favorites,
		toggleTrackFavorite,
	}
}

export const useArtists = () =>
	useLibraryStore((state) => {
		return state.tracks.reduce((acc, track) => {
			const existingArtist = acc.find((artist) => artist.name === track.artist)

			if (existingArtist) {
				existingArtist.tracks.push(track)
			} else {
				acc.push({
					name: track.artist ?? 'Unknown',
					tracks: [track],
				})
			}

			return acc
		}, [] as Artist[])
	})

export const usePlaylists = () => {
	const playlists = useLibraryStore((state) => {
		return state.tracks.reduce((acc, track) => {
			track.playlist?.forEach((playlistName) => {
				const existingPlaylist = acc.find((playlist) => playlist.name === playlistName)

				if (existingPlaylist) {
					existingPlaylist.tracks.push(track)
				} else {
					acc.push({
						name: playlistName,
						tracks: [track],
						artworkPreview: track.artwork ?? unknownTrackImageUri,
					})
				}
			})

			return acc
		}, [] as Playlist[])
	})

	const addToPlaylist = useLibraryStore((state) => state.addToPlaylist)

	return { playlists, addToPlaylist }
}
</file>

<file path="src/store/queue.tsx">
import { create } from 'zustand'

type QueueStore = {
	activeQueueId: string | null
	setActiveQueueId: (id: string) => void
}

export const useQueueStore = create<QueueStore>()((set) => ({
	activeQueueId: null,
	setActiveQueueId: (id) => set({ activeQueueId: id }),
}))

export const useQueue = () => useQueueStore((state) => state)
</file>

<file path="src/styles/index.ts">
import { colors, fontSize } from '@/constants/tokens'
import { StyleSheet } from 'react-native'

export const defaultStyles = StyleSheet.create({
	container: {
		flex: 1,
		backgroundColor: colors.background,
	},
	text: {
		fontSize: fontSize.base,
		color: colors.text,
	},
})

export const utilsStyles = StyleSheet.create({
	centeredRow: {
		flexDirection: 'row',
		justifyContent: 'center',
		alignItems: 'center',
	},
	slider: {
		height: 7,
		borderRadius: 16,
	},
	itemSeparator: {
		borderColor: colors.textMuted,
		borderWidth: StyleSheet.hairlineWidth,
		opacity: 0.3,
	},
	emptyContentText: {
		...defaultStyles.text,
		color: colors.textMuted,
		textAlign: 'center',
		marginTop: 20,
	},
	emptyContentImage: {
		width: 200,
		height: 200,
		alignSelf: 'center',
		marginTop: 40,
		opacity: 0.3,
	},
})
</file>

<file path="src/types/index.d.ts">
declare module '*.png'
declare module '*.jpg'
</file>

<file path=".eslintignore">
# Ignore all node_modules

**/node_modules/**

# Autogenerated files

**/.expo/**
**/.next/**
**/__generated__/**
**/build/**

# Git submodules

/react-native-lab/react-native/**
/docs/react-native-website/**

# Other

**/android/**
**/assets/**
**/bin/**
**/fastlane/**
**/ios/**
**/kotlin/providers/**
**/vendored/**
/docs/public/static/**
</file>

<file path=".eslintrc.json">
{
	"root": true,
	"env": {
		"node": true,
		"es2021": true
	},
	"extends": [
		"eslint:recommended",
		"plugin:@typescript-eslint/recommended",
		"plugin:react/recommended",
		"plugin:react-hooks/recommended"
	],
	"parser": "@typescript-eslint/parser",
	"parserOptions": {
		"ecmaFeatures": {
			"jsx": true
		},
		"ecmaVersion": 12,
		"sourceType": "module"
	},
	"plugins": ["@typescript-eslint", "react", "react-hooks"],
	"rules": {
		"import/order": "off",
		"@typescript-eslint/no-explicit-any": "off",
		"react/react-in-jsx-scope": "off",
		"react/display-name": "off",
		"@typescript-eslint/no-unused-vars": "warn"
	}
}
</file>

<file path=".gitignore">
# Learn more https://docs.github.com/en/get-started/getting-started-with-git/ignoring-files

# dependencies
node_modules/

# Expo
.expo/
dist/
web-build/

# Native
*.orig.*
*.jks
*.p8
*.p12
*.key
*.mobileprovision

# Metro
.metro-health-check*

# debug
npm-debug.*
yarn-debug.*
yarn-error.*

# macOS
.DS_Store
*.pem

# local env files
.env*.local

# typescript
*.tsbuildinfo

# @generated expo-cli sync-2b81b286409207a5da26e14c78851eb30d8ccbdb
# The following patterns were generated by expo-cli

expo-env.d.ts
# @end expo-cli
</file>

<file path=".prettierignore">
node_modules/
ios/
android/
assets/
.expo/
</file>

<file path=".prettierrc">
{
	"singleQuote": true,
	"semi": false,
	"bracketSpacing": true,
	"trailingComma": "all",
	"printWidth": 100,
	"tabWidth": 2,
	"useTabs": true,
	"endOfLine": "lf"
}
</file>

<file path="app.json">
{
	"expo": {
		"name": "music-player",
		"slug": "music-player",
		"version": "1.0.0",
		"orientation": "portrait",
		"icon": "./assets/icon.png",
		"userInterfaceStyle": "dark",
		"scheme": "music-player",
		"splash": {
			"image": "./assets/splash.png",
			"resizeMode": "contain",
			"backgroundColor": "#000"
		},
		"assetBundlePatterns": ["**/*"],
		"ios": {
			"supportsTablet": true,
			"bundleIdentifier": "com.music.player",
			"infoPlist": {
				"UIBackgroundModes": ["audio"]
			}
		},
		"android": {
			"adaptiveIcon": {
				"foregroundImage": "./assets/adaptive-icon.png",
				"backgroundColor": "#000"
			}
		},
		"web": {
			"favicon": "./assets/favicon.png"
		},
		"plugins": ["expo-router"],
		"experiments": {
			"typedRoutes": true,
			"tsconfigPaths": true
		}
	}
}
</file>

<file path="babel.config.js">
module.exports = function (api) {
	api.cache(true)
	return {
		presets: ['babel-preset-expo'],
	}
}
</file>

<file path="LICENSE.md">
MIT License

Copyright (c) 2024 gionatha

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</file>

<file path="package.json">
{
	"name": "music-player",
	"version": "1.0.0",
	"main": "expo-router/entry",
	"scripts": {
		"android": "expo run:android",
		"ios": "expo run:ios",
		"lint": "eslint ."
	},
	"dependencies": {
		"@react-native-menu/menu": "^0.9.1",
		"expo": "~50.0.14",
		"expo-blur": "~12.9.2",
		"expo-constants": "~15.4.5",
		"expo-dev-client": "~3.3.11",
		"expo-linear-gradient": "~12.7.2",
		"expo-linking": "~6.2.2",
		"expo-router": "~3.4.8",
		"expo-status-bar": "~1.11.1",
		"react": "18.2.0",
		"react-native": "0.73.6",
		"react-native-awesome-slider": "^2.5.1",
		"react-native-fast-image": "^8.6.3",
		"react-native-gesture-handler": "~2.14.0",
		"react-native-image-colors": "^2.4.0",
		"react-native-loader-kit": "^2.0.8",
		"react-native-reanimated": "~3.6.2",
		"react-native-safe-area-context": "4.8.2",
		"react-native-screens": "~3.29.0",
		"react-native-track-player": "^4.1.1",
		"ts-pattern": "^5.0.8",
		"zustand": "^4.5.2"
	},
	"devDependencies": {
		"@babel/core": "^7.20.0",
		"@types/react": "~18.2.45",
		"@typescript-eslint/eslint-plugin": "^7.4.0",
		"@typescript-eslint/parser": "^7.4.0",
		"eslint": "^8.57.0",
		"eslint-plugin-react": "^7.34.1",
		"eslint-plugin-react-hooks": "^4.6.0",
		"prettier": "^3.2.5",
		"typescript": "^5.1.3"
	},
	"private": true
}
</file>

<file path="README.md">
# Music Player (native)

A native music player application built with Expo, React Native, Typescript and Zustand. Design is inspired by Apple Music app

You can follow along the entire development of this project here ğŸ‘‡
[![Music PLayer](https://github.com/gionathas/music-player/assets/16454253/909c51e2-03f1-4fc8-94e6-56745f67fed8)](https://youtu.be/9CElrkFwiBU?si=PFgwCFDulxJJD2f4)

## Installation

```bash
yarn install
```

## Run IOS

```bash
npx expo run:ios
```
</file>

<file path="tsconfig.json">
{
	"extends": "expo/tsconfig.base",
	"compilerOptions": {
		"strict": true,
		"target": "ES6",
		"module": "commonjs",
		"moduleResolution": "Node",
		"jsx": "react-native",
		"lib": ["dom", "esnext"],
		"noEmit": true,
		"allowSyntheticDefaultImports": true,
		"skipLibCheck": true,
		"resolveJsonModule": true,
		"baseUrl": ".",
		"paths": {
			"@/*": ["./src/*"],
			"@/assets/*": ["./assets/*"]
		}
	},
	"include": ["**/*.ts", "**/*.tsx", ".expo/types/**/*.ts", "expo-env.d.ts"],
	"exclude": ["node_modules"]
}
</file>

</files>
